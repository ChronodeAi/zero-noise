(()=>{var a={};a.id=413,a.ids=[413],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},643:a=>{"use strict";a.exports=require("node:perf_hooks")},1886:a=>{"use strict";a.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},3070:a=>{"use strict";a.exports=Math.max},3135:a=>{"use strict";a.exports=Object.getOwnPropertyDescriptor},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4573:a=>{"use strict";a.exports=require("node:buffer")},7730:a=>{"use strict";a.exports=SyntaxError},7975:(a,b,c)=>{"use strict";c.d(b,{z:()=>e});let d=require("@prisma/client"),e=globalThis.prisma??new d.PrismaClient({log:["error"]})},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11223:(a,b,c)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?a.exports=c(36115):a.exports=c(90007)},11997:a=>{"use strict";a.exports=require("punycode")},12412:a=>{"use strict";a.exports=require("assert")},13179:a=>{a.exports=function(a){var b="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;b?b(a):setTimeout(a,0)}},14629:(a,b,c)=>{var d;a.exports=function(){if(!d){try{d=c(11223)("follow-redirects")}catch(a){}"function"!=typeof d&&(d=function(){})}d.apply(null,arguments)}},16698:a=>{"use strict";a.exports=require("node:async_hooks")},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19887:(a,b,c)=>{"use strict";var d=c(42877);a.exports=function(a){return d(a)||0===a?a:a<0?-1:1}},20694:(a,b,c)=>{var d=c(54457),e=c(72350),f=c(81702);function g(a,b){return a<b?-1:+(a>b)}a.exports=function(a,b,c,g){var h=e(a,c);return d(a,b,h,function c(e,f){return e?void g(e,f):(h.index++,h.index<(h.keyedList||a).length)?void d(a,b,h,c):void g(null,h.results)}),f.bind(h,g)},a.exports.ascending=g,a.exports.descending=function(a,b){return -1*g(a,b)}},21820:a=>{"use strict";a.exports=require("os")},22405:(a,b,c)=>{"use strict";let d,e=c(21820),f=c(83997),g=c(87202),{env:h}=process;function i(a){return 0!==a&&{level:a,hasBasic:!0,has256:a>=2,has16m:a>=3}}function j(a,b){if(0===d)return 0;if(g("color=16m")||g("color=full")||g("color=truecolor"))return 3;if(g("color=256"))return 2;if(a&&!b&&void 0===d)return 0;let c=d||0;if("dumb"===h.TERM)return c;if("win32"===process.platform){let a=e.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in h)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(a=>a in h)||"codeship"===h.CI_NAME?1:c;if("TEAMCITY_VERSION"in h)return+!!/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(h.TEAMCITY_VERSION);if("truecolor"===h.COLORTERM)return 3;if("TERM_PROGRAM"in h){let a=parseInt((h.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(h.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(h.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(h.TERM)||"COLORTERM"in h?1:c}g("no-color")||g("no-colors")||g("color=false")||g("color=never")?d=0:(g("color")||g("colors")||g("color=true")||g("color=always"))&&(d=1),"FORCE_COLOR"in h&&(d="true"===h.FORCE_COLOR?1:"false"===h.FORCE_COLOR?0:0===h.FORCE_COLOR.length?1:Math.min(parseInt(h.FORCE_COLOR,10),3)),a.exports={supportsColor:function(a){return i(j(a,a&&a.isTTY))},stdout:i(j(!0,f.isatty(1))),stderr:i(j(!0,f.isatty(2)))}},22549:a=>{"use strict";var b=Object.defineProperty||!1;if(b)try{b({},"a",{value:1})}catch(a){b=!1}a.exports=b},25425:a=>{"use strict";a.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},26982:(a,b,c)=>{"use strict";var d=c(79551).parse,e={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},f=String.prototype.endsWith||function(a){return a.length<=this.length&&-1!==this.indexOf(a,this.length-a.length)};function g(a){return process.env[a.toLowerCase()]||process.env[a.toUpperCase()]||""}b.getProxyForUrl=function(a){var b,c,h,i="string"==typeof a?d(a):a||{},j=i.protocol,k=i.host,l=i.port;if("string"!=typeof k||!k||"string"!=typeof j)return"";if(j=j.split(":",1)[0],b=k=k.replace(/:\d*$/,""),c=l=parseInt(l)||e[j]||0,!(!(h=(g("npm_config_no_proxy")||g("no_proxy")).toLowerCase())||"*"!==h&&h.split(/[,\s]/).every(function(a){if(!a)return!0;var d=a.match(/^(.+):(\d+)$/),e=d?d[1]:a,g=d?parseInt(d[2]):0;return!!g&&g!==c||(/^[.*]/.test(e)?("*"===e.charAt(0)&&(e=e.slice(1)),!f.call(b,e)):b!==e)})))return"";var m=g("npm_config_"+j+"_proxy")||g(j+"_proxy")||g("npm_config_proxy")||g("all_proxy");return m&&-1===m.indexOf("://")&&(m=j+"://"+m),m}},27910:a=>{"use strict";a.exports=require("stream")},28224:a=>{"use strict";a.exports=Math.round},28354:a=>{"use strict";a.exports=require("util")},29021:a=>{"use strict";a.exports=require("fs")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29926:a=>{"use strict";a.exports=Function.prototype.call},32467:a=>{"use strict";a.exports=require("node:http2")},33873:a=>{"use strict";a.exports=require("path")},34589:a=>{"use strict";a.exports=require("node:assert")},34604:a=>{"use strict";a.exports=RangeError},34646:a=>{function b(a){return Promise.resolve().then(()=>{var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b})}b.keys=()=>[],b.resolve=b,b.id=34646,a.exports=b},35401:(a,b,c)=>{"use strict";var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=a=>{throw TypeError(a)},s=(a,b,c)=>b.has(a)||r("Cannot "+c),u=(a,b,c)=>(s(a,b,"read from private field"),c?c.call(a):b.get(a)),v=(a,b,c)=>b.has(a)?r("Cannot add the same private member more than once"):b instanceof WeakSet?b.add(a):b.set(a,c),w=(a,b,c,d)=>(s(a,b,"write to private field"),d?d.call(a,c):b.set(a,c),c),x=(a,b,c)=>(s(a,b,"access private method"),c);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});var y="undefined"!=typeof document?document.currentScript:null,z={34:(a,b,c)=>{var d=c(4901);a.exports=function(a){return"object"==typeof a?null!==a:d(a)}},81:(a,b,c)=>{var d=c(9565),e=c(9306),f=c(8551),g=c(6823),h=c(851),i=TypeError;a.exports=function(a,b){var c=arguments.length<2?h(a):b;if(e(c))return f(d(c,a));throw new i(g(a)+" is not iterable")}},116:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(2652),g=c(9306),h=c(8551),i=c(1767),j=c(9539),k=c(4549)("find",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:k},{find:function(a){h(this);try{g(a)}catch(a){j(this,"throw",a)}if(k)return e(k,this,a);var b=i(this),c=0;return f(b,function(b,d){if(a(b,c++))return d(b)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},283:(a,b,c)=>{var d=c(9504),e=c(9039),f=c(4901),g=c(9297),h=c(3724),i=c(350).CONFIGURABLE,j=c(3706),k=c(1181),l=k.enforce,m=k.get,n=String,o=Object.defineProperty,p=d("".slice),q=d("".replace),r=d([].join),s=h&&!e(function(){return 8!==o(function(){},"length",{value:8}).length}),u=String(String).split("String"),v=a.exports=function(a,b,c){"Symbol("===p(n(b),0,7)&&(b="["+q(n(b),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),c&&c.getter&&(b="get "+b),c&&c.setter&&(b="set "+b),(!g(a,"name")||i&&a.name!==b)&&(h?o(a,"name",{value:b,configurable:!0}):a.name=b),s&&c&&g(c,"arity")&&a.length!==c.arity&&o(a,"length",{value:c.arity});try{c&&g(c,"constructor")&&c.constructor?h&&o(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch(a){}var d=l(a);return g(d,"source")||(d.source=r(u,"string"==typeof b?b:"")),a};Function.prototype.toString=v(function(){return f(this)&&m(this).source||j(this)},"toString")},350:(a,b,c)=>{var d=c(3724),e=c(9297),f=Function.prototype,g=d&&Object.getOwnPropertyDescriptor,h=e(f,"name"),i=h&&(!d||d&&g(f,"name").configurable);a.exports={EXISTS:h,PROPER:h&&"something"===(function(){}).name,CONFIGURABLE:i}},397:(a,b,c)=>{a.exports=c(7751)("document","documentElement")},421:a=>{a.exports={}},456:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(9504),g=c(4154),h=c(5169),i=f(1.1.toString),j=e.Uint8Array,k=!j||!j.prototype.toHex||!function(){try{return"ffffffffffffffff"===new j([255,255,255,255,255,255,255,255]).toHex()}catch(a){return!1}}();j&&d({target:"Uint8Array",proto:!0,forced:k},{toHex:function(){g(this),h(this.buffer);for(var a="",b=0,c=this.length;b<c;b++){var d=i(this[b],16);a+=1===d.length?"0"+d:d}return a}})},507:(a,b,c)=>{var d=c(9565);a.exports=function(a,b,c){for(var e,f,g=c?a:a.iterator,h=a.next;!(e=d(h,g)).done;)if(void 0!==(f=b(e.value)))return f}},531:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(9306),g=c(8551),h=c(1767),i=c(8646),j=c(9462),k=c(9539),l=c(6395),m=c(684),n=c(4549),o=!l&&!m("flatMap",function(){}),p=!l&&!o&&n("flatMap",TypeError),q=l||o||p,r=j(function(){for(var a,b,c=this.iterator,d=this.mapper;;){if(b=this.inner)try{if(!(a=g(e(b.next,b.iterator))).done)return a.value;this.inner=null}catch(a){k(c,"throw",a)}if(a=g(e(this.next,c)),this.done=!!a.done)return;try{this.inner=i(d(a.value,this.counter++),!1)}catch(a){k(c,"throw",a)}}});d({target:"Iterator",proto:!0,real:!0,forced:q},{flatMap:function(a){g(this);try{f(a)}catch(a){k(this,"throw",a)}return p?e(p,this,a):new r(h(this),{mapper:a,inner:null})}})},616:(a,b,c)=>{a.exports=!c(9039)(function(){var a=(function(){}).bind();return"function"!=typeof a||a.hasOwnProperty("prototype")})},655:(a,b,c)=>{var d=c(6955),e=String;a.exports=function(a){if("Symbol"===d(a))throw TypeError("Cannot convert a Symbol value to a string");return e(a)}},679:(a,b,c)=>{var d=c(1625),e=TypeError;a.exports=function(a,b){if(d(b,a))return a;throw new e("Incorrect invocation")}},684:a=>{a.exports=function(a,b){var c="function"==typeof Iterator&&Iterator.prototype[a];if(c)try{c.call({next:null},b).next()}catch(a){return!0}}},741:a=>{var b=Math.ceil,c=Math.floor;a.exports=Math.trunc||function(a){var d=+a;return(d>0?c:b)(d)}},757:(a,b,c)=>{var d=c(7751),e=c(4901),f=c(1625),g=c(7040),h=Object;a.exports=g?function(a){return"symbol"==typeof a}:function(a){var b=d("Symbol");return e(b)&&f(b.prototype,h(a))}},851:(a,b,c)=>{var d=c(6955),e=c(5966),f=c(4117),g=c(6269),h=c(8227)("iterator");a.exports=function(a){if(!f(a))return e(a,h)||e(a,"@@iterator")||g[d(a)]}},944:a=>{var b=TypeError;a.exports=function(a){var c=a&&a.alphabet;if(void 0===c||"base64"===c||"base64url"===c)return c||"base64";throw new b("Incorrect `alphabet` option")}},1072:(a,b,c)=>{var d=c(1828),e=c(8727);a.exports=Object.keys||function(a){return d(a,e)}},1103:a=>{a.exports=function(a){try{return{error:!1,value:a()}}catch(a){return{error:!0,value:a}}}},1108:(a,b,c)=>{var d=c(6955);a.exports=function(a){var b=d(a);return"BigInt64Array"===b||"BigUint64Array"===b}},1148:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(2652),g=c(9306),h=c(8551),i=c(1767),j=c(9539),k=c(4549)("every",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:k},{every:function(a){h(this);try{g(a)}catch(a){j(this,"throw",a)}if(k)return e(k,this,a);var b=i(this),c=0;return!f(b,function(b,d){if(!a(b,c++))return d()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:(a,b,c)=>{var d,e,f,g=c(8622),h=c(4576),i=c(34),j=c(6699),k=c(9297),l=c(7629),m=c(6119),n=c(421),o="Object already initialized",p=h.TypeError,q=h.WeakMap;if(g||l.state){var r=l.state||(l.state=new q);r.get=r.get,r.has=r.has,r.set=r.set,d=function(a,b){if(r.has(a))throw new p(o);return b.facade=a,r.set(a,b),b},e=function(a){return r.get(a)||{}},f=function(a){return r.has(a)}}else{var s=m("state");n[s]=!0,d=function(a,b){if(k(a,s))throw new p(o);return b.facade=a,j(a,s,b),b},e=function(a){return k(a,s)?a[s]:{}},f=function(a){return k(a,s)}}a.exports={set:d,get:e,has:f,enforce:function(a){return f(a)?e(a):d(a,{})},getterFor:function(a){return function(b){var c;if(!i(b)||(c=e(b)).type!==a)throw new p("Incompatible receiver, "+a+" required");return c}}}},1291:(a,b,c)=>{var d=c(741);a.exports=function(a){var b=+a;return b!=b||0===b?0:d(b)}},1385:(a,b,c)=>{var d=c(9539);a.exports=function(a,b,c){for(var e=a.length-1;e>=0;e--)if(void 0!==a[e])try{c=d(a[e].iterator,b,c)}catch(a){b="throw",c=a}if("throw"===b)throw c;return c}},1548:(a,b,c)=>{var d=c(4576),e=c(9039),f=c(9519),g=c(4215),h=d.structuredClone;a.exports=!!h&&!e(function(){if("DENO"===g&&f>92||"NODE"===g&&f>94||"BROWSER"===g&&f>97)return!1;var a=new ArrayBuffer(8),b=h(a,{transfer:[a]});return 0!==a.byteLength||8!==b.byteLength})},1549:(a,b,c)=>{c(6632)},1625:(a,b,c)=>{a.exports=c(9504)({}.isPrototypeOf)},1689:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(8745),g=c(7680),h=c(6043),i=c(9306),j=c(1103),k=e.Promise,l=!1;d({target:"Promise",stat:!0,forced:!k||!k.try||j(function(){k.try(function(a){l=8===a},8)}).error||!l},{try:function(a){var b=arguments.length>1?g(arguments,1):[],c=h.f(this),d=j(function(){return f(i(a),void 0,b)});return(d.error?c.reject:c.resolve)(d.value),c.promise}})},1698:(a,b,c)=>{var d=c(6518),e=c(4204),f=c(9835);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("union")||!f("union")},{union:e})},1701:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(9306),g=c(8551),h=c(1767),i=c(9462),j=c(6319),k=c(9539),l=c(684),m=c(4549),n=c(6395),o=!n&&!l("map",function(){}),p=!n&&!o&&m("map",TypeError),q=n||o||p,r=i(function(){var a=this.iterator,b=g(e(this.next,a));if(!(this.done=!!b.done))return j(a,this.mapper,[b.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:q},{map:function(a){g(this);try{f(a)}catch(a){k(this,"throw",a)}return p?e(p,this,a):new r(h(this),{mapper:a})}})},1767:a=>{a.exports=function(a){return{iterator:a,next:a.next,done:!1}}},1828:(a,b,c)=>{var d=c(9504),e=c(9297),f=c(5397),g=c(9617).indexOf,h=c(421),i=d([].push);a.exports=function(a,b){var c,d=f(a),j=0,k=[];for(c in d)!e(h,c)&&e(d,c)&&i(k,c);for(;b.length>j;)e(d,c=b[j++])&&(~g(k,c)||i(k,c));return k}},2106:(a,b,c)=>{var d=c(283),e=c(4913);a.exports=function(a,b,c){return c.get&&d(c.get,b,{getter:!0}),c.set&&d(c.set,b,{setter:!0}),e.f(a,b,c)}},2140:(a,b,c)=>{var d={};d[c(8227)("toStringTag")]="z",a.exports="[object z]"===String(d)},2195:(a,b,c)=>{var d=c(9504),e=d({}.toString),f=d("".slice);a.exports=function(a){return f(e(a),8,-1)}},2211:(a,b,c)=>{a.exports=!c(9039)(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype})},2303:(a,b,c)=>{var d=c(4576),e=c(9504),f=d.Uint8Array,g=d.SyntaxError,h=d.parseInt,i=Math.min,j=/[^\da-f]/i,k=e(j.exec),l=e("".slice);a.exports=function(a,b){var c=a.length;if(c%2!=0)throw new g("String should be an even number of characters");for(var d=b?i(b.length,c/2):c/2,e=b||new f(d),m=0,n=0;n<d;){var o=l(a,m,m+=2);if(k(j,o))throw new g("String should only contain hex characters");e[n++]=h(o,16)}return{bytes:e,read:m}}},2360:(a,b,c)=>{var d,e=c(8551),f=c(6801),g=c(8727),h=c(421),i=c(397),j=c(4055),k=c(6119),l="prototype",m="script",n=k("IE_PROTO"),o=function(){},p=function(a){return"<"+m+">"+a+"</"+m+">"},q=function(a){a.write(p("")),a.close();var b=a.parentWindow.Object;return a=null,b},r=function(){try{d=new ActiveXObject("htmlfile")}catch(a){}r="undefined"!=typeof document?document.domain&&d?q(d):(b=j("iframe"),c="java"+m+":",b.style.display="none",i.appendChild(b),b.src=String(c),(a=b.contentWindow.document).open(),a.write(p("document.F=Object")),a.close(),a.F):q(d);for(var a,b,c,e=g.length;e--;)delete r[l][g[e]];return r()};h[n]=!0,a.exports=Object.create||function(a,b){var c;return null!==a?(o[l]=e(a),c=new o,o[l]=null,c[n]=a):c=r(),void 0===b?c:f.f(c,b)}},2475:(a,b,c)=>{var d=c(6518),e=c(8527);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("isSupersetOf",function(a){return!a})},{isSupersetOf:e})},2489:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(9306),g=c(8551),h=c(1767),i=c(9462),j=c(6319),k=c(6395),l=c(9539),m=c(684),n=c(4549),o=!k&&!m("filter",function(){}),p=!k&&!o&&n("filter",TypeError),q=k||o||p,r=i(function(){for(var a,b,c=this.iterator,d=this.predicate,f=this.next;;){if(a=g(e(f,c)),this.done=!!a.done)return;if(j(c,d,[b=a.value,this.counter++],!0))return b}});d({target:"Iterator",proto:!0,real:!0,forced:q},{filter:function(a){g(this);try{f(a)}catch(a){l(this,"throw",a)}return p?e(p,this,a):new r(h(this),{predicate:a})}})},2529:a=>{a.exports=function(a,b){return{value:a,done:b}}},2603:(a,b,c)=>{var d=c(655);a.exports=function(a,b){return void 0===a?arguments.length<2?"":b:d(a)}},2652:(a,b,c)=>{var d=c(6080),e=c(9565),f=c(8551),g=c(6823),h=c(4209),i=c(6198),j=c(1625),k=c(81),l=c(851),m=c(9539),n=TypeError,o=function(a,b){this.stopped=a,this.result=b},p=o.prototype;a.exports=function(a,b,c){var q,r,s,u,v,w,x,y=c&&c.that,z=!(!c||!c.AS_ENTRIES),A=!(!c||!c.IS_RECORD),B=!(!c||!c.IS_ITERATOR),C=!(!c||!c.INTERRUPTED),D=d(b,y),E=function(a){return q&&m(q,"normal"),new o(!0,a)},F=function(a){return z?(f(a),C?D(a[0],a[1],E):D(a[0],a[1])):C?D(a,E):D(a)};if(A)q=a.iterator;else if(B)q=a;else{if(!(r=l(a)))throw new n(g(a)+" is not iterable");if(h(r)){for(s=0,u=i(a);u>s;s++)if((v=F(a[s]))&&j(p,v))return v;return new o(!1)}q=k(a,r)}for(w=A?a.next:q.next;!(x=e(w,q)).done;){try{v=F(x.value)}catch(a){m(q,"throw",a)}if("object"==typeof v&&v&&j(p,v))return v}return new o(!1)}},2777:(a,b,c)=>{var d=c(9565),e=c(34),f=c(757),g=c(5966),h=c(4270),i=c(8227),j=TypeError,k=i("toPrimitive");a.exports=function(a,b){if(!e(a)||f(a))return a;var c,i=g(a,k);if(i){if(void 0===b&&(b="default"),!e(c=d(i,a,b))||f(c))return c;throw new j("Can't convert object to primitive value")}return void 0===b&&(b="number"),h(a,b)}},2787:(a,b,c)=>{var d=c(9297),e=c(4901),f=c(8981),g=c(6119),h=c(2211),i=g("IE_PROTO"),j=Object,k=j.prototype;a.exports=h?j.getPrototypeOf:function(a){var b=f(a);if(d(b,i))return b[i];var c=b.constructor;return e(c)&&b instanceof c?c.prototype:b instanceof j?k:null}},2796:(a,b,c)=>{var d=c(9039),e=c(4901),f=/#|\.prototype\./,g=function(a,b){var c=i[h(a)];return c===k||c!==j&&(e(b)?d(b):!!b)},h=g.normalize=function(a){return String(a).replace(f,".").toLowerCase()},i=g.data={},j=g.NATIVE="N",k=g.POLYFILL="P";a.exports=g},2804:a=>{var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=b+"+/",d=b+"-_",e=function(a){for(var b={},c=0;c<64;c++)b[a.charAt(c)]=c;return b};a.exports={i2c:c,c2i:e(c),i2cUrl:d,c2iUrl:e(d)}},2812:a=>{var b=TypeError;a.exports=function(a,c){if(a<c)throw new b("Not enough arguments");return a}},2839:(a,b,c)=>{var d=c(4576).navigator,e=d&&d.userAgent;a.exports=e?String(e):""},2967:(a,b,c)=>{var d=c(6706),e=c(34),f=c(7750),g=c(3506);a.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,b=!1,c={};try{(a=d(Object.prototype,"__proto__","set"))(c,[]),b=c instanceof Array}catch(a){}return function(c,d){return f(c),g(d),e(c)&&(b?a(c,d):c.__proto__=d),c}}():void 0)},3068:(a,b,c)=>{var d=c(6518),e=c(9504),f=c(2652),g=RangeError,h=TypeError,i=1/0,j=Math.abs,k=Math.pow,l=e([].push),m=k(2,1023),n=k(2,53)-1,o=Number.MAX_VALUE,p=k(2,971),q={},r={},s={},u={},v={},w=function(a,b){var c=a+b;return{hi:c,lo:b-(c-a)}};d({target:"Math",stat:!0},{sumPrecise:function(a){var b=[],c=0,d=u;switch(f(a,function(a){if(++c>=n)throw new g("Maximum allowed index exceeded");if("number"!=typeof a)throw new h("Value is not a number");d!==q&&(a!=a?d=q:a===i?d=d===r?q:s:a===-1/0?d=d===s?q:r:0===a&&1/a!==i||d!==u&&d!==v||(d=v,l(b,a)))}),d){case q:return NaN;case r:return-1/0;case s:return i;case u:return -0}for(var e,k,x,y,z,A,B=[],C=0,D=0;D<b.length;D++){e=b[D];for(var E=0,F=0;F<B.length;F++){if(k=B[F],j(e)<j(k)&&(A=e,e=k,k=A),y=(x=w(e,k)).hi,z=x.lo,j(y)===i){var G=y===i?1:-1;C+=G,j(e=e-G*m-G*m)<j(k)&&(A=e,e=k,k=A),y=(x=w(e,k)).hi,z=x.lo}0!==z&&(B[E++]=z),e=y}B.length=E,0!==e&&l(B,e)}var H=B.length-1;if(y=0,z=0,0!==C){var I=H>=0?B[H]:0;if(H--,j(C)>1||C>0&&I>0||C<0&&I<0)return C>0?i:-1/0;if(y=(x=w(C*m,I/2)).hi,z=2*x.lo,j(2*y)===i)return y>0?y===m&&z===-p/2&&H>=0&&B[H]<0?o:i:y===-m&&z===p/2&&H>=0&&B[H]>0?-o:-1/0;0!==z&&(B[++H]=z,z=0),y*=2}for(;H>=0&&(y=(x=w(y,B[H--])).hi,0===(z=x.lo)););return H>=0&&(z<0&&B[H]<0||z>0&&B[H]>0)&&(k=2*z)==(e=y+k)-y&&(y=e),y}})},3167:(a,b,c)=>{var d=c(4901),e=c(34),f=c(2967);a.exports=function(a,b,c){var g,h;return f&&d(g=b.constructor)&&g!==c&&e(h=g.prototype)&&h!==c.prototype&&f(a,h),a}},3238:(a,b,c)=>{var d=c(4576),e=c(7811),f=c(7394),g=d.DataView;a.exports=function(a){if(!e||0!==f(a))return!1;try{return new g(a),!1}catch(a){return!0}}},3392:(a,b,c)=>{var d=c(9504),e=0,f=Math.random(),g=d(1.1.toString);a.exports=function(a){return"Symbol("+(void 0===a?"":a)+")_"+g(++e+f,36)}},3440:(a,b,c)=>{var d=c(7080),e=c(4402),f=c(9286),g=c(5170),h=c(3789),i=c(8469),j=c(507),k=e.has,l=e.remove;a.exports=function(a){var b=d(this),c=h(a),e=f(b);return g(b)<=c.size?i(b,function(a){c.includes(a)&&l(e,a)}):j(c.getIterator(),function(a){k(e,a)&&l(e,a)}),e}},3463:a=>{var b=TypeError;a.exports=function(a){if("string"==typeof a)return a;throw new b("Argument is not a string")}},3506:(a,b,c)=>{var d=c(3925),e=String,f=TypeError;a.exports=function(a){if(d(a))return a;throw new f("Can't set "+e(a)+" as a prototype")}},3579:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(2652),g=c(9306),h=c(8551),i=c(1767),j=c(9539),k=c(4549)("some",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:k},{some:function(a){h(this);try{g(a)}catch(a){j(this,"throw",a)}if(k)return e(k,this,a);var b=i(this),c=0;return f(b,function(b,d){if(a(b,c++))return d()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},3650:(a,b,c)=>{var d=c(7080),e=c(4402),f=c(9286),g=c(3789),h=c(507),i=e.add,j=e.has,k=e.remove;a.exports=function(a){var b=d(this),c=g(a).getIterator(),e=f(b);return h(c,function(a){j(b,a)?k(e,a):i(e,a)}),e}},3706:(a,b,c)=>{var d=c(9504),e=c(4901),f=c(7629),g=d(Function.toString);e(f.inspectSource)||(f.inspectSource=function(a){return g(a)}),a.exports=f.inspectSource},3717:(a,b)=>{b.f=Object.getOwnPropertySymbols},3724:(a,b,c)=>{a.exports=!c(9039)(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3789:(a,b,c)=>{var d=c(9306),e=c(8551),f=c(9565),g=c(1291),h=c(1767),i="Invalid size",j=RangeError,k=TypeError,l=Math.max,m=function(a,b){this.set=a,this.size=l(b,0),this.has=d(a.has),this.keys=d(a.keys)};m.prototype={getIterator:function(){return h(e(f(this.keys,this.set)))},includes:function(a){return f(this.has,this.set,a)}},a.exports=function(a){e(a);var b=+a.size;if(b!=b)throw new k(i);var c=g(b);if(c<0)throw new j(i);return new m(a,c)}},3838:(a,b,c)=>{var d=c(7080),e=c(5170),f=c(8469),g=c(3789);a.exports=function(a){var b=d(this),c=g(a);return!(e(b)>c.size)&&!1!==f(b,function(a){if(!c.includes(a))return!1},!0)}},3853:(a,b,c)=>{var d=c(6518),e=c(4449);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("isDisjointFrom",function(a){return!a})},{isDisjointFrom:e})},3925:(a,b,c)=>{var d=c(34);a.exports=function(a){return d(a)||null===a}},3972:(a,b,c)=>{var d=c(34),e=String,f=TypeError;a.exports=function(a){if(void 0===a||d(a))return a;throw new f(e(a)+" is not an object or undefined")}},4055:(a,b,c)=>{var d=c(4576),e=c(34),f=d.document,g=e(f)&&e(f.createElement);a.exports=function(a){return g?f.createElement(a):{}}},4114:(a,b,c)=>{var d=c(6518),e=c(8981),f=c(6198),g=c(4527),h=c(6837);d({target:"Array",proto:!0,arity:1,forced:c(9039)(function(){return 0x100000001!==[].push.call({length:0x100000000},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(a){return a instanceof TypeError}}()},{push:function(a){var b=e(this),c=f(b),d=arguments.length;h(c+d);for(var i=0;i<d;i++)b[c]=arguments[i],c++;return g(b,c),c}})},4117:a=>{a.exports=function(a){return null==a}},4149:a=>{var b=RangeError;a.exports=function(a){if(a==a)return a;throw new b("NaN is not allowed")}},4154:(a,b,c)=>{var d=c(6955),e=TypeError;a.exports=function(a){if("Uint8Array"===d(a))return a;throw new e("Argument is not an Uint8Array")}},4204:(a,b,c)=>{var d=c(7080),e=c(4402).add,f=c(9286),g=c(3789),h=c(507);a.exports=function(a){var b=d(this),c=g(a).getIterator(),i=f(b);return h(c,function(a){e(i,a)}),i}},4209:(a,b,c)=>{var d=c(8227),e=c(6269),f=d("iterator"),g=Array.prototype;a.exports=function(a){return void 0!==a&&(e.Array===a||g[f]===a)}},4215:(a,b,c)=>{var d=c(4576),e=c(2839),f=c(2195),g=function(a){return e.slice(0,a.length)===a};a.exports=g("Bun/")?"BUN":g("Cloudflare-Workers")?"CLOUDFLARE":g("Deno/")?"DENO":g("Node.js/")?"NODE":d.Bun&&"string"==typeof Bun.version?"BUN":d.Deno&&"object"==typeof Deno.version?"DENO":"process"===f(d.process)?"NODE":d.window&&d.document?"BROWSER":"REST"},4226:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(3463),g=c(4154),h=c(5169),i=c(2303);e.Uint8Array&&d({target:"Uint8Array",proto:!0},{setFromHex:function(a){g(this),f(a),h(this.buffer);var b=i(a,this).read;return{read:b,written:b/2}}})},4235:(a,b,c)=>{c(3068)},4270:(a,b,c)=>{var d=c(9565),e=c(4901),f=c(34),g=TypeError;a.exports=function(a,b){var c,h;if("string"===b&&e(c=a.toString)&&!f(h=d(c,a))||e(c=a.valueOf)&&!f(h=d(c,a))||"string"!==b&&e(c=a.toString)&&!f(h=d(c,a)))return h;throw new g("Can't convert object to primitive value")}},4376:(a,b,c)=>{var d=c(2195);a.exports=Array.isArray||function(a){return"Array"===d(a)}},4402:(a,b,c)=>{var d=c(9504),e=Set.prototype;a.exports={Set:Set,add:d(e.add),has:d(e.has),remove:d(e.delete),proto:e}},4449:(a,b,c)=>{var d=c(7080),e=c(4402).has,f=c(5170),g=c(3789),h=c(8469),i=c(507),j=c(9539);a.exports=function(a){var b=d(this),c=g(a);if(f(b)<=c.size)return!1!==h(b,function(a){if(c.includes(a))return!1},!0);var k=c.getIterator();return!1!==i(k,function(a){if(e(b,a))return j(k,"normal",!1)})}},4483:(a,b,c)=>{var d,e,f,g,h=c(4576),i=c(9429),j=c(1548),k=h.structuredClone,l=h.ArrayBuffer,m=h.MessageChannel,n=!1;if(j)n=function(a){k(a,{transfer:[a]})};else if(l)try{m||(d=i("worker_threads"))&&(m=d.MessageChannel),m&&(e=new m,f=new l(2),g=function(a){e.port1.postMessage(null,[a])},2===f.byteLength&&(g(f),0===f.byteLength&&(n=g)))}catch(a){}a.exports=n},4495:(a,b,c)=>{var d=c(9519),e=c(9039),f=c(4576).String;a.exports=!!Object.getOwnPropertySymbols&&!e(function(){var a=Symbol("symbol detection");return!f(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&d&&d<41})},4527:(a,b,c)=>{var d=c(3724),e=c(4376),f=TypeError,g=Object.getOwnPropertyDescriptor;a.exports=d&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}()?function(a,b){if(e(a)&&!g(a,"length").writable)throw new f("Cannot set read only .length");return a.length=b}:function(a,b){return a.length=b}},4549:(a,b,c)=>{var d=c(4576);a.exports=function(a,b){var c=d.Iterator,e=c&&c.prototype,f=e&&e[a],g=!1;if(f)try{f.call({next:function(){return{done:!0}},return:function(){g=!0}},-1)}catch(a){a instanceof b||(g=!1)}if(!g)return f}},4576:function(a){var b=function(a){return a&&a.Math===Math&&a};a.exports=b("object"==typeof globalThis&&globalThis)||b("object"==typeof window&&window)||b("object"==typeof self&&self)||b("object"==typeof global&&global)||b("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4603:(a,b,c)=>{var d=c(6840),e=c(9504),f=c(655),g=c(2812),h=URLSearchParams,i=h.prototype,j=e(i.append),k=e(i.delete),l=e(i.forEach),m=e([].push),n=new h("a=1&a=2&b=3");n.delete("a",1),n.delete("b",void 0),n+""!="a=2"&&d(i,"delete",function(a){var b=arguments.length,c=b<2?void 0:arguments[1];if(b&&void 0===c)return k(this,a);var d=[];l(this,function(a,b){m(d,{key:b,value:a})}),g(b,1);for(var e,h=f(a),i=f(c),n=0,o=0,p=!1,q=d.length;n<q;)e=d[n++],p||e.key===h?(p=!0,k(this,e.key)):o++;for(;o<q;)(e=d[o++]).key===h&&e.value===i||j(this,e.key,e.value)},{enumerable:!0,unsafe:!0})},4628:(a,b,c)=>{var d=c(6518),e=c(6043);d({target:"Promise",stat:!0},{withResolvers:function(){var a=e.f(this);return{promise:a.promise,resolve:a.resolve,reject:a.reject}}})},4644:(a,b,c)=>{var d,e,f,g=c(7811),h=c(3724),i=c(4576),j=c(4901),k=c(34),l=c(9297),m=c(6955),n=c(6823),o=c(6699),p=c(6840),q=c(2106),r=c(1625),s=c(2787),u=c(2967),v=c(8227),w=c(3392),x=c(1181),y=x.enforce,z=x.get,A=i.Int8Array,B=A&&A.prototype,C=i.Uint8ClampedArray,D=C&&C.prototype,E=A&&s(A),F=B&&s(B),G=Object.prototype,H=i.TypeError,I=v("toStringTag"),J=w("TYPED_ARRAY_TAG"),K="TypedArrayConstructor",L=g&&!!u&&"Opera"!==m(i.opera),M=!1,N={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},P=function(a){var b=s(a);if(k(b)){var c=z(b);return c&&l(c,K)?c[K]:P(b)}},Q=function(a){if(!k(a))return!1;var b=m(a);return l(N,b)||l(O,b)};for(d in N)(f=(e=i[d])&&e.prototype)?y(f)[K]=e:L=!1;for(d in O)(f=(e=i[d])&&e.prototype)&&(y(f)[K]=e);if((!L||!j(E)||E===Function.prototype)&&(E=function(){throw new H("Incorrect invocation")},L))for(d in N)i[d]&&u(i[d],E);if((!L||!F||F===G)&&(F=E.prototype,L))for(d in N)i[d]&&u(i[d].prototype,F);if(L&&s(D)!==F&&u(D,F),h&&!l(F,I))for(d in M=!0,q(F,I,{configurable:!0,get:function(){return k(this)?this[J]:void 0}}),N)i[d]&&o(i[d],J,d);a.exports={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:M&&J,aTypedArray:function(a){if(Q(a))return a;throw new H("Target is not a typed array")},aTypedArrayConstructor:function(a){if(j(a)&&(!u||r(E,a)))return a;throw new H(n(a)+" is not a typed array constructor")},exportTypedArrayMethod:function(a,b,c,d){if(h){if(c)for(var e in N){var f=i[e];if(f&&l(f.prototype,a))try{delete f.prototype[a]}catch(c){try{f.prototype[a]=b}catch(a){}}}F[a]&&!c||p(F,a,c?b:L&&B[a]||b,d)}},exportTypedArrayStaticMethod:function(a,b,c){var d,e;if(h){if(u){if(c){for(d in N)if((e=i[d])&&l(e,a))try{delete e[a]}catch(a){}}if(E[a]&&!c)return;try{return p(E,a,c?b:L&&E[a]||b)}catch(a){}}for(d in N)(e=i[d])&&(!e[a]||c)&&p(e,a,b)}},getTypedArrayConstructor:P,isView:function(a){if(!k(a))return!1;var b=m(a);return"DataView"===b||l(N,b)||l(O,b)},isTypedArray:Q,TypedArray:E,TypedArrayPrototype:F}},4659:(a,b,c)=>{var d=c(3724),e=c(4913),f=c(6980);a.exports=function(a,b,c){d?e.f(a,b,f(0,c)):a[b]=c}},4901:a=>{var b="object"==typeof document&&document.all;a.exports=void 0===b&&void 0!==b?function(a){return"function"==typeof a||a===b}:function(a){return"function"==typeof a}},4913:(a,b,c)=>{var d=c(3724),e=c(5917),f=c(8686),g=c(8551),h=c(6969),i=TypeError,j=Object.defineProperty,k=Object.getOwnPropertyDescriptor,l="enumerable",m="configurable",n="writable";b.f=d?f?function(a,b,c){if(g(a),b=h(b),g(c),"function"==typeof a&&"prototype"===b&&"value"in c&&n in c&&!c[n]){var d=k(a,b);d&&d[n]&&(a[b]=c.value,c={configurable:m in c?c[m]:d[m],enumerable:l in c?c[l]:d[l],writable:!1})}return j(a,b,c)}:j:function(a,b,c){if(g(a),b=h(b),g(c),e)try{return j(a,b,c)}catch(a){}if("get"in c||"set"in c)throw new i("Accessors not supported");return"value"in c&&(a[b]=c.value),a}},4916:(a,b,c)=>{var d=c(7751),e=function(a){return{size:a,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},f=function(a){return{size:a,has:function(){return!0},keys:function(){throw Error("e")}}};a.exports=function(a,b){var c=d("Set");try{(new c)[a](e(0));try{return(new c)[a](e(-1)),!1}catch(d){if(!b)return!0;try{return(new c)[a](f(-1/0)),!1}catch(d){var g=new c;return g.add(1),g.add(2),b(g[a](f(1/0)))}}}catch(a){return!1}}},4972:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(8551),g=c(1767),h=c(4149),i=c(9590),j=c(9462),k=c(9539),l=c(4549),m=c(6395),n=!m&&l("take",RangeError),o=j(function(){var a=this.iterator;if(!this.remaining--)return this.done=!0,k(a,"normal",void 0);var b=f(e(this.next,a));return(this.done=!!b.done)?void 0:b.value});d({target:"Iterator",proto:!0,real:!0,forced:m||n},{take:function(a){var b;f(this);try{b=i(h(+a))}catch(a){k(this,"throw",a)}return n?e(n,this,b):new o(g(this),{remaining:b})}})},4979:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(7751),g=c(6980),h=c(4913).f,i=c(9297),j=c(679),k=c(3167),l=c(2603),m=c(5002),n=c(8574),o=c(3724),p=c(6395),q="DOMException",r=f("Error"),s=f(q),u=function(){j(this,v);var a=arguments.length,b=l(a<1?void 0:arguments[0]),c=l(a<2?void 0:arguments[1],"Error"),d=new s(b,c),e=new r(b);return e.name=q,h(d,"stack",g(1,n(e.stack,1))),k(d,this,u),d},v=u.prototype=s.prototype,w="stack"in new r(q),x="stack"in new s(1,2),y=s&&o&&Object.getOwnPropertyDescriptor(e,q),z=!(!y||y.writable&&y.configurable),A=w&&!z&&!x;d({global:!0,constructor:!0,forced:p||A},{DOMException:A?u:s});var B=f(q),C=B.prototype;if(C.constructor!==B){for(var D in p||h(C,"constructor",g(1,B)),m)if(i(m,D)){var E=m[D],F=E.s;i(B,F)||h(B,F,g(6,E.c))}}},5002:a=>{a.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},5024:(a,b,c)=>{var d=c(6518),e=c(3650),f=c(9835);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("symmetricDifference")||!f("symmetricDifference")},{symmetricDifference:e})},5031:(a,b,c)=>{var d=c(7751),e=c(9504),f=c(8480),g=c(3717),h=c(8551),i=e([].concat);a.exports=d("Reflect","ownKeys")||function(a){var b=f.f(h(a)),c=g.f;return c?i(b,c(a)):b}},5169:(a,b,c)=>{var d=c(3238),e=TypeError;a.exports=function(a){if(d(a))throw new e("ArrayBuffer is detached");return a}},5170:(a,b,c)=>{a.exports=c(6706)(c(4402).proto,"size","get")||function(a){return a.size}},5213:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(5370),g=c(9143),h=e.Uint8Array,i=!h||!h.fromBase64||!function(){try{return void h.fromBase64("a")}catch(a){}try{h.fromBase64("",null)}catch(a){return!0}}();h&&d({target:"Uint8Array",stat:!0,forced:i},{fromBase64:function(a){var b=g(a,arguments.length>1?arguments[1]:void 0,null,0x1fffffffffffff);return f(h,b.bytes)}})},5370:(a,b,c)=>{var d=c(6198);a.exports=function(a,b,c){for(var e=0,f=arguments.length>2?c:d(b),g=new a(f);f>e;)g[e]=b[e++];return g}},5397:(a,b,c)=>{var d=c(7055),e=c(7750);a.exports=function(a){return d(e(a))}},5610:(a,b,c)=>{var d=c(1291),e=Math.max,f=Math.min;a.exports=function(a,b){var c=d(a);return c<0?e(c+b,0):f(c,b)}},5623:(a,b,c)=>{c(456)},5636:(a,b,c)=>{var d=c(4576),e=c(9504),f=c(6706),g=c(7696),h=c(5169),i=c(7394),j=c(4483),k=c(1548),l=d.structuredClone,m=d.ArrayBuffer,n=d.DataView,o=Math.min,p=m.prototype,q=n.prototype,r=e(p.slice),s=f(p,"resizable","get"),u=f(p,"maxByteLength","get"),v=e(q.getInt8),w=e(q.setInt8);a.exports=(k||j)&&function(a,b,c){var d,e=i(a),f=void 0===b?e:g(b),p=!s||!s(a);if(h(a),k&&(a=l(a,{transfer:[a]}),e===f&&(c||p)))return a;if(e>=f&&(!c||p))d=r(a,0,f);else{d=new m(f,c&&!p&&u?{maxByteLength:u(a)}:void 0);for(var q=new n(a),x=new n(d),y=o(f,e),z=0;z<y;z++)w(x,z,v(q,z))}return k||j(a),d}},5745:(a,b,c)=>{var d=c(7629);a.exports=function(a,b){return d[a]||(d[a]=b||{})}},5781:(a,b,c)=>{var d=c(6518),e=c(7751),f=c(2812),g=c(655),h=c(7416),i=e("URL");d({target:"URL",stat:!0,forced:!h},{parse:function(a){var b=f(arguments.length,1),c=g(a),d=b<2||void 0===arguments[1]?void 0:g(arguments[1]);try{return new i(c,d)}catch(a){return null}}})},5854:(a,b,c)=>{var d=c(2777),e=TypeError;a.exports=function(a){var b=d(a,"number");if("number"==typeof b)throw new e("Can't convert number to bigint");return BigInt(b)}},5876:(a,b,c)=>{var d=c(6518),e=c(3838);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("isSubsetOf",function(a){return a})},{isSubsetOf:e})},5917:(a,b,c)=>{var d=c(3724),e=c(9039),f=c(4055);a.exports=!d&&!e(function(){return 7!==Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})},5966:(a,b,c)=>{var d=c(9306),e=c(4117);a.exports=function(a,b){var c=a[b];return e(c)?void 0:d(c)}},6043:(a,b,c)=>{var d=c(9306),e=TypeError,f=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw new e("Bad Promise constructor");b=a,c=d}),this.resolve=d(b),this.reject=d(c)};a.exports.f=function(a){return new f(a)}},6080:(a,b,c)=>{var d=c(7476),e=c(9306),f=c(616),g=d(d.bind);a.exports=function(a,b){return e(a),void 0===b?a:f?g(a,b):function(){return a.apply(b,arguments)}}},6119:(a,b,c)=>{var d=c(5745),e=c(3392),f=d("keys");a.exports=function(a){return f[a]||(f[a]=e(a))}},6193:(a,b,c)=>{a.exports="NODE"===c(4215)},6198:(a,b,c)=>{var d=c(8014);a.exports=function(a){return d(a.length)}},6269:a=>{a.exports={}},6279:(a,b,c)=>{var d=c(6840);a.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},6319:(a,b,c)=>{var d=c(8551),e=c(9539);a.exports=function(a,b,c,f){try{return f?b(d(c)[0],c[1]):b(c)}catch(b){e(a,"throw",b)}}},6395:a=>{a.exports=!1},6518:(a,b,c)=>{var d=c(4576),e=c(7347).f,f=c(6699),g=c(6840),h=c(9433),i=c(7740),j=c(2796);a.exports=function(a,b){var c,k,l,m,n,o=a.target,p=a.global,q=a.stat;if(c=p?d:q?d[o]||h(o,{}):d[o]&&d[o].prototype)for(k in b){if(m=b[k],l=a.dontCallGetSet?(n=e(c,k))&&n.value:c[k],!j(p?k:o+(q?".":"#")+k,a.forced)&&void 0!==l){if(typeof m==typeof l)continue;i(m,l)}(a.sham||l&&l.sham)&&f(m,"sham",!0),g(c,k,m,a)}}},6573:(a,b,c)=>{var d=c(3724),e=c(2106),f=c(3238),g=ArrayBuffer.prototype;!d||"detached"in g||e(g,"detached",{configurable:!0,get:function(){return f(this)}})},6632:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(9143),g=c(4154),h=e.Uint8Array,i=!h||!h.prototype.setFromBase64||!function(){var a=new h([255,255,255,255,255]);try{return void a.setFromBase64("",null)}catch(a){}try{return void a.setFromBase64("a")}catch(a){}try{a.setFromBase64("MjYyZg===")}catch(b){return 50===a[0]&&54===a[1]&&50===a[2]&&255===a[3]&&255===a[4]}}();h&&d({target:"Uint8Array",proto:!0,forced:i},{setFromBase64:function(a){g(this);var b=f(a,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:b.read,written:b.written}}})},6699:(a,b,c)=>{var d=c(3724),e=c(4913),f=c(6980);a.exports=d?function(a,b,c){return e.f(a,b,f(1,c))}:function(a,b,c){return a[b]=c,a}},6706:(a,b,c)=>{var d=c(9504),e=c(9306);a.exports=function(a,b,c){try{return d(e(Object.getOwnPropertyDescriptor(a,b)[c]))}catch(a){}}},6801:(a,b,c)=>{var d=c(3724),e=c(8686),f=c(4913),g=c(8551),h=c(5397),i=c(1072);b.f=d&&!e?Object.defineProperties:function(a,b){g(a);for(var c,d=h(b),e=i(b),j=e.length,k=0;j>k;)f.f(a,c=e[k++],d[c]);return a}},6823:a=>{var b=String;a.exports=function(a){try{return b(a)}catch(a){return"Object"}}},6837:a=>{var b=TypeError;a.exports=function(a){if(a>0x1fffffffffffff)throw b("Maximum allowed index exceeded");return a}},6840:(a,b,c)=>{var d=c(4901),e=c(4913),f=c(283),g=c(9433);a.exports=function(a,b,c,h){h||(h={});var i=h.enumerable,j=void 0!==h.name?h.name:b;if(d(c)&&f(c,j,h),h.global)i?a[b]=c:g(b,c);else{try{h.unsafe?a[b]&&(i=!0):delete a[b]}catch(a){}i?a[b]=c:e.f(a,b,{value:c,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return a}},6955:(a,b,c)=>{var d=c(2140),e=c(4901),f=c(2195),g=c(8227)("toStringTag"),h=Object,i="Arguments"===f(function(){return arguments}());a.exports=d?f:function(a){var b,c,d;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=function(a,b){try{return a[b]}catch(a){}}(b=h(a),g))?c:i?f(b):"Object"===(d=f(b))&&e(b.callee)?"Arguments":d}},6969:(a,b,c)=>{var d=c(2777),e=c(757);a.exports=function(a){var b=d(a,"string");return e(b)?b:b+""}},6980:a=>{a.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},7040:(a,b,c)=>{a.exports=c(4495)&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:(a,b,c)=>{var d=c(9504),e=c(9039),f=c(2195),g=Object,h=d("".split);a.exports=e(function(){return!g("z").propertyIsEnumerable(0)})?function(a){return"String"===f(a)?h(a,""):g(a)}:g},7080:(a,b,c)=>{var d=c(4402).has;a.exports=function(a){return d(a),a}},7347:(a,b,c)=>{var d=c(3724),e=c(9565),f=c(8773),g=c(6980),h=c(5397),i=c(6969),j=c(9297),k=c(5917),l=Object.getOwnPropertyDescriptor;b.f=d?l:function(a,b){if(a=h(a),b=i(b),k)try{return l(a,b)}catch(a){}if(j(a,b))return g(!e(f.f,a,b),a[b])}},7394:(a,b,c)=>{var d=c(4576),e=c(6706),f=c(2195),g=d.ArrayBuffer,h=d.TypeError;a.exports=g&&e(g.prototype,"byteLength","get")||function(a){if("ArrayBuffer"!==f(a))throw new h("ArrayBuffer expected");return a.byteLength}},7416:(a,b,c)=>{var d=c(9039),e=c(8227),f=c(3724),g=c(6395),h=e("iterator");a.exports=!d(function(){var a=new URL("b?a=1&b=2&c=3","https://a"),b=a.searchParams,c=new URLSearchParams("a=1&a=2&b=3"),d="";return a.pathname="c%20d",b.forEach(function(a,c){b.delete("b"),d+=c+a}),c.delete("a",2),c.delete("b",void 0),g&&(!a.toJSON||!c.has("a",1)||c.has("a",2)||!c.has("a",void 0)||c.has("b"))||!b.size&&(g||!f)||!b.sort||"https://a/c%20d?a=1&c=3"!==a.href||"3"!==b.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!b[h]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==d||"x"!==new URL("https://x",void 0).host})},7476:(a,b,c)=>{var d=c(2195),e=c(9504);a.exports=function(a){if("Function"===d(a))return e(a)}},7566:(a,b,c)=>{var d=c(6840),e=c(9504),f=c(655),g=c(2812),h=URLSearchParams,i=h.prototype,j=e(i.getAll),k=e(i.has),l=new h("a=1");!l.has("a",2)&&l.has("a",void 0)||d(i,"has",function(a){var b=arguments.length,c=b<2?void 0:arguments[1];if(b&&void 0===c)return k(this,a);var d=j(this,a);g(b,1);for(var e=f(c),h=0;h<d.length;)if(d[h++]===e)return!0;return!1},{enumerable:!0,unsafe:!0})},7588:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(2652),g=c(9306),h=c(8551),i=c(1767),j=c(9539),k=c(4549)("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:k},{forEach:function(a){h(this);try{g(a)}catch(a){j(this,"throw",a)}if(k)return e(k,this,a);var b=i(this),c=0;f(b,function(b){a(b,c++)},{IS_RECORD:!0})}})},7629:(a,b,c)=>{var d=c(6395),e=c(4576),f=c(9433),g="__core-js_shared__",h=a.exports=e[g]||f(g,{});(h.versions||(h.versions=[])).push({version:"3.45.1",mode:d?"pure":"global",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})},7642:(a,b,c)=>{var d=c(6518),e=c(3440),f=c(9039);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("difference",function(a){return 0===a.size})||f(function(){var a=new Set([1,2,3,4]);return 3!==a.difference({size:1,has:function(){return!0},keys:function(){var b=0;return{next:function(){var c=b++>1;return a.has(1)&&a.clear(),{done:c,value:2}}}}}).size})},{difference:e})},7657:(a,b,c)=>{var d,e,f,g=c(9039),h=c(4901),i=c(34),j=c(2360),k=c(2787),l=c(6840),m=c(8227),n=c(6395),o=m("iterator"),p=!1;[].keys&&("next"in(f=[].keys())?(e=k(k(f)))!==Object.prototype&&(d=e):p=!0),!i(d)||g(function(){var a={};return d[o].call(a)!==a})?d={}:n&&(d=j(d)),h(d[o])||l(d,o,function(){return this}),a.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:p}},7680:(a,b,c)=>{a.exports=c(9504)([].slice)},7696:(a,b,c)=>{var d=c(1291),e=c(8014),f=RangeError;a.exports=function(a){if(void 0===a)return 0;var b=d(a),c=e(b);if(b!==c)throw new f("Wrong length or index");return c}},7740:(a,b,c)=>{var d=c(9297),e=c(5031),f=c(7347),g=c(4913);a.exports=function(a,b,c){for(var h=e(b),i=g.f,j=f.f,k=0;k<h.length;k++){var l=h[k];d(a,l)||c&&d(c,l)||i(a,l,j(b,l))}}},7750:(a,b,c)=>{var d=c(4117),e=TypeError;a.exports=function(a){if(d(a))throw new e("Can't call method on "+a);return a}},7751:(a,b,c)=>{var d=c(4576),e=c(4901);a.exports=function(a,b){var c;return arguments.length<2?e(c=d[a])?c:void 0:d[a]&&d[a][b]}},7811:a=>{a.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7936:(a,b,c)=>{var d=c(6518),e=c(5636);e&&d({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return e(this,arguments.length?arguments[0]:void 0,!1)}})},8004:(a,b,c)=>{var d=c(6518),e=c(9039),f=c(8750);d({target:"Set",proto:!0,real:!0,forced:!c(4916)("intersection",function(a){return 2===a.size&&a.has(1)&&a.has(2)})||e(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:f})},8014:(a,b,c)=>{var d=c(1291),e=Math.min;a.exports=function(a){var b=d(a);return b>0?e(b,0x1fffffffffffff):0}},8100:(a,b,c)=>{var d=c(6518),e=c(5636);e&&d({target:"ArrayBuffer",proto:!0},{transfer:function(){return e(this,arguments.length?arguments[0]:void 0,!0)}})},8111:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(679),g=c(8551),h=c(4901),i=c(2787),j=c(2106),k=c(4659),l=c(9039),m=c(9297),n=c(8227),o=c(7657).IteratorPrototype,p=c(3724),q=c(6395),r="constructor",s="Iterator",u=n("toStringTag"),v=TypeError,w=e[s],x=q||!h(w)||w.prototype!==o||!l(function(){w({})}),y=function(){if(f(this,o),i(this)===o)throw new v("Abstract class Iterator not directly constructable")},z=function(a,b){p?j(o,a,{configurable:!0,get:function(){return b},set:function(b){if(g(this),this===o)throw new v("You can't redefine this property");m(this,a)?this[a]=b:k(this,a,b)}}):o[a]=b};m(o,u)||z(u,s),!x&&m(o,r)&&o[r]!==Object||z(r,y),y.prototype=o,d({global:!0,constructor:!0,forced:x},{Iterator:y})},8227:(a,b,c)=>{var d=c(4576),e=c(5745),f=c(9297),g=c(3392),h=c(4495),i=c(7040),j=d.Symbol,k=e("wks"),l=i?j.for||j:j&&j.withoutSetter||g;a.exports=function(a){return f(k,a)||(k[a]=h&&f(j,a)?j[a]:l("Symbol."+a)),k[a]}},8235:(a,b,c)=>{var d=c(9504),e=c(9297),f=SyntaxError,g=parseInt,h=String.fromCharCode,i=d("".charAt),j=d("".slice),k=d(/./.exec),l={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	"},m=/^[\da-f]{4}$/i,n=/^[\u0000-\u001F]$/;a.exports=function(a,b){for(var c=!0,d="";b<a.length;){var o=i(a,b);if("\\"===o){var p=j(a,b,b+2);if(e(l,p))d+=l[p],b+=2;else{if("\\u"!==p)throw new f('Unknown escape sequence: "'+p+'"');var q=j(a,b+=2,b+4);if(!k(m,q))throw new f("Bad Unicode escape at: "+b);d+=h(g(q,16)),b+=4}}else{if('"'===o){c=!1,b++;break}if(k(n,o))throw new f("Bad control character in string literal at: "+b);d+=o,b++}}if(c)throw new f("Unterminated string at: "+b);return{value:d,end:b}}},8237:(a,b,c)=>{var d=c(6518),e=c(2652),f=c(9306),g=c(8551),h=c(1767),i=c(9539),j=c(4549),k=c(8745),l=c(9039),m=TypeError,n=l(function(){[].keys().reduce(function(){},void 0)}),o=!n&&j("reduce",m);d({target:"Iterator",proto:!0,real:!0,forced:n||o},{reduce:function(a){g(this);try{f(a)}catch(a){i(this,"throw",a)}var b=arguments.length<2,c=b?void 0:arguments[1];if(o)return k(o,this,b?[a]:[a,c]);var d=h(this),j=0;if(e(d,function(d){b?(b=!1,c=d):c=a(c,d,j),j++},{IS_RECORD:!0}),b)throw new m("Reduce of empty iterator with no initial value");return c}})},8335:(a,b,c)=>{var d=c(6518),e=c(3724),f=c(4576),g=c(7751),h=c(9504),i=c(9565),j=c(4901),k=c(34),l=c(4376),m=c(9297),n=c(655),o=c(6198),p=c(4659),q=c(9039),r=c(8235),s=c(4495),u=f.JSON,v=f.Number,w=f.SyntaxError,x=u&&u.parse,y=g("Object","keys"),z=Object.getOwnPropertyDescriptor,A=h("".charAt),B=h("".slice),C=h(/./.exec),D=h([].push),E=/^\d$/,F=/^[1-9]$/,G=/^[\d-]$/,H=/^[\t\n\r ]$/,I=function(a,b,c,d){var e,f,g,h,j,n=a[b],p=d&&n===d.value,q=p&&"string"==typeof d.source?{source:d.source}:{};if(k(n)){var r=l(n),s=p?d.nodes:r?[]:{};if(r)for(e=s.length,g=o(n),h=0;h<g;h++)J(n,h,I(n,""+h,c,h<e?s[h]:void 0));else for(g=o(f=y(n)),h=0;h<g;h++)J(n,j=f[h],I(n,j,c,m(s,j)?s[j]:void 0))}return i(c,a,b,n,q)},J=function(a,b,c){if(e){var d=z(a,b);if(d&&!d.configurable)return}void 0===c?delete a[b]:p(a,b,c)},K=function(a,b,c,d){this.value=a,this.end=b,this.source=c,this.nodes=d},L=function(a,b){this.source=a,this.index=b};L.prototype={fork:function(a){return new L(this.source,a)},parse:function(){var a=this.source,b=this.skip(H,this.index),c=this.fork(b),d=A(a,b);if(C(G,d))return c.number();switch(d){case"{":return c.object();case"[":return c.array();case'"':return c.string();case"t":return c.keyword(!0);case"f":return c.keyword(!1);case"n":return c.keyword(null)}throw new w('Unexpected character: "'+d+'" at: '+b)},node:function(a,b,c,d,e){return new K(b,d,a?null:B(this.source,c,d),e)},object:function(){for(var a=this.source,b=this.index+1,c=!1,d={},e={};b<a.length;){if("}"===A(a,b=this.until(['"',"}"],b))&&!c){b++;break}var f=this.fork(b).string(),g=f.value;b=f.end,b=this.until([":"],b)+1,b=this.skip(H,b),p(e,g,f=this.fork(b).parse()),p(d,g,f.value);var h=A(a,b=this.until([",","}"],f.end));if(","===h)c=!0,b++;else if("}"===h){b++;break}}return this.node(1,d,this.index,b,e)},array:function(){for(var a=this.source,b=this.index+1,c=!1,d=[],e=[];b<a.length;){if("]"===A(a,b=this.skip(H,b))&&!c){b++;break}var f=this.fork(b).parse();if(D(e,f),D(d,f.value),","===A(a,b=this.until([",","]"],f.end)))c=!0,b++;else if("]"===A(a,b)){b++;break}}return this.node(1,d,this.index,b,e)},string:function(){var a=this.index,b=r(this.source,this.index+1);return this.node(0,b.value,a,b.end)},number:function(){var a=this.source,b=this.index,c=b;if("-"===A(a,c)&&c++,"0"===A(a,c))c++;else{if(!C(F,A(a,c)))throw new w("Failed to parse number at: "+c);c=this.skip(E,c+1)}if("."===A(a,c)&&(c=this.skip(E,c+1)),("e"===A(a,c)||"E"===A(a,c))&&("+"!==A(a,++c)&&"-"!==A(a,c)||c++,c===(c=this.skip(E,c))))throw new w("Failed to parse number's exponent value at: "+c);return this.node(0,v(B(a,b,c)),b,c)},keyword:function(a){var b=""+a,c=this.index,d=c+b.length;if(B(this.source,c,d)!==b)throw new w("Failed to parse value at: "+c);return this.node(0,a,c,d)},skip:function(a,b){for(var c=this.source;b<c.length&&C(a,A(c,b));b++);return b},until:function(a,b){b=this.skip(H,b);for(var c=A(this.source,b),d=0;d<a.length;d++)if(a[d]===c)return b;throw new w('Unexpected character: "'+c+'" at: '+b)}};var M=q(function(){var a,b="9007199254740993";return x(b,function(b,c,d){a=d.source}),a!==b}),N=s&&!q(function(){return 1/x("-0 	")!=-1/0});d({target:"JSON",stat:!0,forced:M},{parse:function(a,b){return N&&!j(b)?x(a):function(a,b){var c=new L(a=n(a),0),d=c.parse(),e=d.value,f=c.skip(H,d.end);if(f<a.length)throw new w('Unexpected extra character: "'+A(a,f)+'" after the parsed data at: '+f);return j(b)?I({"":e},"",b,d):e}(a,b)}})},8469:(a,b,c)=>{var d=c(9504),e=c(507),f=c(4402),g=f.Set,h=f.proto,i=d(h.forEach),j=d(h.keys),k=j(new g).next;a.exports=function(a,b,c){return c?e({iterator:j(a),next:k},b):i(a,b)}},8480:(a,b,c)=>{var d=c(1828),e=c(8727).concat("length","prototype");b.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},8527:(a,b,c)=>{var d=c(7080),e=c(4402).has,f=c(5170),g=c(3789),h=c(507),i=c(9539);a.exports=function(a){var b=d(this),c=g(a);if(f(b)<c.size)return!1;var j=c.getIterator();return!1!==h(j,function(a){if(!e(b,a))return i(j,"normal",!1)})}},8551:(a,b,c)=>{var d=c(34),e=String,f=TypeError;a.exports=function(a){if(d(a))return a;throw new f(e(a)+" is not an object")}},8574:(a,b,c)=>{var d=c(9504),e=Error,f=d("".replace),g=String(new e("zxcasd").stack),h=/\n\s*at [^:]*:[^\n]*/,i=h.test(g);a.exports=function(a,b){if(i&&"string"==typeof a&&!e.prepareStackTrace)for(;b--;)a=f(a,h,"");return a}},8622:(a,b,c)=>{var d=c(4576),e=c(4901),f=d.WeakMap;a.exports=e(f)&&/native code/.test(String(f))},8646:(a,b,c)=>{var d=c(9565),e=c(8551),f=c(1767),g=c(851);a.exports=function(a,b){b&&"string"==typeof a||e(a);var c=g(a);return f(e(void 0!==c?d(c,a):a))}},8686:(a,b,c)=>{var d=c(3724),e=c(9039);a.exports=d&&e(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8721:(a,b,c)=>{var d=c(3724),e=c(9504),f=c(2106),g=URLSearchParams.prototype,h=e(g.forEach);!d||"size"in g||f(g,"size",{get:function(){var a=0;return h(this,function(){a++}),a},configurable:!0,enumerable:!0})},8727:a=>{a.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8745:(a,b,c)=>{var d=c(616),e=Function.prototype,f=e.apply,g=e.call;a.exports="object"==typeof Reflect&&Reflect.apply||(d?g.bind(f):function(){return g.apply(f,arguments)})},8750:(a,b,c)=>{var d=c(7080),e=c(4402),f=c(5170),g=c(3789),h=c(8469),i=c(507),j=e.Set,k=e.add,l=e.has;a.exports=function(a){var b=d(this),c=g(a),e=new j;return f(b)>c.size?i(c.getIterator(),function(a){l(b,a)&&k(e,a)}):h(b,function(a){c.includes(a)&&k(e,a)}),e}},8773:(a,b)=>{var c={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor;b.f=d&&!c.call({1:2},1)?function(a){var b=d(this,a);return!!b&&b.enumerable}:c},8981:(a,b,c)=>{var d=c(7750),e=Object;a.exports=function(a){return e(d(a))}},9039:a=>{a.exports=function(a){try{return!!a()}catch(a){return!0}}},9143:(a,b,c)=>{var d=c(4576),e=c(9504),f=c(3972),g=c(3463),h=c(9297),i=c(2804),j=c(944),k=c(5169),l=i.c2i,m=i.c2iUrl,n=d.SyntaxError,o=d.TypeError,p=e("".charAt),q=function(a,b){for(var c=a.length;b<c;b++){var d=p(a,b);if(" "!==d&&"	"!==d&&"\n"!==d&&"\f"!==d&&"\r"!==d)break}return b},r=function(a,b,c){var d=a.length;d<4&&(a+=2===d?"AA":"A");var e=(b[p(a,0)]<<18)+(b[p(a,1)]<<12)+(b[p(a,2)]<<6)+b[p(a,3)],f=[e>>16&255,e>>8&255,255&e];if(2===d){if(c&&0!==f[1])throw new n("Extra bits");return[f[0]]}if(3===d){if(c&&0!==f[2])throw new n("Extra bits");return[f[0],f[1]]}return f},s=function(a,b,c){for(var d=b.length,e=0;e<d;e++)a[c+e]=b[e];return c+d};a.exports=function(a,b,c,d){g(a),f(b);var e="base64"===j(b)?l:m,i=b?b.lastChunkHandling:void 0;if(void 0===i&&(i="loose"),"loose"!==i&&"strict"!==i&&"stop-before-partial"!==i)throw new o("Incorrect `lastChunkHandling` option");c&&k(c.buffer);var u=a.length,v=c||[],w=0,x=0,y="",z=0;if(d)for(;;){if((z=q(a,z))===u){if(y.length>0){if("stop-before-partial"===i)break;if("loose"!==i)throw new n("Missing padding");if(1===y.length)throw new n("Malformed padding: exactly one additional character");w=s(v,r(y,e,!1),w)}x=u;break}var A=p(a,z);if(++z,"="===A){if(y.length<2)throw new n("Padding is too early");if(z=q(a,z),2===y.length){if(z===u){if("stop-before-partial"===i)break;throw new n("Malformed padding: only one =")}"="===p(a,z)&&(z=q(a,++z))}if(z<u)throw new n("Unexpected character after padding");w=s(v,r(y,e,"strict"===i),w),x=u;break}if(!h(e,A))throw new n("Unexpected character");var B=d-w;if(1===B&&2===y.length||2===B&&3===y.length||4===(y+=A).length&&(w=s(v,r(y,e,!1),w),y="",x=z,w===d))break}return{bytes:v,read:x,written:w}}},9286:(a,b,c)=>{var d=c(4402),e=c(8469),f=d.Set,g=d.add;a.exports=function(a){var b=new f;return e(a,function(a){g(b,a)}),b}},9297:(a,b,c)=>{var d=c(9504),e=c(8981),f=d({}.hasOwnProperty);a.exports=Object.hasOwn||function(a,b){return f(e(a),b)}},9306:(a,b,c)=>{var d=c(4901),e=c(6823),f=TypeError;a.exports=function(a){if(d(a))return a;throw new f(e(a)+" is not a function")}},9314:(a,b,c)=>{var d=c(6518),e=c(9565),f=c(8551),g=c(1767),h=c(4149),i=c(9590),j=c(9539),k=c(9462),l=c(684),m=c(4549),n=c(6395),o=!n&&!l("drop",0),p=!n&&!o&&m("drop",RangeError),q=n||o||p,r=k(function(){for(var a,b=this.iterator,c=this.next;this.remaining;)if(this.remaining--,a=f(e(c,b)),this.done=!!a.done)return;if(a=f(e(c,b)),!(this.done=!!a.done))return a.value});d({target:"Iterator",proto:!0,real:!0,forced:q},{drop:function(a){var b;f(this);try{b=i(h(+a))}catch(a){j(this,"throw",a)}return p?e(p,this,b):new r(g(this),{remaining:b})}})},9429:(a,b,c)=>{var d=c(4576),e=c(6193);a.exports=function(a){if(e){try{return d.process.getBuiltinModule(a)}catch(a){}try{return Function('return require("'+a+'")')()}catch(a){}}}},9432:(a,b,c)=>{c(5213)},9433:(a,b,c)=>{var d=c(4576),e=Object.defineProperty;a.exports=function(a,b){try{e(d,a,{value:b,configurable:!0,writable:!0})}catch(c){d[a]=b}return b}},9462:(a,b,c)=>{var d=c(9565),e=c(2360),f=c(6699),g=c(6279),h=c(8227),i=c(1181),j=c(5966),k=c(7657).IteratorPrototype,l=c(2529),m=c(9539),n=c(1385),o=h("toStringTag"),p="IteratorHelper",q="WrapForValidIterator",r="normal",s="throw",u=i.set,v=function(a){var b=i.getterFor(a?q:p);return g(e(k),{next:function(){var c=b(this);if(a)return c.nextHandler();if(c.done)return l(void 0,!0);try{var d=c.nextHandler();return c.returnHandlerResult?d:l(d,c.done)}catch(a){throw c.done=!0,a}},return:function(){var c=b(this),e=c.iterator;if(c.done=!0,a){var f=j(e,"return");return f?d(f,e):l(void 0,!0)}if(c.inner)try{m(c.inner.iterator,r)}catch(a){return m(e,s,a)}if(c.openIters)try{n(c.openIters,r)}catch(a){return m(e,s,a)}return e&&m(e,r),l(void 0,!0)}})},w=v(!0),x=v(!1);f(x,o,"Iterator Helper"),a.exports=function(a,b,c){var d=function(d,e){e?(e.iterator=d.iterator,e.next=d.next):e=d,e.type=b?q:p,e.returnHandlerResult=!!c,e.nextHandler=a,e.counter=0,e.done=!1,u(this,e)};return d.prototype=b?w:x,d}},9486:(a,b,c)=>{var d=c(6518),e=c(4576),f=c(9504),g=c(3972),h=c(4154),i=c(5169),j=c(2804),k=c(944),l=j.i2c,m=j.i2cUrl,n=f("".charAt),o=e.Uint8Array,p=!o||!o.prototype.toBase64||!function(){try{(new o).toBase64(null)}catch(a){return!0}}();o&&d({target:"Uint8Array",proto:!0,forced:p},{toBase64:function(){var a=h(this),b=arguments.length?g(arguments[0]):void 0,c="base64"===k(b)?l:m,d=!!b&&!!b.omitPadding;i(this.buffer);for(var e,f="",j=0,o=a.length,p=function(a){return n(c,e>>6*a&63)};j+2<o;j+=3)e=(a[j]<<16)+(a[j+1]<<8)+a[j+2],f+=p(3)+p(2)+p(1)+p(0);return j+2===o?(e=(a[j]<<16)+(a[j+1]<<8),f+=p(3)+p(2)+p(1)+(d?"":"=")):j+1===o&&(e=a[j]<<16,f+=p(3)+p(2)+(d?"":"==")),f}})},9504:(a,b,c)=>{var d=c(616),e=Function.prototype,f=e.call,g=d&&e.bind.bind(f,f);a.exports=d?g:function(a){return function(){return f.apply(a,arguments)}}},9519:(a,b,c)=>{var d,e,f=c(4576),g=c(2839),h=f.process,i=f.Deno,j=h&&h.versions||i&&i.version,k=j&&j.v8;k&&(e=(d=k.split("."))[0]>0&&d[0]<4?1:+(d[0]+d[1])),!e&&g&&(!(d=g.match(/Edge\/(\d+)/))||d[1]>=74)&&(d=g.match(/Chrome\/(\d+)/))&&(e=+d[1]),a.exports=e},9539:(a,b,c)=>{var d=c(9565),e=c(8551),f=c(5966);a.exports=function(a,b,c){var g,h;e(a);try{if(!(g=f(a,"return"))){if("throw"===b)throw c;return c}g=d(g,a)}catch(a){h=!0,g=a}if("throw"===b)throw c;if(h)throw g;return e(g),c}},9565:(a,b,c)=>{var d=c(616),e=Function.prototype.call;a.exports=d?e.bind(e):function(){return e.apply(e,arguments)}},9577:(a,b,c)=>{var d=c(9928),e=c(4644),f=c(1108),g=c(1291),h=c(5854),i=e.aTypedArray,j=e.getTypedArrayConstructor,k=e.exportTypedArrayMethod,l=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(a){return 8===a}}(),m=l&&function(){try{new Int8Array(1).with(-.5,1)}catch(a){return!0}}();k("with",{with:function(a,b){var c=i(this),e=g(a),k=f(c)?h(b):+b;return d(c,j(c),e,k)}}.with,!l||m)},9590:(a,b,c)=>{var d=c(1291),e=RangeError;a.exports=function(a){var b=d(a);if(b<0)throw new e("The argument can't be less than 0");return b}},9617:(a,b,c)=>{var d=c(5397),e=c(5610),f=c(6198),g=function(a){return function(b,c,g){var h=d(b),i=f(h);if(0===i)return!a&&-1;var j,k=e(g,i);if(a&&c!=c){for(;i>k;)if((j=h[k++])!=j)return!0}else for(;i>k;k++)if((a||k in h)&&h[k]===c)return a||k||0;return!a&&-1}};a.exports={includes:g(!0),indexOf:g(!1)}},9631:(a,b,c)=>{c(9486)},9797:(a,b,c)=>{c(4226)},9835:a=>{a.exports=function(a){try{var b=new Set,c=b[a]({size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return b.clear(),b.add(4),function(){return{done:!0}}}})}});return 1===c.size&&4===c.values().next().value}catch(a){return!1}}},9928:(a,b,c)=>{var d=c(6198),e=c(1291),f=RangeError;a.exports=function(a,b,c,g){var h=d(a),i=e(c),j=i<0?h+i:i;if(j>=h||j<0)throw new f("Incorrect index");for(var k=new b(h),l=0;l<h;l++)k[l]=l===j?g:a[l];return k}}},A={};function B(a){var b=A[a];if(void 0!==b)return b.exports;var c=A[a]={exports:{}};return z[a].call(c.exports,c,c.exports,B),c.exports}B.d=(a,b)=>{for(var c in b)B.o(b,c)&&!B.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:b[c]})},B.o=(a,b)=>Object.prototype.hasOwnProperty.call(a,b),B(4114),B(6573),B(8100),B(7936),B(8111),B(8237),B(1689),B(9577),B(4235),B(9432),B(1549),B(9797),B(9631),B(5623),B(4979),B(5781);let C=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),D=[.001,0,0,.001,0,0],E={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},F="pdfjs_internal_editor_",G={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},H={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},I={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},J={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},K={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},L={ERRORS:0,WARNINGS:1,INFOS:5},M={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},N={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},O=L.WARNINGS;function P(a){O>=L.INFOS&&console.info(`Info: ${a}`)}function Q(a){O>=L.WARNINGS&&console.warn(`Warning: ${a}`)}function R(a){throw Error(a)}function S(a,b){a||R(b)}function T(a,b=null,c=null){if(!a)return null;if(c&&"string"==typeof a){if(c.addDefaultProtocol&&a.startsWith("www.")){let b=a.match(/\./g);b?.length>=2&&(a=`http://${a}`)}if(c.tryConvertEncoding)try{a=decodeURIComponent(escape(a))}catch{}}let d=b?URL.parse(a,b):URL.parse(a);return!function(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(d)?null:d}function U(a,b,c=!1){let d=URL.parse(a);return d?(d.hash=b,d.href):c&&T(a,"http://example.com")?a.split("#",1)[0]+""+(b?`#${b}`:""):""}function V(a,b,c,d=!1){return Object.defineProperty(a,b,{value:c,enumerable:!d,configurable:!0,writable:!1}),c}let W=function(){function a(a,b){this.message=a,this.name=b}return a.prototype=Error(),a.constructor=a,a}(),X=class extends W{constructor(a,b){super(a,"PasswordException"),this.code=b}},Y=class extends W{constructor(a,b){super(a,"UnknownErrorException"),this.details=b}},Z=class extends W{constructor(a){super(a,"InvalidPDFException")}},$=class extends W{constructor(a,b,c){super(a,"ResponseException"),this.status=b,this.missing=c}},_=class extends W{constructor(a){super(a,"FormatError")}},aa=class extends W{constructor(a){super(a,"AbortException")}};function ab(a){"object"==typeof a&&void 0!==a?.length||R("Invalid argument for bytesToString");let b=a.length;if(b<8192)return String.fromCharCode.apply(null,a);let c=[];for(let d=0;d<b;d+=8192){let e=Math.min(d+8192,b),f=a.subarray(d,e);c.push(String.fromCharCode.apply(null,f))}return c.join("")}function ac(a){"string"!=typeof a&&R("Invalid argument for stringToBytes");let b=a.length,c=new Uint8Array(b);for(let d=0;d<b;++d)c[d]=255&a.charCodeAt(d);return c}class ad{static get isLittleEndian(){return V(this,"isLittleEndian",function(){let a=new Uint8Array(4);return a[0]=1,1===new Uint32Array(a.buffer,0,1)[0]}())}static get isEvalSupported(){return V(this,"isEvalSupported",function(){try{return Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return V(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get isImageDecoderSupported(){return V(this,"isImageDecoderSupported","undefined"!=typeof ImageDecoder)}static get platform(){let{platform:a,userAgent:b}=navigator;return V(this,"platform",{isAndroid:b.includes("Android"),isLinux:a.includes("Linux"),isMac:a.includes("Mac"),isWindows:a.includes("Win"),isFirefox:b.includes("Firefox")})}static get isCSSRoundSupported(){return V(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}let ae=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class af{static makeHexColor(a,b,c){return`#${ae[a]}${ae[b]}${ae[c]}`}static domMatrixToTransform(a){return[a.a,a.b,a.c,a.d,a.e,a.f]}static scaleMinMax(a,b){let c;a[0]?(a[0]<0&&(c=b[0],b[0]=b[2],b[2]=c),b[0]*=a[0],b[2]*=a[0],a[3]<0&&(c=b[1],b[1]=b[3],b[3]=c),b[1]*=a[3],b[3]*=a[3]):(c=b[0],b[0]=b[1],b[1]=c,c=b[2],b[2]=b[3],b[3]=c,a[1]<0&&(c=b[1],b[1]=b[3],b[3]=c),b[1]*=a[1],b[3]*=a[1],a[2]<0&&(c=b[0],b[0]=b[2],b[2]=c),b[0]*=a[2],b[2]*=a[2]),b[0]+=a[4],b[1]+=a[5],b[2]+=a[4],b[3]+=a[5]}static transform(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]}static multiplyByDOMMatrix(a,b){return[a[0]*b.a+a[2]*b.b,a[1]*b.a+a[3]*b.b,a[0]*b.c+a[2]*b.d,a[1]*b.c+a[3]*b.d,a[0]*b.e+a[2]*b.f+a[4],a[1]*b.e+a[3]*b.f+a[5]]}static applyTransform(a,b,c=0){let d=a[c],e=a[c+1];a[c]=d*b[0]+e*b[2]+b[4],a[c+1]=d*b[1]+e*b[3]+b[5]}static applyTransformToBezier(a,b,c=0){let d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5];for(let b=0;b<6;b+=2){let j=a[c+b],k=a[c+b+1];a[c+b]=j*d+k*f+h,a[c+b+1]=j*e+k*g+i}}static applyInverseTransform(a,b){let c=a[0],d=a[1],e=b[0]*b[3]-b[1]*b[2];a[0]=(c*b[3]-d*b[2]+b[2]*b[5]-b[4]*b[3])/e,a[1]=(-c*b[1]+d*b[0]+b[4]*b[1]-b[5]*b[0])/e}static axialAlignedBoundingBox(a,b,c){let d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=a[0],k=a[1],l=a[2],m=a[3],n=d*j+h,o=n,p=d*l+h,q=p,r=g*k+i,s=r,u=g*m+i,v=u;if(0!==e||0!==f){let a=e*j,b=e*l,c=f*k,d=f*m;n+=c,q+=c,p+=d,o+=d,r+=a,v+=a,u+=b,s+=b}c[0]=Math.min(c[0],n,p,o,q),c[1]=Math.min(c[1],r,u,s,v),c[2]=Math.max(c[2],n,p,o,q),c[3]=Math.max(c[3],r,u,s,v)}static inverseTransform(a){let b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]}static singularValueDecompose2dScale(a,b){let c=a[0],d=a[1],e=a[2],f=a[3],g=c**2+d**2,h=e**2+f**2,i=(g+h)/2,j=Math.sqrt(i**2-(g*h-(c*e+d*f)**2));b[0]=Math.sqrt(i+j||1),b[1]=Math.sqrt(i-j||1)}static normalizeRect(a){let b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b}static intersect(a,b){let c=Math.max(Math.min(a[0],a[2]),Math.min(b[0],b[2])),d=Math.min(Math.max(a[0],a[2]),Math.max(b[0],b[2]));if(c>d)return null;let e=Math.max(Math.min(a[1],a[3]),Math.min(b[1],b[3])),f=Math.min(Math.max(a[1],a[3]),Math.max(b[1],b[3]));return e>f?null:[c,e,d,f]}static pointBoundingBox(a,b,c){c[0]=Math.min(c[0],a),c[1]=Math.min(c[1],b),c[2]=Math.max(c[2],a),c[3]=Math.max(c[3],b)}static rectBoundingBox(a,b,c,d,e){e[0]=Math.min(e[0],a,c),e[1]=Math.min(e[1],b,d),e[2]=Math.max(e[2],a,c),e[3]=Math.max(e[3],b,d)}static #a(a,b,c,d,e,f,g,h,i,j){if(i<=0||i>=1)return;let k=1-i,l=i*i,m=l*i,n=k*(k*(k*a+3*i*b)+3*l*c)+m*d,o=k*(k*(k*e+3*i*f)+3*l*g)+m*h;j[0]=Math.min(j[0],n),j[1]=Math.min(j[1],o),j[2]=Math.max(j[2],n),j[3]=Math.max(j[3],o)}static #b(a,b,c,d,e,f,g,h,i,j,k,l){if(1e-12>Math.abs(i))return void(Math.abs(j)>=1e-12&&this.#a(a,b,c,d,e,f,g,h,-k/j,l));let m=j**2-4*k*i;if(m<0)return;let n=Math.sqrt(m),o=2*i;this.#a(a,b,c,d,e,f,g,h,(-j+n)/o,l),this.#a(a,b,c,d,e,f,g,h,(-j-n)/o,l)}static bezierBoundingBox(a,b,c,d,e,f,g,h,i){i[0]=Math.min(i[0],a,g),i[1]=Math.min(i[1],b,h),i[2]=Math.max(i[2],a,g),i[3]=Math.max(i[3],b,h),this.#b(a,c,e,g,b,d,f,h,3*(3*(c-e)-a+g),6*(a-2*c+e),3*(c-a),i),this.#b(a,c,e,g,b,d,f,h,3*(3*(d-f)-b+h),6*(b-2*d+f),3*(d-b),i)}}let ag=null,ah=null;function ai(a){return ag||(ag=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,ah=new Map([["ﬅ","ſt"]])),a.replaceAll(ag,(a,b,c)=>b?b.normalize("NFKC"):ah.get(c))}function aj(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();let a=new Uint8Array(32);return crypto.getRandomValues(a),ab(a)}let ak="pdfjs_internal_id_";function al(a,b,c){return Math.min(Math.max(a,b),c)}function am(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(ab(a))}"function"!=typeof Math.sumPrecise&&(Math.sumPrecise=function(a){return a.reduce((a,b)=>a+b,0)}),"function"!=typeof AbortSignal.any&&(AbortSignal.any=function(a){let b=new AbortController,{signal:c}=b;for(let d of a)if(d.aborted)return b.abort(d.reason),c;for(let d of a)d.addEventListener("abort",()=>{b.abort(d.reason)},{signal:c});return c}),B(1701),B(4603),B(7566),B(8721);class an{static textContent(a){let b=[],c={items:b,styles:Object.create(null)};return function a(c){if(!c)return;let d=null,e=c.name;if("#text"===e)d=c.value;else{if(!an.shouldBuildText(e))return;c?.attributes?.textContent?d=c.attributes.textContent:c.value&&(d=c.value)}if(null!==d&&b.push({str:d}),c.children)for(let b of c.children)a(b)}(a),c}static shouldBuildText(a){return"textarea"!==a&&"input"!==a&&"option"!==a&&"select"!==a}}class ao{static setupStorage(a,b,c,d,e){let f=d.getValue(b,{value:null});switch(c.name){case"textarea":if(null!==f.value&&(a.textContent=f.value),"print"===e)break;a.addEventListener("input",a=>{d.setValue(b,{value:a.target.value})});break;case"input":if("radio"===c.attributes.type||"checkbox"===c.attributes.type){if(f.value===c.attributes.xfaOn?a.setAttribute("checked",!0):f.value===c.attributes.xfaOff&&a.removeAttribute("checked"),"print"===e)break;a.addEventListener("change",a=>{d.setValue(b,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(null!==f.value&&a.setAttribute("value",f.value),"print"===e)break;a.addEventListener("input",a=>{d.setValue(b,{value:a.target.value})})}break;case"select":if(null!==f.value)for(let b of(a.setAttribute("value",f.value),c.children))b.attributes.value===f.value?b.attributes.selected=!0:b.attributes.hasOwnProperty("selected")&&delete b.attributes.selected;a.addEventListener("input",a=>{let c=a.target.options,e=-1===c.selectedIndex?"":c[c.selectedIndex].value;d.setValue(b,{value:e})})}}static setAttributes({html:a,element:b,storage:c=null,intent:d,linkService:e}){let{attributes:f}=b,g=a instanceof HTMLAnchorElement;for(let[b,c]of("radio"===f.type&&(f.name=`${f.name}-${d}`),Object.entries(f)))if(null!=c)switch(b){case"class":c.length&&a.setAttribute(b,c.join(" "));break;case"dataId":break;case"id":a.setAttribute("data-element-id",c);break;case"style":Object.assign(a.style,c);break;case"textContent":a.textContent=c;break;default:g&&("href"===b||"newWindow"===b)||a.setAttribute(b,c)}g&&e.addLinkAttributes(a,f.href,f.newWindow),c&&f.dataId&&this.setupStorage(a,f.dataId,b,c)}static render(a){let b=a.annotationStorage,c=a.linkService,d=a.xfaHtml,e=a.intent||"display",f=document.createElement(d.name);d.attributes&&this.setAttributes({html:f,element:d,intent:e,linkService:c});let g="richText"!==e,h=a.div;if(h.append(f),a.viewport){let b=`matrix(${a.viewport.transform.join(",")})`;h.style.transform=b}g&&h.setAttribute("class","xfaLayer xfaFont");let i=[];if(0===d.children.length){if(d.value){let a=document.createTextNode(d.value);f.append(a),g&&an.shouldBuildText(d.name)&&i.push(a)}return{textDivs:i}}let j=[[d,-1,f]];for(;j.length>0;){let[a,d,f]=j.at(-1);if(d+1===a.children.length){j.pop();continue}let h=a.children[++j.at(-1)[1]];if(null===h)continue;let{name:k}=h;if("#text"===k){let a=document.createTextNode(h.value);i.push(a),f.append(a);continue}let l=h?.attributes?.xmlns?document.createElementNS(h.attributes.xmlns,k):document.createElement(k);if(f.append(l),h.attributes&&this.setAttributes({html:l,element:h,storage:b,intent:e,linkService:c}),h.children?.length>0)j.push([h,-1,l]);else if(h.value){let a=document.createTextNode(h.value);g&&an.shouldBuildText(k)&&i.push(a),l.append(a)}}for(let a of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))a.setAttribute("readOnly",!0);return{textDivs:i}}static update(a){let b=`matrix(${a.viewport.transform.join(",")})`;a.div.style.transform=b,a.div.hidden=!1}}let ap="http://www.w3.org/2000/svg";class aq{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function ar(a,b="text"){if(az(a,document.baseURI)){let c=await fetch(a);if(!c.ok)throw Error(c.statusText);switch(b){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"json":return c.json()}return c.text()}return new Promise((c,d)=>{let e=new XMLHttpRequest;e.open("GET",a,!0),e.responseType=b,e.onreadystatechange=()=>{if(e.readyState===XMLHttpRequest.DONE)if(200!==e.status&&0!==e.status)d(Error(e.statusText));else{switch(b){case"arraybuffer":case"blob":case"json":return void c(e.response)}c(e.responseText)}},e.send(null)})}class as{constructor({viewBox:a,userUnit:b,scale:c,rotation:d,offsetX:e=0,offsetY:f=0,dontFlip:g=!1}){let h,i,j,k,l,m,n,o;this.viewBox=a,this.userUnit=b,this.scale=c,this.rotation=d,this.offsetX=e,this.offsetY=f,c*=b;let p=(a[2]+a[0])/2,q=(a[3]+a[1])/2;switch((d%=360)<0&&(d+=360),d){case 180:h=-1,i=0,j=0,k=1;break;case 90:h=0,i=1,j=1,k=0;break;case 270:h=0,i=-1,j=-1,k=0;break;case 0:h=1,i=0,j=0,k=-1;break;default:throw Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}g&&(j=-j,k=-k),0===h?(l=Math.abs(q-a[1])*c+e,m=Math.abs(p-a[0])*c+f,n=(a[3]-a[1])*c,o=(a[2]-a[0])*c):(l=Math.abs(p-a[0])*c+e,m=Math.abs(q-a[1])*c+f,n=(a[2]-a[0])*c,o=(a[3]-a[1])*c),this.transform=[h*c,i*c,j*c,k*c,l-h*c*p-j*c*q,m-i*c*p-k*c*q],this.width=n,this.height=o}get rawDims(){let a=this.viewBox;return V(this,"rawDims",{pageWidth:a[2]-a[0],pageHeight:a[3]-a[1],pageX:a[0],pageY:a[1]})}clone({scale:a=this.scale,rotation:b=this.rotation,offsetX:c=this.offsetX,offsetY:d=this.offsetY,dontFlip:e=!1}={}){return new as({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:a,rotation:b,offsetX:c,offsetY:d,dontFlip:e})}convertToViewportPoint(a,b){let c=[a,b];return af.applyTransform(c,this.transform),c}convertToViewportRectangle(a){let b=[a[0],a[1]];af.applyTransform(b,this.transform);let c=[a[2],a[3]];return af.applyTransform(c,this.transform),[b[0],b[1],c[0],c[1]]}convertToPdfPoint(a,b){let c=[a,b];return af.applyInverseTransform(c,this.transform),c}}class at extends W{constructor(a,b=0){super(a,"RenderingCancelledException"),this.extraDelay=b}}function au(a){let b=a.length,c=0;for(;c<b&&""===a[c].trim();)c++;return"data:"===a.substring(c,c+5).toLowerCase()}function av(a){return"string"==typeof a&&/\.pdf$/i.test(a)}function aw(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function ax(a,b="document.pdf"){if("string"!=typeof a)return b;if(au(a))return Q('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),b;let c=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(a);if(!c)return b;let d=a=>{try{let b=decodeURIComponent(a);return b.includes("/")?(b=b.split("/").at(-1)).test(/^\.pdf$/i)?b:a:b}catch{return a}},e=/\.pdf$/i,f=c.pathname.split("/").at(-1);if(e.test(f))return d(f);if(c.searchParams.size>0){for(let a of Array.from(c.searchParams.values()).reverse())if(e.test(a))return d(a);for(let a of Array.from(c.searchParams.keys()).reverse())if(e.test(a))return d(a)}if(c.hash){let a=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(c.hash);if(a)return d(a[0])}return b}class ay{started=Object.create(null);times=[];time(a){a in this.started&&Q(`Timer is already running for ${a}`),this.started[a]=Date.now()}timeEnd(a){a in this.started||Q(`Timer has not been started for ${a}`),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}toString(){let a=[],b=0;for(let{name:a}of this.times)b=Math.max(a.length,b);for(let{name:c,start:d,end:e}of this.times)a.push(`${c.padEnd(b)} ${e-d}ms
`);return a.join("")}}function az(a,b){let c=b?URL.parse(a,b):URL.parse(a);return"http:"===c?.protocol||"https:"===c?.protocol}function aA(a){a.preventDefault()}function aB(a){a.preventDefault(),a.stopPropagation()}class aC{static #c;static toDateObject(a){if(a instanceof Date)return a;if(!a||"string"!=typeof a)return null;this.#c||=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let b=this.#c.exec(a);if(!b)return null;let c=parseInt(b[1],10),d=parseInt(b[2],10);d=d>=1&&d<=12?d-1:0;let e=parseInt(b[3],10);e=e>=1&&e<=31?e:1;let f=parseInt(b[4],10);f=f>=0&&f<=23?f:0;let g=parseInt(b[5],10);g=g>=0&&g<=59?g:0;let h=parseInt(b[6],10);h=h>=0&&h<=59?h:0;let i=b[7]||"Z",j=parseInt(b[8],10);j=j>=0&&j<=23?j:0;let k=parseInt(b[9],10)||0;return k=k>=0&&k<=59?k:0,"-"===i?(f+=j,g+=k):"+"===i&&(f-=j,g-=k),new Date(Date.UTC(c,d,e,f,g,h))}}function aD(a,{scale:b=1,rotation:c=0}){let{width:d,height:e}=a.attributes.style;return new as({viewBox:[0,0,parseInt(d),parseInt(e)],userUnit:1,scale:b,rotation:c})}function aE(a){if(a.startsWith("#")){let b=parseInt(a.slice(1),16);return[(0xff0000&b)>>16,(65280&b)>>8,255&b]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(a=>parseInt(a)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(a=>parseInt(a)).slice(0,3):(Q(`Not a valid color format: "${a}"`),[0,0,0])}function aF(a){let{a:b,b:c,c:d,d:e,e:f,f:g}=a.getTransform();return[b,c,d,e,f,g]}function aG(a){let{a:b,b:c,c:d,d:e,e:f,f:g}=a.getTransform().invertSelf();return[b,c,d,e,f,g]}function aH(a,b,c=!1,d=!0){if(b instanceof as){let{pageWidth:d,pageHeight:e}=b.rawDims,{style:f}=a,g=ad.isCSSRoundSupported,h=`var(--total-scale-factor) * ${d}px`,i=`var(--total-scale-factor) * ${e}px`,j=g?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,k=g?`round(down, ${i}, var(--scale-round-y))`:`calc(${i})`;c&&b.rotation%180!=0?(f.width=k,f.height=j):(f.width=j,f.height=k)}d&&a.setAttribute("data-main-rotation",b.rotation)}class aI{constructor(){let{pixelRatio:a}=aI;this.sx=a,this.sy=a}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(a,b,c,d,e=-1){let f=1/0,g=1/0,h=1/0;(c=aI.capPixels(c,e))>0&&(f=Math.sqrt(c/(a*b))),-1!==d&&(g=d/a,h=d/b);let i=Math.min(f,g,h);return(this.sx>i||this.sy>i)&&(this.sx=i,this.sy=i,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(a,b){if(b>=0){let c=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+b/100));return a>0?Math.min(a,c):c}return a}}let aJ=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class aK{static get isDarkMode(){return V(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class aL{static get commentForegroundColor(){let a=document.createElement("span");a.classList.add("comment","sidebar");let{style:b}=a;b.width=b.height="0",b.display="none",b.color="var(--comment-fg-color)",document.body.append(a);let{color:c}=window.getComputedStyle(a);return a.remove(),V(this,"commentForegroundColor",aE(c))}}function aM(a,b,c,d){let e=255*(1-(d=Math.min(Math.max(d??1,0),1)));return[a=Math.round(a*d+e),b=Math.round(b*d+e),c=Math.round(c*d+e)]}function aN(a,b){let c=a[0]/255,d=a[1]/255,e=a[2]/255,f=Math.max(c,d,e),g=Math.min(c,d,e),h=(f+g)/2;if(f===g)b[0]=b[1]=0;else{let a=f-g;switch(b[1]=h<.5?a/(f+g):a/(2-f-g),f){case c:b[0]=60*((d-e)/a+6*(d<e));break;case d:b[0]=60*((e-c)/a+2);break;case e:b[0]=60*((c-d)/a+4)}}b[2]=h}function aO(a,b){let c=a[0],d=a[1],e=a[2],f=(1-Math.abs(2*e-1))*d,g=f*(1-Math.abs(c/60%2-1)),h=e-f/2;switch(Math.floor(c/60)){case 0:b[0]=f+h,b[1]=g+h,b[2]=h;break;case 1:b[0]=g+h,b[1]=f+h,b[2]=h;break;case 2:b[0]=h,b[1]=f+h,b[2]=g+h;break;case 3:b[0]=h,b[1]=g+h,b[2]=f+h;break;case 4:b[0]=g+h,b[1]=h,b[2]=f+h;break;case 5:case 6:b[0]=f+h,b[1]=h,b[2]=g+h}}function aP(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function aQ(a,b,c){aO(a,c),c.map(aP);let d=.2126*c[0]+.7152*c[1]+.0722*c[2];aO(b,c),c.map(aP);let e=.2126*c[0]+.7152*c[1]+.0722*c[2];return d>e?(d+.05)/(e+.05):(e+.05)/(d+.05)}let aR=new Map;function aS(a,b){let c=a[0]+256*a[1]+65536*a[2]+0x1000000*b[0]+0x100000000*b[1]+0x10000000000*b[2],d=aR.get(c);if(d)return d;let e=new Float32Array(9),f=e.subarray(0,3),g=e.subarray(3,6);aN(a,g);let h=e.subarray(6,9);aN(b,h);let i=h[2]<.5,j=i?12:4.5;if(g[2]=i?Math.sqrt(g[2]):1-Math.sqrt(1-g[2]),aQ(g,h,f)<j){let a,b;for(i?(a=g[2],b=1):(a=0,b=g[2]);b-a>.005;){let c=g[2]=(a+b)/2;i===aQ(g,h,f)<j?a=c:b=c}g[2]=i?b:a}return aO(g,f),d=af.makeHexColor(Math.round(255*f[0]),Math.round(255*f[1]),Math.round(255*f[2])),aR.set(c,d),d}function aT({html:a,dir:b,className:c},d){let e=document.createDocumentFragment();if("string"==typeof a){let c=document.createElement("p");c.dir=b||"auto";let d=a.split(/(?:\r\n?|\n)/);for(let a=0,b=d.length;a<b;++a){let e=d[a];c.append(document.createTextNode(e)),a<b-1&&c.append(document.createElement("br"))}e.append(c)}else ao.render({xfaHtml:a,div:e,intent:"richText"});e.firstChild.classList.add("richText",c),d.append(e)}B(4972),B(4628),B(7642),B(8004),B(3853),B(5876),B(2475),B(5024),B(1698),B(9314),B(1148),B(3579),B(8335);class aU{#d=null;#e=null;#f;#g=null;#h=null;#i=null;#j=null;#k=null;static #l=null;constructor(a){this.#f=a,aU.#l||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){let a=this.#d=document.createElement("div");a.classList.add("editToolbar","hidden"),a.setAttribute("role","toolbar");let b=this.#f._uiManager._signal;b instanceof AbortSignal&&!b.aborted&&(a.addEventListener("contextmenu",aA,{signal:b}),a.addEventListener("pointerdown",aU.#m,{signal:b}));let c=this.#g=document.createElement("div");c.className="buttons",a.append(c);let d=this.#f.toolbarPosition;if(d){let{style:b}=a;b.insetInlineEnd=100*("ltr"===this.#f._uiManager.direction?1-d[0]:d[0])+"%",b.top=`calc(${100*d[1]}% + var(--editor-toolbar-vert-offset))`}return a}get div(){return this.#d}static #m(a){a.stopPropagation()}#n(a){this.#f._focusEventsAllowed=!1,aB(a)}#o(a){this.#f._focusEventsAllowed=!0,aB(a)}#p(a){let b=this.#f._uiManager._signal;return b instanceof AbortSignal&&!b.aborted&&(a.addEventListener("focusin",this.#n.bind(this),{capture:!0,signal:b}),a.addEventListener("focusout",this.#o.bind(this),{capture:!0,signal:b}),a.addEventListener("contextmenu",aA,{signal:b}),!0)}hide(){this.#d.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#d.classList.remove("hidden"),this.#h?.shown(),this.#i?.shown()}addDeleteButton(){let{editorType:a,_uiManager:b}=this.#f,c=document.createElement("button");c.classList.add("basic","deleteButton"),c.tabIndex=0,c.setAttribute("data-l10n-id",aU.#l[a]),this.#p(c)&&c.addEventListener("click",a=>{b.delete()},{signal:b._signal}),this.#g.append(c)}get #q(){let a=document.createElement("div");return a.className="divider",a}async addAltText(a){let b=await a.render();this.#p(b),this.#g.append(b,this.#q),this.#h=a}addComment(a,b=null){if(this.#i)return;let c=a.renderForToolbar();if(!c)return;this.#p(c);let d=this.#j=this.#q;b?(this.#g.insertBefore(c,b),this.#g.insertBefore(d,b)):this.#g.append(c,d),this.#i=a,a.toolbar=this}addColorPicker(a){if(this.#e)return;this.#e=a;let b=a.renderButton();this.#p(b),this.#g.append(b,this.#q)}async addEditSignatureButton(a){let b=this.#k=await a.renderEditButton(this.#f);this.#p(b),this.#g.append(b,this.#q)}removeButton(a){"comment"===a&&(this.#i?.removeToolbarCommentButton(),this.#i=null,this.#j?.remove(),this.#j=null)}async addButton(a,b){switch(a){case"colorPicker":this.addColorPicker(b);break;case"altText":await this.addAltText(b);break;case"editSignature":await this.addEditSignatureButton(b);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(b)}}async addButtonBefore(a,b,c){let d=this.#g.querySelector(c);d&&"comment"===a&&this.addComment(b,d)}updateEditSignatureButton(a){this.#k&&(this.#k.title=a)}remove(){this.#d.remove(),this.#e?.destroy(),this.#e=null}}class aV{#g=null;#d=null;#r;constructor(a){this.#r=a}#s(){let a=this.#d=document.createElement("div");a.className="editToolbar",a.setAttribute("role","toolbar");let b=this.#r._signal;b instanceof AbortSignal&&!b.aborted&&a.addEventListener("contextmenu",aA,{signal:b});let c=this.#g=document.createElement("div");return c.className="buttons",a.append(c),this.#r.hasCommentManager()&&this.#t("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#t("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),a}#u(a,b){let c=0,d=0;for(let e of a){let a=e.y+e.height;if(a<c)continue;let f=e.x+(b?e.width:0);a>c?(d=f,c=a):b?f>d&&(d=f):f<d&&(d=f)}return[b?1-d:d,c]}show(a,b,c){let[d,e]=this.#u(b,c),{style:f}=this.#d||=this.#s();a.append(this.#d),f.insetInlineEnd=100*d+"%",f.top=`calc(${100*e}% + var(--editor-toolbar-vert-offset))`}hide(){this.#d.remove()}#t(a,b,c,d){let e=document.createElement("button");e.classList.add("basic",a),e.tabIndex=0,e.setAttribute("data-l10n-id",b);let f=document.createElement("span");e.append(f),f.className="visuallyHidden",f.setAttribute("data-l10n-id",c);let g=this.#r._signal;g instanceof AbortSignal&&!g.aborted&&(e.addEventListener("contextmenu",aA,{signal:g}),e.addEventListener("click",d,{signal:g})),this.#g.append(e)}}function aW(a,b,c){for(let d of c)b.addEventListener(d,a[d].bind(a))}class aX{#v=0;get id(){return`${F}${this.#v++}`}}class aY{#w=aj();#v=0;#x=null;static get _isSVGFittingCanvas(){let a=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),b=new Image;return b.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',V(this,"_isSVGFittingCanvas",b.decode().then(()=>(a.drawImage(b,0,0,1,1,0,0,1,3),0===new Uint32Array(a.getImageData(0,0,1,1).data.buffer)[0])))}async #y(a,b){this.#x||=new Map;let c=this.#x.get(a);if(null===c)return null;if(c?.bitmap)return c.refCounter+=1,c;try{let a;if(c||={bitmap:null,id:`image_${this.#w}_${this.#v++}`,refCounter:0,isSvg:!1},"string"==typeof b?(c.url=b,a=await ar(b,"blob")):b instanceof File?a=c.file=b:b instanceof Blob&&(a=b),"image/svg+xml"===a.type){let b=aY._isSVGFittingCanvas,d=new FileReader,e=new Image,f=new Promise((a,f)=>{e.onload=()=>{c.bitmap=e,c.isSvg=!0,a()},d.onload=async()=>{let a=c.svgUrl=d.result;e.src=await b?`${a}#svgView(preserveAspectRatio(none))`:a},e.onerror=d.onerror=f});d.readAsDataURL(a),await f}else c.bitmap=await createImageBitmap(a);c.refCounter=1}catch(a){Q(a),c=null}return this.#x.set(a,c),c&&this.#x.set(c.id,c),c}async getFromFile(a){let{lastModified:b,name:c,size:d,type:e}=a;return this.#y(`${b}_${c}_${d}_${e}`,a)}async getFromUrl(a){return this.#y(a,a)}async getFromBlob(a,b){let c=await b;return this.#y(a,c)}async getFromId(a){this.#x||=new Map;let b=this.#x.get(a);if(!b)return null;if(b.bitmap)return b.refCounter+=1,b;if(b.file)return this.getFromFile(b.file);if(b.blobPromise){let{blobPromise:a}=b;return delete b.blobPromise,this.getFromBlob(b.id,a)}return this.getFromUrl(b.url)}getFromCanvas(a,b){this.#x||=new Map;let c=this.#x.get(a);if(c?.bitmap)return c.refCounter+=1,c;let d=new OffscreenCanvas(b.width,b.height);return d.getContext("2d").drawImage(b,0,0),c={bitmap:d.transferToImageBitmap(),id:`image_${this.#w}_${this.#v++}`,refCounter:1,isSvg:!1},this.#x.set(a,c),this.#x.set(c.id,c),c}getSvgUrl(a){let b=this.#x.get(a);return b?.isSvg?b.svgUrl:null}deleteId(a){this.#x||=new Map;let b=this.#x.get(a);if(!b||(b.refCounter-=1,0!==b.refCounter))return;let{bitmap:c}=b;if(!b.url&&!b.file){let a=new OffscreenCanvas(c.width,c.height);a.getContext("bitmaprenderer").transferFromImageBitmap(c),b.blobPromise=a.convertToBlob()}c.close?.(),b.bitmap=null}isValidId(a){return a.startsWith(`image_${this.#w}_`)}}class aZ{#z=[];#A=!1;#B;#C=-1;constructor(a=128){this.#B=a}add({cmd:a,undo:b,post:c,mustExec:d,type:e=NaN,overwriteIfSameType:f=!1,keepUndo:g=!1}){if(d&&a(),this.#A)return;let h={cmd:a,undo:b,post:c,type:e};if(-1===this.#C)return this.#z.length>0&&(this.#z.length=0),this.#C=0,void this.#z.push(h);if(f&&this.#z[this.#C].type===e)return g&&(h.undo=this.#z[this.#C].undo),void(this.#z[this.#C]=h);let i=this.#C+1;i===this.#B?this.#z.splice(0,1):(this.#C=i,i<this.#z.length&&this.#z.splice(i)),this.#z.push(h)}undo(){if(-1===this.#C)return;this.#A=!0;let{undo:a,post:b}=this.#z[this.#C];a(),b?.(),this.#A=!1,this.#C-=1}redo(){if(this.#C<this.#z.length-1){this.#C+=1,this.#A=!0;let{cmd:a,post:b}=this.#z[this.#C];a(),b?.(),this.#A=!1}}hasSomethingToUndo(){return -1!==this.#C}hasSomethingToRedo(){return this.#C<this.#z.length-1}cleanType(a){if(-1!==this.#C){for(let b=this.#C;b>=0;b--)if(this.#z[b].type!==a)return this.#z.splice(b+1,this.#C-b),void(this.#C=b);this.#z.length=0,this.#C=-1}}destroy(){this.#z=null}}class a${constructor(a){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:b}=ad.platform;for(let[c,d,e={}]of a)for(let a of c){let c=a.startsWith("mac+");b&&c?(this.callbacks.set(a.slice(4),{callback:d,options:e}),this.allKeys.add(a.split("+").at(-1))):b||c||(this.callbacks.set(a,{callback:d,options:e}),this.allKeys.add(a.split("+").at(-1)))}}#D(a){a.altKey&&this.buffer.push("alt"),a.ctrlKey&&this.buffer.push("ctrl"),a.metaKey&&this.buffer.push("meta"),a.shiftKey&&this.buffer.push("shift"),this.buffer.push(a.key);let b=this.buffer.join("+");return this.buffer.length=0,b}exec(a,b){if(!this.allKeys.has(b.key))return;let c=this.callbacks.get(this.#D(b));if(!c)return;let{callback:d,options:{bubbles:e=!1,args:f=[],checker:g=null}}=c;g&&!g(a,b)||(d.bind(a,...f,b)(),e||aB(b))}}class a_{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let a=new Map([["CanvasText",null],["Canvas",null]]);return function(a){let b=document.createElement("span");for(let c of(b.style.visibility="hidden",b.style.colorScheme="only light",document.body.append(b),a.keys())){b.style.color=c;let d=window.getComputedStyle(b).color;a.set(c,aE(d))}b.remove()}(a),V(this,"_colors",a)}convert(a){let b=aE(a);if(!window.matchMedia("(forced-colors: active)").matches)return b;for(let[a,c]of this._colors)if(c.every((a,c)=>a===b[c]))return a_._colorsMapping.get(a);return b}getHexCode(a){let b=this._colors.get(a);return b?af.makeHexColor(...b):a}}class a0{#E=new AbortController;#F=null;#G=null;#H=new Map;#I=new Map;#J=null;#K=null;#L=null;#M=new aZ;#N=null;#O=null;#P=null;#Q=0;#R=new Set;#S=null;#T=null;#U=new Set;_editorUndoBar=null;#V=!1;#W=!1;#X=!1;#Y=null;#Z=null;#$=null;#_=null;#aa=!1;#ab=null;#ac=new aX;#ad=!1;#ae=!1;#af=!1;#ag=null;#ah=null;#ai=null;#aj=null;#ak=null;#al=G.NONE;#am=new Set;#an=null;#ao=null;#ap=null;#aq=null;#ar=null;#as={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#at=[0,0];#au=null;#av=null;#aw=null;#ax=null;#ay=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let a=a0.prototype,b=a=>a.#av.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&a.hasSomethingToControl(),c=(a,{target:b})=>{if(b instanceof HTMLInputElement){let{type:a}=b;return"text"!==a&&"number"!==a}return!0},d=this.TRANSLATE_SMALL,e=this.TRANSLATE_BIG;return V(this,"_keyboardManager",new a$([[["ctrl+a","mac+meta+a"],a.selectAll,{checker:c}],[["ctrl+z","mac+meta+z"],a.undo,{checker:c}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],a.redo,{checker:c}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],a.delete,{checker:c}],[["Enter","mac+Enter"],a.addNewEditorFromKeyboard,{checker:(a,{target:b})=>!(b instanceof HTMLButtonElement)&&a.#av.contains(b)&&!a.isEnterHandled}],[[" ","mac+ "],a.addNewEditorFromKeyboard,{checker:(a,{target:b})=>!(b instanceof HTMLButtonElement)&&a.#av.contains(document.activeElement)}],[["Escape","mac+Escape"],a.unselectAll],[["ArrowLeft","mac+ArrowLeft"],a.translateSelectedEditors,{args:[-d,0],checker:b}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a.translateSelectedEditors,{args:[-e,0],checker:b}],[["ArrowRight","mac+ArrowRight"],a.translateSelectedEditors,{args:[d,0],checker:b}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a.translateSelectedEditors,{args:[e,0],checker:b}],[["ArrowUp","mac+ArrowUp"],a.translateSelectedEditors,{args:[0,-d],checker:b}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a.translateSelectedEditors,{args:[0,-e],checker:b}],[["ArrowDown","mac+ArrowDown"],a.translateSelectedEditors,{args:[0,d],checker:b}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a.translateSelectedEditors,{args:[0,e],checker:b}]]))}constructor(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){let q=this._signal=this.#E.signal;this.#av=a,this.#aw=b,this.#ax=c,this.#J=d,this.#N=e,this.#ao=f,this.#ar=h,this._eventBus=g,g._on("editingaction",this.onEditingAction.bind(this),{signal:q}),g._on("pagechanging",this.onPageChanging.bind(this),{signal:q}),g._on("scalechanging",this.onScaleChanging.bind(this),{signal:q}),g._on("rotationchanging",this.onRotationChanging.bind(this),{signal:q}),g._on("setpreference",this.onSetPreference.bind(this),{signal:q}),g._on("switchannotationeditorparams",a=>this.updateParams(a.type,a.value),{signal:q}),window.addEventListener("pointerdown",()=>{this.#ae=!0},{capture:!0,signal:q}),window.addEventListener("pointerup",()=>{this.#ae=!1},{capture:!0,signal:q}),this.#az(),this.#aA(),this.#aB(),this.#K=h.annotationStorage,this.#Y=h.filterFactory,this.#ap=i,this.#_=j||null,this.#V=k,this.#W=l,this.#X=m,this.#ak=n||null,this.viewParameters={realScale:aq.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=o||null,this._supportsPinchToZoom=!1!==p,e?.setSidebarUiManager(this)}destroy(){for(let a of(this.#ay?.resolve(),this.#ay=null,this.#E?.abort(),this.#E=null,this._signal=null,this.#I.values()))a.destroy();this.#I.clear(),this.#H.clear(),this.#U.clear(),this.#aj?.clear(),this.#F=null,this.#am.clear(),this.#M.destroy(),this.#J?.destroy(),this.#N?.destroy(),this.#ao?.destroy(),this.#ab?.hide(),this.#ab=null,this.#ai?.destroy(),this.#ai=null,this.#G=null,this.#Z&&(clearTimeout(this.#Z),this.#Z=null),this.#au&&(clearTimeout(this.#au),this.#au=null),this._editorUndoBar?.destroy(),this.#ar=null}combinedSignal(a){return AbortSignal.any([this._signal,a.signal])}get mlManager(){return this.#ak}get useNewAltTextFlow(){return this.#W}get useNewAltTextWhenAddingImage(){return this.#X}get hcmFilter(){return V(this,"hcmFilter",this.#ap?this.#Y.addHCMFilter(this.#ap.foreground,this.#ap.background):"none")}get direction(){return V(this,"direction",getComputedStyle(this.#av).direction)}get _highlightColors(){return V(this,"_highlightColors",this.#_?new Map(this.#_.split(",").map(a=>((a=a.split("=").map(a=>a.trim()))[1]=a[1].toUpperCase(),a))):null)}get highlightColors(){let{_highlightColors:a}=this;if(!a)return V(this,"highlightColors",null);let b=new Map,c=!!this.#ap;for(let[d,e]of a){let a=d.endsWith("_HCM");c&&a?b.set(d.replace("_HCM",""),e):c||a||b.set(d,e)}return V(this,"highlightColors",b)}get highlightColorNames(){return V(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,a=>a.reverse())):null)}getNonHCMColor(a){if(!this._highlightColors)return a;let b=this.highlightColorNames.get(a);return this._highlightColors.get(b)||a}getNonHCMColorName(a){return this.highlightColorNames.get(a)||a}setCurrentDrawingSession(a){a?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#P=a}setMainHighlightColorPicker(a){this.#ai=a}editAltText(a,b=!1){this.#J?.editAltText(this,a,b)}hasCommentManager(){return!!this.#N}editComment(a,b,c,d){this.#N?.showDialog(this,a,b,c,d)}selectComment(a,b){let c=this.#I.get(a),d=c?.getEditorByUID(b);d?.toggleComment(!0,!0)}updateComment(a){this.#N?.updateComment(a.getData())}updatePopupColor(a){this.#N?.updatePopupColor(a)}removeComment(a){this.#N?.removeComments([a.uid])}toggleComment(a,b,c){this.#N?.toggleCommentPopup(a,b,c)}makeCommentColor(a,b){return a&&this.#N?.makeCommentColor(a,b)||null}getCommentDialogElement(){return this.#N?.dialogElement||null}async waitForEditorsRendered(a){if(this.#I.has(a-1))return;let{resolve:b,promise:c}=Promise.withResolvers(),d=c=>{c.pageNumber===a&&(this._eventBus._off("editorsrendered",d),b())};this._eventBus.on("editorsrendered",d),await c}getSignature(a){this.#ao?.getSignature({uiManager:this,editor:a})}get signatureManager(){return this.#ao}switchToMode(a,b){this._eventBus.on("annotationeditormodechanged",b,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:a})}setPreference(a,b){this._eventBus.dispatch("setpreference",{source:this,name:a,value:b})}onSetPreference({name:a,value:b}){"enableNewAltTextWhenAddingImage"===a&&(this.#X=b)}onPageChanging({pageNumber:a}){this.#Q=a-1}focusMainContainer(){this.#av.focus()}findParent(a,b){for(let c of this.#I.values()){let{x:d,y:e,width:f,height:g}=c.div.getBoundingClientRect();if(a>=d&&a<=d+f&&b>=e&&b<=e+g)return c}return null}disableUserSelect(a=!1){this.#aw.classList.toggle("noUserSelect",a)}addShouldRescale(a){this.#U.add(a)}removeShouldRescale(a){this.#U.delete(a)}onScaleChanging({scale:a}){for(let b of(this.commitOrRemove(),this.viewParameters.realScale=a*aq.PDF_TO_CSS_UNITS,this.#U))b.onScaleChanging();this.#P?.onScaleChanging()}onRotationChanging({pagesRotation:a}){this.commitOrRemove(),this.viewParameters.rotation=a}#aC({anchorNode:a}){return a.nodeType===Node.TEXT_NODE?a.parentElement:a}#aD(a){let{currentLayer:b}=this;if(b.hasTextLayer(a))return b;for(let b of this.#I.values())if(b.hasTextLayer(a))return b;return null}highlightSelection(a="",b=!1){let c=document.getSelection();if(!c||c.isCollapsed)return;let{anchorNode:d,anchorOffset:e,focusNode:f,focusOffset:g}=c,h=c.toString(),i=this.#aC(c).closest(".textLayer"),j=this.getSelectionBoxes(i);if(!j)return;c.empty();let k=this.#aD(i),l=this.#al===G.NONE,m=()=>{let c=k?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:a,boxes:j,anchorNode:d,anchorOffset:e,focusNode:f,focusOffset:g,text:h});l&&this.showAllEditors("highlight",!0,!0),b&&c?.editComment()};l?this.switchToMode(G.HIGHLIGHT,m):m()}commentSelection(a=""){this.highlightSelection(a,!0)}#aE(){let a=document.getSelection();if(!a||a.isCollapsed)return;let b=this.#aC(a).closest(".textLayer"),c=this.getSelectionBoxes(b);c&&(this.#ab||=new aV(this),this.#ab.show(b,c,"ltr"===this.direction))}getAndRemoveDataFromAnnotationStorage(a){if(!this.#K)return null;let b=`${F}${a}`,c=this.#K.getRawValue(b);return c&&this.#K.remove(b),c}addToAnnotationStorage(a){a.isEmpty()||!this.#K||this.#K.has(a.id)||this.#K.setValue(a.id,a)}a11yAlert(a,b=null){let c=this.#ax;c&&(c.setAttribute("data-l10n-id",a),b?c.setAttribute("data-l10n-args",JSON.stringify(b)):c.removeAttribute("data-l10n-args"))}#aF(){let a=document.getSelection();if(!a||a.isCollapsed)return void(this.#an&&(this.#ab?.hide(),this.#an=null,this.#aG({hasSelectedText:!1})));let{anchorNode:b}=a;if(b===this.#an)return;let c=this.#aC(a).closest(".textLayer");if(c){if(this.#ab?.hide(),this.#an=b,this.#aG({hasSelectedText:!0}),(this.#al===G.HIGHLIGHT||this.#al===G.NONE)&&(this.#al===G.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#aa=this.isShiftKeyDown,!this.isShiftKeyDown)){let a=this.#al===G.HIGHLIGHT?this.#aD(c):null;if(a?.toggleDrawing(),this.#ae){let b=new AbortController,c=this.combinedSignal(b),d=c=>{"pointerup"===c.type&&0!==c.button||(b.abort(),a?.toggleDrawing(!0),"pointerup"===c.type&&this.#aH("main_toolbar"))};window.addEventListener("pointerup",d,{signal:c}),window.addEventListener("blur",d,{signal:c})}else a?.toggleDrawing(!0),this.#aH("main_toolbar")}}else this.#an&&(this.#ab?.hide(),this.#an=null,this.#aG({hasSelectedText:!1}))}#aH(a=""){this.#al===G.HIGHLIGHT?this.highlightSelection(a):this.#V&&this.#aE()}#az(){document.addEventListener("selectionchange",this.#aF.bind(this),{signal:this._signal})}#aI(){if(this.#$)return;this.#$=new AbortController;let a=this.combinedSignal(this.#$);window.addEventListener("focus",this.focus.bind(this),{signal:a}),window.addEventListener("blur",this.blur.bind(this),{signal:a})}#aJ(){this.#$?.abort(),this.#$=null}blur(){if(this.isShiftKeyDown=!1,this.#aa&&(this.#aa=!1,this.#aH("main_toolbar")),!this.hasSelection)return;let{activeElement:a}=document;for(let b of this.#am)if(b.div.contains(a)){this.#ah=[b,a],b._focusEventsAllowed=!1;break}}focus(){if(!this.#ah)return;let[a,b]=this.#ah;this.#ah=null,b.addEventListener("focusin",()=>{a._focusEventsAllowed=!0},{once:!0,signal:this._signal}),b.focus()}#aB(){if(this.#ag)return;this.#ag=new AbortController;let a=this.combinedSignal(this.#ag);window.addEventListener("keydown",this.keydown.bind(this),{signal:a}),window.addEventListener("keyup",this.keyup.bind(this),{signal:a})}#aK(){this.#ag?.abort(),this.#ag=null}#aL(){if(this.#O)return;this.#O=new AbortController;let a=this.combinedSignal(this.#O);document.addEventListener("copy",this.copy.bind(this),{signal:a}),document.addEventListener("cut",this.cut.bind(this),{signal:a}),document.addEventListener("paste",this.paste.bind(this),{signal:a})}#aM(){this.#O?.abort(),this.#O=null}#aA(){let a=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:a}),document.addEventListener("drop",this.drop.bind(this),{signal:a})}addEditListeners(){this.#aB(),this.#aL()}removeEditListeners(){this.#aK(),this.#aM()}dragOver(a){for(let{type:b}of a.dataTransfer.items)for(let c of this.#T)if(c.isHandlingMimeForPasting(b))return a.dataTransfer.dropEffect="copy",void a.preventDefault()}drop(a){for(let b of a.dataTransfer.items)for(let c of this.#T)if(c.isHandlingMimeForPasting(b.type))return c.paste(b,this.currentLayer),void a.preventDefault()}copy(a){if(a.preventDefault(),this.#F?.commitOrRemove(),!this.hasSelection)return;let b=[];for(let a of this.#am){let c=a.serialize(!0);c&&b.push(c)}0!==b.length&&a.clipboardData.setData("application/pdfjs",JSON.stringify(b))}cut(a){this.copy(a),this.delete()}async paste(a){a.preventDefault();let{clipboardData:b}=a;for(let a of b.items)for(let b of this.#T)if(b.isHandlingMimeForPasting(a.type))return void b.paste(a,this.currentLayer);let c=b.getData("application/pdfjs");if(!c)return;try{c=JSON.parse(c)}catch(a){return void Q(`paste: "${a.message}".`)}if(!Array.isArray(c))return;this.unselectAll();let d=this.currentLayer;try{let a=[];for(let b of c){let c=await d.deserialize(b);if(!c)return;a.push(c)}let b=()=>{for(let b of a)this.#aN(b);this.#aO(a)};this.addCommands({cmd:b,undo:()=>{for(let b of a)b.remove()},mustExec:!0})}catch(a){Q(`paste: "${a.message}".`)}}keydown(a){this.isShiftKeyDown||"Shift"!==a.key||(this.isShiftKeyDown=!0),this.#al===G.NONE||this.isEditorHandlingKeyboard||a0._keyboardManager.exec(this,a)}keyup(a){this.isShiftKeyDown&&"Shift"===a.key&&(this.isShiftKeyDown=!1,this.#aa&&(this.#aa=!1,this.#aH("main_toolbar")))}onEditingAction({name:a}){switch(a){case"undo":case"redo":case"delete":case"selectAll":this[a]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}#aG(a){Object.entries(a).some(([a,b])=>this.#as[a]!==b)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#as,a)}),this.#al===G.HIGHLIGHT&&!1===a.hasSelectedEditor&&this.#aP([[H.HIGHLIGHT_FREE,!0]]))}#aP(a){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:a})}setEditingState(a){a?(this.#aI(),this.#aL(),this.#aG({isEditing:this.#al!==G.NONE,isEmpty:this.#aQ(),hasSomethingToUndo:this.#M.hasSomethingToUndo(),hasSomethingToRedo:this.#M.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#aJ(),this.#aM(),this.#aG({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(a){if(!this.#T)for(let b of(this.#T=a,this.#T))this.#aP(b.defaultPropertiesToUpdate)}getId(){return this.#ac.id}get currentLayer(){return this.#I.get(this.#Q)}getLayer(a){return this.#I.get(a)}get currentPageIndex(){return this.#Q}addLayer(a){this.#I.set(a.pageIndex,a),this.#ad?a.enable():a.disable()}removeLayer(a){this.#I.delete(a.pageIndex)}async updateMode(a,b=null,c=!1,d=!1,e=!1){if(this.#al!==a&&(!this.#ay||(await this.#ay.promise,this.#ay))){if(this.#ay=Promise.withResolvers(),this.#P?.commitOrRemove(),this.#al===G.POPUP&&this.#N?.hideSidebar(),this.#N?.destroyPopup(),this.#al=a,a===G.NONE){for(let a of(this.setEditingState(!1),this.#aR(),this.#H.values()))a.hideStandaloneCommentButton();return this._editorUndoBar?.hide(),this.toggleComment(null),void this.#ay.resolve()}for(let a of this.#H.values())a.addStandaloneCommentButton();for(let b of(a===G.SIGNATURE&&await this.#ao?.loadSignatures(),this.setEditingState(!0),await this.#aS(),this.unselectAll(),this.#I.values()))b.updateMode(a);if(a===G.POPUP){this.#G||=await this.#ar.getAnnotationsByType(new Set(this.#T.map(a=>a._editorType)));let a=new Set,b=[];for(let c of this.#H.values()){let{annotationElementId:d,hasComment:e,deleted:f}=c;d&&a.add(d),e&&!f&&b.push(c.getData())}for(let c of this.#G){let{id:d,popupRef:e,contentsObj:f}=c;e&&f?.str&&!a.has(d)&&!this.#R.has(d)&&b.push(c)}this.#N?.showSidebar(b)}if(!b)return c&&this.addNewEditorFromKeyboard(),void this.#ay.resolve();for(let a of this.#H.values())a.uid===b?(this.setSelected(a),e?a.editComment():d?a.enterInEditMode():a.focus()):a.unselect();this.#ay.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(a){a.mode!==this.#al&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...a})}updateParams(a,b){if(this.#T){switch(a){case H.CREATE:return void this.currentLayer.addNewEditor(b);case H.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#aq||=new Map).set(a,b),this.showAllEditors("highlight",b)}if(this.hasSelection)for(let c of this.#am)c.updateParams(a,b);else for(let c of this.#T)c.updateDefaultParams(a,b)}}showAllEditors(a,b,c=!1){for(let c of this.#H.values())c.editorType===a&&c.show(b);(this.#aq?.get(H.HIGHLIGHT_SHOW_ALL)??!0)!==b&&this.#aP([[H.HIGHLIGHT_SHOW_ALL,b]])}enableWaiting(a=!1){if(this.#af!==a)for(let b of(this.#af=a,this.#I.values()))a?b.disableClick():b.enableClick(),b.div.classList.toggle("waiting",a)}async #aS(){if(!this.#ad){this.#ad=!0;let a=[];for(let b of this.#I.values())a.push(b.enable());for(let b of(await Promise.all(a),this.#H.values()))b.enable()}}#aR(){if(this.unselectAll(),this.#ad){for(let a of(this.#ad=!1,this.#I.values()))a.disable();for(let a of this.#H.values())a.disable()}}*getEditors(a){for(let b of this.#H.values())b.pageIndex===a&&(yield b)}getEditor(a){return this.#H.get(a)}addEditor(a){this.#H.set(a.id,a)}removeEditor(a){a.div.contains(document.activeElement)&&(this.#Z&&clearTimeout(this.#Z),this.#Z=setTimeout(()=>{this.focusMainContainer(),this.#Z=null},0)),this.#H.delete(a.id),a.annotationElementId&&this.#aj?.delete(a.annotationElementId),this.unselect(a),a.annotationElementId&&this.#R.has(a.annotationElementId)||this.#K?.remove(a.id)}addDeletedAnnotationElement(a){this.#R.add(a.annotationElementId),this.addChangedExistingAnnotation(a),a.deleted=!0}isDeletedAnnotationElement(a){return this.#R.has(a)}removeDeletedAnnotationElement(a){this.#R.delete(a.annotationElementId),this.removeChangedExistingAnnotation(a),a.deleted=!1}#aN(a){let b=this.#I.get(a.pageIndex);b?b.addOrRebuild(a):(this.addEditor(a),this.addToAnnotationStorage(a))}setActiveEditor(a){this.#F!==a&&(this.#F=a,a&&this.#aP(a.propertiesToUpdate))}get #aT(){let a=null;for(a of this.#am);return a}updateUI(a){this.#aT===a&&this.#aP(a.propertiesToUpdate)}updateUIForDefaultProperties(a){this.#aP(a.defaultPropertiesToUpdate)}toggleSelected(a){if(this.#am.has(a))return this.#am.delete(a),a.unselect(),void this.#aG({hasSelectedEditor:this.hasSelection});this.#am.add(a),a.select(),this.#aP(a.propertiesToUpdate),this.#aG({hasSelectedEditor:!0})}setSelected(a){for(let b of(this.updateToolbar({mode:a.mode,editId:a.id}),this.#P?.commitOrRemove(),this.#am))b!==a&&b.unselect();this.#am.clear(),this.#am.add(a),a.select(),this.#aP(a.propertiesToUpdate),this.#aG({hasSelectedEditor:!0})}isSelected(a){return this.#am.has(a)}get firstSelectedEditor(){return this.#am.values().next().value}unselect(a){a.unselect(),this.#am.delete(a),this.#aG({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#am.size}get isEnterHandled(){return 1===this.#am.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#M.undo(),this.#aG({hasSomethingToUndo:this.#M.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#aQ()}),this._editorUndoBar?.hide()}redo(){this.#M.redo(),this.#aG({hasSomethingToUndo:!0,hasSomethingToRedo:this.#M.hasSomethingToRedo(),isEmpty:this.#aQ()})}addCommands(a){this.#M.add(a),this.#aG({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#aQ()})}cleanUndoStack(a){this.#M.cleanType(a)}#aQ(){if(0===this.#H.size)return!0;if(1===this.#H.size)for(let a of this.#H.values())return a.isEmpty();return!1}delete(){this.commitOrRemove();let a=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!a)return;let b=a?[a]:[...this.#am],c=()=>{for(let a of b)this.#aN(a)};this.addCommands({cmd:()=>{for(let a of(this._editorUndoBar?.show(c,1===b.length?b[0].editorType:b.length),b))a.remove()},undo:c,mustExec:!0})}commitOrRemove(){this.#F?.commitOrRemove()}hasSomethingToControl(){return this.#F||this.hasSelection}#aO(a){for(let a of this.#am)a.unselect();for(let b of(this.#am.clear(),a))b.isEmpty()||(this.#am.add(b),b.select());this.#aG({hasSelectedEditor:this.hasSelection})}selectAll(){for(let a of this.#am)a.commit();this.#aO(this.#H.values())}unselectAll(){if((!this.#F||(this.#F.commitOrRemove(),this.#al===G.NONE))&&!this.#P?.commitOrRemove()&&this.hasSelection){for(let a of this.#am)a.unselect();this.#am.clear(),this.#aG({hasSelectedEditor:!1})}}translateSelectedEditors(a,b,c=!1){if(c||this.commitOrRemove(),!this.hasSelection)return;this.#at[0]+=a,this.#at[1]+=b;let[d,e]=this.#at,f=[...this.#am];for(let c of(this.#au&&clearTimeout(this.#au),this.#au=setTimeout(()=>{this.#au=null,this.#at[0]=this.#at[1]=0,this.addCommands({cmd:()=>{for(let a of f)this.#H.has(a.id)&&(a.translateInPage(d,e),a.translationDone())},undo:()=>{for(let a of f)this.#H.has(a.id)&&(a.translateInPage(-d,-e),a.translationDone())},mustExec:!1})},1e3),f))c.translateInPage(a,b),c.translationDone()}setUpDragSession(){if(this.hasSelection)for(let a of(this.disableUserSelect(!0),this.#S=new Map,this.#am))this.#S.set(a,{savedX:a.x,savedY:a.y,savedPageIndex:a.pageIndex,newX:0,newY:0,newPageIndex:-1})}endDragSession(){if(!this.#S)return!1;this.disableUserSelect(!1);let a=this.#S;this.#S=null;let b=!1;for(let[{x:c,y:d,pageIndex:e},f]of a)f.newX=c,f.newY=d,f.newPageIndex=e,b||=c!==f.savedX||d!==f.savedY||e!==f.savedPageIndex;if(!b)return!1;let c=(a,b,c,d)=>{if(this.#H.has(a.id)){let e=this.#I.get(d);e?a._setParentAndPosition(e,b,c):(a.pageIndex=d,a.x=b,a.y=c)}};return this.addCommands({cmd:()=>{for(let[b,{newX:d,newY:e,newPageIndex:f}]of a)c(b,d,e,f)},undo:()=>{for(let[b,{savedX:d,savedY:e,savedPageIndex:f}]of a)c(b,d,e,f)},mustExec:!0}),!0}dragSelectedEditors(a,b){if(this.#S)for(let c of this.#S.keys())c.drag(a,b)}rebuild(a){if(null===a.parent){let b=this.getLayer(a.pageIndex);b?(b.changeParent(a),b.addOrRebuild(a)):(this.addEditor(a),this.addToAnnotationStorage(a),a.rebuild())}else a.parent.addOrRebuild(a)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#am.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(a){return this.#F===a}getActive(){return this.#F}getMode(){return this.#al}isEditingMode(){return this.#al!==G.NONE}get imageManager(){return V(this,"imageManager",new aY)}getSelectionBoxes(a){let b;if(!a)return null;let c=document.getSelection();for(let b=0,d=c.rangeCount;b<d;b++)if(!a.contains(c.getRangeAt(b).commonAncestorContainer))return null;let{x:d,y:e,width:f,height:g}=a.getBoundingClientRect();switch(a.getAttribute("data-main-rotation")){case"90":b=(a,b,c,h)=>({x:(b-e)/g,y:1-(a+c-d)/f,width:h/g,height:c/f});break;case"180":b=(a,b,c,h)=>({x:1-(a+c-d)/f,y:1-(b+h-e)/g,width:c/f,height:h/g});break;case"270":b=(a,b,c,h)=>({x:1-(b+h-e)/g,y:(a-d)/f,width:h/g,height:c/f});break;default:b=(a,b,c,h)=>({x:(a-d)/f,y:(b-e)/g,width:c/f,height:h/g})}let h=[];for(let a=0,d=c.rangeCount;a<d;a++){let d=c.getRangeAt(a);if(!d.collapsed)for(let{x:a,y:c,width:e,height:f}of d.getClientRects())0!==e&&0!==f&&h.push(b(a,c,e,f))}return 0===h.length?null:h}addChangedExistingAnnotation({annotationElementId:a,id:b}){(this.#L||=new Map).set(a,b)}removeChangedExistingAnnotation({annotationElementId:a}){this.#L?.delete(a)}renderAnnotationElement(a){let b=this.#L?.get(a.data.id);if(!b)return;let c=this.#K.getRawValue(b);c&&(this.#al!==G.NONE||c.hasBeenModified)&&c.renderAnnotationElement(a)}setMissingCanvas(a,b,c){let d=this.#aj?.get(a);d&&(d.setCanvas(b,c),this.#aj.delete(a))}addMissingCanvas(a,b){(this.#aj||=new Map).set(a,b)}}class a1{#h=null;#aU=!1;#aV=null;#aW=null;#aX=null;#aY=null;#aZ=!1;#a$=null;#f=null;#a_=null;#a0=null;#a1=!1;static #a2=null;static _l10n=null;constructor(a){this.#f=a,this.#a1=a._uiManager.useNewAltTextFlow,a1.#a2||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(a){a1._l10n??=a}async render(){let a=this.#aV=document.createElement("button");a.className="altText",a.tabIndex="0";let b=this.#aW=document.createElement("span");a.append(b),this.#a1?(a.classList.add("new"),a.setAttribute("data-l10n-id",a1.#a2.missing),b.setAttribute("data-l10n-id",a1.#a2["missing-label"])):(a.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),b.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let c=this.#f._uiManager._signal;a.addEventListener("contextmenu",aA,{signal:c}),a.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:c});let d=a=>{a.preventDefault(),this.#f._uiManager.editAltText(this.#f),this.#a1&&this.#f._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#a3}})};return a.addEventListener("click",d,{capture:!0,signal:c}),a.addEventListener("keydown",b=>{b.target===a&&"Enter"===b.key&&(this.#aZ=!0,d(b))},{signal:c}),await this.#a4(),a}get #a3(){return(this.#h?"added":null===this.#h&&this.guessedText&&"review")||"missing"}finish(){this.#aV&&(this.#aV.focus({focusVisible:this.#aZ}),this.#aZ=!1)}isEmpty(){return this.#a1?null===this.#h:!this.#h&&!this.#aU}hasData(){return this.#a1?null!==this.#h||!!this.#a_:this.isEmpty()}get guessedText(){return this.#a_}async setGuessedText(a){null===this.#h&&(this.#a_=a,this.#a0=await a1._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:a}),this.#a4())}toggleAltTextBadge(a=!1){if(!this.#a1||this.#h)return this.#a$?.remove(),void(this.#a$=null);if(!this.#a$){let a=this.#a$=document.createElement("div");a.className="noAltTextBadge",this.#f.div.append(a)}this.#a$.classList.toggle("hidden",!a)}serialize(a){let b=this.#h;return a||this.#a_!==b||(b=this.#a0),{altText:b,decorative:this.#aU,guessedText:this.#a_,textWithDisclaimer:this.#a0}}get data(){return{altText:this.#h,decorative:this.#aU}}set data({altText:a,decorative:b,guessedText:c,textWithDisclaimer:d,cancel:e=!1}){c&&(this.#a_=c,this.#a0=d),this.#h===a&&this.#aU===b||(e||(this.#h=a,this.#aU=b),this.#a4())}toggle(a=!1){this.#aV&&(!a&&this.#aY&&(clearTimeout(this.#aY),this.#aY=null),this.#aV.disabled=!a)}shown(){this.#f._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#a3}})}destroy(){this.#aV?.remove(),this.#aV=null,this.#aW=null,this.#aX=null,this.#a$?.remove(),this.#a$=null}async #a4(){let a=this.#aV;if(!a)return;if(this.#a1){if(a.classList.toggle("done",!!this.#h),a.setAttribute("data-l10n-id",a1.#a2[this.#a3]),this.#aW?.setAttribute("data-l10n-id",a1.#a2[`${this.#a3}-label`]),!this.#h)return void this.#aX?.remove()}else{if(!this.#h&&!this.#aU)return a.classList.remove("done"),void this.#aX?.remove();a.classList.add("done"),a.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let b=this.#aX;if(!b){this.#aX=b=document.createElement("span"),b.className="tooltip",b.setAttribute("role","tooltip"),b.id=`alt-text-tooltip-${this.#f.id}`;let c=this.#f._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(this.#aY),this.#aY=null},{once:!0}),a.addEventListener("mouseenter",()=>{this.#aY=setTimeout(()=>{this.#aY=null,this.#aX.classList.add("show"),this.#f._reportTelemetry({action:"alt_text_tooltip"})},100)},{signal:c}),a.addEventListener("mouseleave",()=>{this.#aY&&(clearTimeout(this.#aY),this.#aY=null),this.#aX?.classList.remove("show")},{signal:c})}this.#aU?b.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(b.removeAttribute("data-l10n-id"),b.textContent=this.#h),b.parentNode||a.append(b);let c=this.#f.getElementForAltText();c?.setAttribute("aria-describedby",b.id)}}class a2{#a5=null;#a6=null;#a7=!1;#f=null;#a8=null;#a9=null;#ba=null;#bb=null;#bc=!1;#bd=null;constructor(a){this.#f=a}renderForToolbar(){let a=this.#a6=document.createElement("button");return a.className="comment",this.#s(a,!1)}renderForStandalone(){let a=this.#a5=document.createElement("button");a.className="annotationCommentButton";let b=this.#f.commentButtonPosition;if(b){let{style:c}=a;c.insetInlineEnd=`calc(${100*("ltr"===this.#f._uiManager.direction?1-b[0]:b[0])}% - var(--comment-button-dim))`,c.top=`calc(${100*b[1]}% - var(--comment-button-dim))`;let d=this.#f.commentButtonColor;d&&(c.backgroundColor=d)}return this.#s(a,!0)}focusButton(){setTimeout(()=>{(this.#a5??this.#a6)?.focus()},0)}onUpdatedColor(){if(!this.#a5)return;let a=this.#f.commentButtonColor;a&&(this.#a5.style.backgroundColor=a),this.#f._uiManager.updatePopupColor(this.#f)}get commentButtonWidth(){return(this.#a5?.getBoundingClientRect().width??0)/this.#f.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#bd)return this.#bd;if(!this.#a5)return null;let{x:a,y:b,height:c}=this.#a5.getBoundingClientRect(),{x:d,y:e,width:f,height:g}=this.#f.parent.boundingClientRect;return[(a-d)/f,(b+c-e)/g]}set commentPopupPositionInLayer(a){this.#bd=a}hasDefaultPopupPosition(){return null===this.#bd}removeStandaloneCommentButton(){this.#a5?.remove(),this.#a5=null}removeToolbarCommentButton(){this.#a6?.remove(),this.#a6=null}setCommentButtonStates({selected:a,hasPopup:b}){this.#a5&&(this.#a5.classList.toggle("selected",a),this.#a5.ariaExpanded=b)}#s(a,b){if(!this.#f._uiManager.hasCommentManager())return null;a.tabIndex="0",a.ariaHasPopup="dialog",b?(a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(a.ariaControlsElements=[this.#f._uiManager.getCommentDialogElement()],a.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));let c=this.#f._uiManager._signal;if(!(c instanceof AbortSignal)||c.aborted)return a;a.addEventListener("contextmenu",aA,{signal:c}),b&&(a.addEventListener("focusin",a=>{this.#f._focusEventsAllowed=!1,aB(a)},{capture:!0,signal:c}),a.addEventListener("focusout",a=>{this.#f._focusEventsAllowed=!0,aB(a)},{capture:!0,signal:c})),a.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:c});let d=b=>{b.preventDefault(),a===this.#a6?this.edit():this.#f.toggleComment(!0)};return a.addEventListener("click",d,{capture:!0,signal:c}),a.addEventListener("keydown",b=>{b.target===a&&"Enter"===b.key&&(this.#a7=!0,d(b))},{signal:c}),a.addEventListener("pointerenter",()=>{this.#f.toggleComment(!1,!0)},{signal:c}),a.addEventListener("pointerleave",()=>{this.#f.toggleComment(!1,!1)},{signal:c}),a}edit(a){let b,c,d=this.commentPopupPositionInLayer;if(d)[b,c]=d;else{[b,c]=this.#f.commentButtonPosition;let{width:a,height:d,x:e,y:f}=this.#f;b=e+b*a,c=f+c*d}let e=this.#f.parent.boundingClientRect,{x:f,y:g,width:h,height:i}=e;this.#f._uiManager.editComment(this.#f,f+b*h,g+c*i,{...a,parentDimensions:e})}finish(){this.#a6&&(this.#a6.focus({focusVisible:this.#a7}),this.#a7=!1)}isDeleted(){return this.#bc||""===this.#ba}isEmpty(){return null===this.#ba}hasBeenEdited(){return this.isDeleted()||this.#ba!==this.#a8}serialize(){return this.data}get data(){return{text:this.#ba,richText:this.#a9,date:this.#bb,deleted:this.isDeleted()}}set data(a){if(a!==this.#ba&&(this.#a9=null),null===a)return this.#ba="",void(this.#bc=!0);this.#ba=a,this.#bb=new Date,this.#bc=!1}setInitialText(a,b=null){this.#a8=a,this.data=a,this.#bb=null,this.#a9=b}shown(){}destroy(){this.#a6?.remove(),this.#a6=null,this.#a5?.remove(),this.#a5=null,this.#ba="",this.#a9=null,this.#bb=null,this.#f=null,this.#a7=!1,this.#bc=!1}}class a3{#av;#be=!1;#bf=null;#bg;#bh;#bi;#bj;#bk=null;#bl;#bm=null;#bn;#bo=null;constructor({container:a,isPinchingDisabled:b=null,isPinchingStopped:c=null,onPinchStart:d=null,onPinching:e=null,onPinchEnd:f=null,signal:g}){this.#av=a,this.#bf=c,this.#bg=b,this.#bh=d,this.#bi=e,this.#bj=f,this.#bn=new AbortController,this.#bl=AbortSignal.any([g,this.#bn.signal]),a.addEventListener("touchstart",this.#bp.bind(this),{passive:!1,signal:this.#bl})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/aI.pixelRatio}#bp(a){if(this.#bg?.())return;if(1===a.touches.length){if(this.#bk)return;let a=this.#bk=new AbortController,b=AbortSignal.any([this.#bl,a.signal]),c=this.#av,d={capture:!0,signal:b,passive:!1},e=a=>{"touch"===a.pointerType&&(this.#bk?.abort(),this.#bk=null)};return c.addEventListener("pointerdown",a=>{"touch"===a.pointerType&&(aB(a),e(a))},d),c.addEventListener("pointerup",e,d),void c.addEventListener("pointercancel",e,d)}if(!this.#bo){this.#bo=new AbortController;let a=AbortSignal.any([this.#bl,this.#bo.signal]),b=this.#av,c={signal:a,capture:!1,passive:!1};b.addEventListener("touchmove",this.#bq.bind(this),c);let d=this.#br.bind(this);b.addEventListener("touchend",d,c),b.addEventListener("touchcancel",d,c),c.capture=!0,b.addEventListener("pointerdown",aB,c),b.addEventListener("pointermove",aB,c),b.addEventListener("pointercancel",aB,c),b.addEventListener("pointerup",aB,c),this.#bh?.()}if(aB(a),2!==a.touches.length||this.#bf?.())return void(this.#bm=null);let[b,c]=a.touches;b.identifier>c.identifier&&([b,c]=[c,b]),this.#bm={touch0X:b.screenX,touch0Y:b.screenY,touch1X:c.screenX,touch1Y:c.screenY}}#bq(a){if(!this.#bm||2!==a.touches.length)return;aB(a);let[b,c]=a.touches;b.identifier>c.identifier&&([b,c]=[c,b]);let{screenX:d,screenY:e}=b,{screenX:f,screenY:g}=c,h=this.#bm,{touch0X:i,touch0Y:j,touch1X:k,touch1Y:l}=h,m=Math.hypot(f-d,g-e)||1,n=Math.hypot(k-i,l-j)||1;if(!this.#be&&Math.abs(n-m)<=a3.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=d,h.touch0Y=e,h.touch1X=f,h.touch1Y=g,!this.#be)return void(this.#be=!0);let o=[(d+f)/2,(e+g)/2];this.#bi?.(o,n,m)}#br(a){a.touches.length>=2||(this.#bo&&(this.#bo.abort(),this.#bo=null,this.#bj?.()),this.#bm&&(aB(a),this.#bm=null,this.#be=!1))}destroy(){this.#bn?.abort(),this.#bn=null,this.#bk?.abort(),this.#bk=null}}class a4{#bs=null;#bt=null;#h=null;#i=null;#a5=null;#bu=!1;#bv=null;#bw="";#bx=null;#by=null;#bz=null;#bA=null;#bB=null;#bC="";#bD=!1;#bE=null;#bF=!1;#bG=!1;#bH=!1;#bI=null;#bJ=0;#bK=0;#bL=null;#bM=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#bN=!1;#bO=a4._zIndex++;static _borderLineWidth=-1;static _colorManager=new a_;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let a=a4.prototype._resizeWithKeyboard,b=a0.TRANSLATE_SMALL,c=a0.TRANSLATE_BIG;return V(this,"_resizerKeyboardManager",new a$([[["ArrowLeft","mac+ArrowLeft"],a,{args:[-b,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a,{args:[-c,0]}],[["ArrowRight","mac+ArrowRight"],a,{args:[b,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a,{args:[c,0]}],[["ArrowUp","mac+ArrowUp"],a,{args:[0,-b]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a,{args:[0,-c]}],[["ArrowDown","mac+ArrowDown"],a,{args:[0,b]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a,{args:[0,c]}],[["Escape","mac+Escape"],a4.prototype._stopResizingWithKeyboard]]))}constructor(a){this.parent=a.parent,this.id=a.id,this.width=this.height=null,this.pageIndex=a.parent.pageIndex,this.name=a.name,this.div=null,this._uiManager=a.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=a.isCentered,this._structTreeParentId=null,this.annotationElementId=a.annotationElementId||null,this.creationDate=a.creationDate||new Date,this.modificationDate=a.modificationDate||null;let{rotation:b,rawDims:{pageWidth:c,pageHeight:d,pageX:e,pageY:f}}=this.parent.viewport;this.rotation=b,this.pageRotation=(360+b-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[c,d],this.pageTranslation=[e,f];let[g,h]=this.parentDimensions;this.x=a.x/g,this.y=a.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return V(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(a){let b=new a5({id:a.parent.getNextId(),parent:a.parent,uiManager:a._uiManager});b.annotationElementId=a.annotationElementId,b.deleted=!0,b._uiManager.addToAnnotationStorage(b)}static initialize(a,b){if(a4._l10n??=a,a4._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==a4._borderLineWidth)return;let c=getComputedStyle(document.documentElement);a4._borderLineWidth=parseFloat(c.getPropertyValue("--outline-width"))||0}static updateDefaultParams(a,b){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(a){return!1}static paste(a,b){R("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#bN}set _isDraggable(a){this.#bN=a,this.div?.classList.toggle("draggable",a)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){let[a,b]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*b/(2*a),this.y+=this.width*a/(2*b);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*b/(2*a),this.y-=this.width*a/(2*b);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(a){this._uiManager.addCommands(a)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#bO}setParent(a){null!==a?(this.pageIndex=a.pageIndex,this.pageDimensions=a.pageDimensions):(this.#bP(),this.#bA?.remove(),this.#bA=null),this.parent=a}focusin(a){this._focusEventsAllowed&&(this.#bD?this.#bD=!1:this.parent.setSelected(this))}focusout(a){if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;let b=a.relatedTarget;b?.closest(`#${this.id}`)||(a.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(a,b,c,d){let[e,f]=this.parentDimensions;[c,d]=this.screenToPageTranslation(c,d),this.x=(a+c)/e,this.y=(b+d)/f,this.fixAndSetPosition()}_moveAfterPaste(a,b){let[c,d]=this.parentDimensions;this.setAt(a*c,b*d,this.width*c,this.height*d),this._onTranslated()}#bQ([a,b],c,d){[c,d]=this.screenToPageTranslation(c,d),this.x+=c/a,this.y+=d/b,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(a,b){this.#bQ(this.parentDimensions,a,b)}translateInPage(a,b){this.#bE||=[this.x,this.y,this.width,this.height],this.#bQ(this.pageDimensions,a,b),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(a,b){this.#bE||=[this.x,this.y,this.width,this.height];let{div:c,parentDimensions:[d,e]}=this;if(this.x+=a/d,this.y+=b/e,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:a,y:b}=this.div.getBoundingClientRect();this.parent.findNewParent(this,a,b)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:f,y:g}=this,[h,i]=this.getBaseTranslation();f+=h,g+=i;let{style:j}=c;j.left=`${(100*f).toFixed(2)}%`,j.top=`${(100*g).toFixed(2)}%`,this._onTranslating(f,g),c.scrollIntoView({block:"nearest"})}_onTranslating(a,b){}_onTranslated(a,b){}get _hasBeenMoved(){return!!this.#bE&&(this.#bE[0]!==this.x||this.#bE[1]!==this.y)}get _hasBeenResized(){return!!this.#bE&&(this.#bE[2]!==this.width||this.#bE[3]!==this.height)}getBaseTranslation(){let[a,b]=this.parentDimensions,{_borderLineWidth:c}=a4,d=c/a,e=c/b;switch(this.rotation){case 90:return[-d,e];case 180:return[d,e];case 270:return[d,-e];default:return[-d,-e]}}get _mustFixPosition(){return!0}fixAndSetPosition(a=this.rotation){let{div:{style:b},pageDimensions:[c,d]}=this,{x:e,y:f,width:g,height:h}=this;if(g*=c,h*=d,e*=c,f*=d,this._mustFixPosition)switch(a){case 0:e=al(e,0,c-g),f=al(f,0,d-h);break;case 90:e=al(e,0,c-h),f=al(f,g,d);break;case 180:e=al(e,g,c),f=al(f,h,d);break;case 270:e=al(e,h,c),f=al(f,0,d-g)}this.x=e/=c,this.y=f/=d;let[i,j]=this.getBaseTranslation();e+=i,f+=j,b.left=`${(100*e).toFixed(2)}%`,b.top=`${(100*f).toFixed(2)}%`,this.moveInDOM()}static #bR(a,b,c){switch(c){case 90:return[b,-a];case 180:return[-a,-b];case 270:return[-b,a];default:return[a,b]}}screenToPageTranslation(a,b){return a4.#bR(a,b,this.parentRotation)}pageTranslationToScreen(a,b){return a4.#bR(a,b,360-this.parentRotation)}#bS(a){switch(a){case 90:{let[a,b]=this.pageDimensions;return[0,-a/b,b/a,0]}case 180:return[-1,0,0,-1];case 270:{let[a,b]=this.pageDimensions;return[0,a/b,-b/a,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:a,pageDimensions:[b,c]}=this;return[b*a,c*a]}setDims(){let{div:{style:a},width:b,height:c}=this;a.width=`${(100*b).toFixed(2)}%`,a.height=`${(100*c).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#bT(){if(this.#bx)return;this.#bx=document.createElement("div"),this.#bx.classList.add("resizers");let a=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],b=this._uiManager._signal;for(let c of a){let a=document.createElement("div");this.#bx.append(a),a.classList.add("resizer",c),a.setAttribute("data-resizer-name",c),a.addEventListener("pointerdown",this.#bU.bind(this,c),{signal:b}),a.addEventListener("contextmenu",aA,{signal:b}),a.tabIndex=-1}this.div.prepend(this.#bx)}#bU(a,b){b.preventDefault();let{isMac:c}=ad.platform;if(0!==b.button||b.ctrlKey&&c)return;this.#h?.toggle(!1);let d=this._isDraggable;this._isDraggable=!1,this.#by=[b.screenX,b.screenY];let e=new AbortController,f=this._uiManager.combinedSignal(e);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#bV.bind(this,a),{passive:!0,capture:!0,signal:f}),window.addEventListener("touchmove",aB,{passive:!1,signal:f}),window.addEventListener("contextmenu",aA,{signal:f}),this.#bz={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let g=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(b.target).cursor;let i=()=>{e.abort(),this.parent.togglePointerEvents(!0),this.#h?.toggle(!0),this._isDraggable=d,this.parent.div.style.cursor=g,this.div.style.cursor=h,this.#bW()};window.addEventListener("pointerup",i,{signal:f}),window.addEventListener("blur",i,{signal:f})}#bX(a,b,c,d){this.width=c,this.height=d,this.x=a,this.y=b,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#bW(){if(!this.#bz)return;let{savedX:a,savedY:b,savedWidth:c,savedHeight:d}=this.#bz;this.#bz=null;let e=this.x,f=this.y,g=this.width,h=this.height;e===a&&f===b&&g===c&&h===d||this.addCommands({cmd:this.#bX.bind(this,e,f,g,h),undo:this.#bX.bind(this,a,b,c,d),mustExec:!0})}static _round(a){return Math.round(1e4*a)/1e4}#bV(a,b){var c,d;let[e,f]=this.parentDimensions,g=this.x,h=this.y,i=this.width,j=this.height,k=a4.MIN_SIZE/e,l=a4.MIN_SIZE/f,m=this.#bS(this.rotation),n=(a,b)=>[m[0]*a+m[2]*b,m[1]*a+m[3]*b],o=this.#bS(360-this.rotation),p,q,r=!1,s=!1;switch(a){case"topLeft":r=!0,p=(a,b)=>[0,0],q=(a,b)=>[a,b];break;case"topMiddle":p=(a,b)=>[a/2,0],q=(a,b)=>[a/2,b];break;case"topRight":r=!0,p=(a,b)=>[a,0],q=(a,b)=>[0,b];break;case"middleRight":s=!0,p=(a,b)=>[a,b/2],q=(a,b)=>[0,b/2];break;case"bottomRight":r=!0,p=(a,b)=>[a,b],q=(a,b)=>[0,0];break;case"bottomMiddle":p=(a,b)=>[a/2,b],q=(a,b)=>[a/2,0];break;case"bottomLeft":r=!0,p=(a,b)=>[0,b],q=(a,b)=>[a,0];break;case"middleLeft":s=!0,p=(a,b)=>[0,b/2],q=(a,b)=>[a,b/2]}let u=p(i,j),v=q(i,j),w=n(...v),x=a4._round(g+w[0]),y=a4._round(h+w[1]),z,A,B=1,C=1;if(b.fromKeyboard)({deltaX:z,deltaY:A}=b);else{let{screenX:a,screenY:c}=b,[d,e]=this.#by;[z,A]=this.screenToPageTranslation(a-d,c-e),this.#by[0]=a,this.#by[1]=c}if([z,A]=(c=z/e,d=A/f,[o[0]*c+o[2]*d,o[1]*c+o[3]*d]),r){let a=Math.hypot(i,j);B=C=Math.max(Math.min(Math.hypot(v[0]-u[0]-z,v[1]-u[1]-A)/a,1/i,1/j),k/i,l/j)}else s?B=al(Math.abs(v[0]-u[0]-z),k,1)/i:C=al(Math.abs(v[1]-u[1]-A),l,1)/j;let D=a4._round(i*B),E=a4._round(j*C),F=x-(w=n(...q(D,E)))[0],G=y-w[1];this.#bE||=[this.x,this.y,this.width,this.height],this.width=D,this.height=E,this.x=F,this.y=G,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#h?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#bG)return this._editToolbar;this._editToolbar=new aU(this),this.div.append(this._editToolbar.render());let{toolbarButtons:a}=this;if(a)for(let[b,c]of a)await this._editToolbar.addButton(b,c);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#h?.destroy()}addContainer(a){let b=this._editToolbar?.div;b?b.before(a):this.div.append(a)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#h||(a1.initialize(a4._l10n),this.#h=new a1(this),this.#bs&&(this.#h.data=this.#bs,this.#bs=null)),this.#h}get altTextData(){return this.#h?.data}set altTextData(a){this.#h&&(this.#h.data=a)}get guessedAltText(){return this.#h?.guessedText}async setGuessedAltText(a){await this.#h?.setGuessedText(a)}serializeAltText(a){return this.#h?.serialize(a)}hasAltText(){return!!this.#h&&!this.#h.isEmpty()}hasAltTextData(){return this.#h?.hasData()??!1}focusCommentButton(){this.#i?.focusButton()}addCommentButton(){return this.#i||=new a2(this)}addStandaloneCommentButton(){this.#a5?this._uiManager.isEditingMode()&&this.#a5.classList.remove("hidden"):this.hasComment&&(this.#a5=this.#i.renderForStandalone(),this.div.append(this.#a5))}removeStandaloneCommentButton(){this.#i.removeStandaloneCommentButton(),this.#a5=null}hideStandaloneCommentButton(){this.#a5?.classList.add("hidden")}get comment(){let{data:{richText:a,text:b,date:c,deleted:d}}=this.#i;return{text:b,richText:a,date:c,deleted:d,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(a){this.#i||=new a2(this),this.#i.data=a,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:a,popupRef:b,richText:c}){if(!b||(this.#i||=new a2(this),this.#i.setInitialText(a,c),!this.annotationElementId))return;let d=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);d&&this.updateFromAnnotationLayer(d)}get hasEditedComment(){return this.#i?.hasBeenEdited()}get hasDeletedComment(){return this.#i?.isDeleted()}get hasComment(){return!!this.#i&&!this.#i.isEmpty()&&!this.#i.isDeleted()}async editComment(a){this.#i||=new a2(this),this.#i.edit(a)}toggleComment(a,b){this.hasComment&&this._uiManager.toggleComment(this,a,b)}setSelectedCommentButton(a){this.#i.setSelectedButton(a)}addComment(a){if(this.hasEditedComment){let[,,,b]=a.rect,[c]=this.pageDimensions,[d]=this.pageTranslation,e=d+c+1;a.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[e,b-100,e+180,b]}}}updateFromAnnotationLayer({popup:{contents:a,deleted:b}}){this.#i.data=b?null:a}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){let a=this.div=document.createElement("div");a.setAttribute("data-editor-rotation",(360-this.rotation)%360),a.className=this.name,a.setAttribute("id",this.id),a.tabIndex=this.#bu?-1:0,a.setAttribute("role","application"),this.defaultL10nId&&a.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||a.classList.add("hidden"),this.setInForeground(),this.#bY();let[b,c]=this.parentDimensions;this.parentRotation%180!=0&&(a.style.maxWidth=`${(100*c/b).toFixed(2)}%`,a.style.maxHeight=`${(100*b/c).toFixed(2)}%`);let[d,e]=this.getInitialTranslation();return this.translate(d,e),aW(this,a,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#bM||=new a3({container:a,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#bZ.bind(this),onPinching:this.#b$.bind(this),onPinchEnd:this.#b_.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),a}#bZ(){this.#bz={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#h?.toggle(!1),this.parent.togglePointerEvents(!1)}#b$(a,b,c){let d=c/b*.7+1-.7;if(1===d)return;let e=this.#bS(this.rotation),f=(a,b)=>[e[0]*a+e[2]*b,e[1]*a+e[3]*b],[g,h]=this.parentDimensions,i=this.x,j=this.y,k=this.width,l=this.height;d=Math.max(Math.min(d,1/k,1/l),a4.MIN_SIZE/g/k,a4.MIN_SIZE/h/l);let m=a4._round(k*d),n=a4._round(l*d);if(m===k&&n===l)return;this.#bE||=[i,j,k,l];let o=f(k/2,l/2),p=a4._round(i+o[0]),q=a4._round(j+o[1]),r=f(m/2,n/2);this.x=p-r[0],this.y=q-r[1],this.width=m,this.height=n,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b_(){this.#h?.toggle(!0),this.parent.togglePointerEvents(!0),this.#bW()}pointerdown(a){let{isMac:b}=ad.platform;0!==a.button||a.ctrlKey&&b?a.preventDefault():(this.#bD=!0,this._isDraggable?this.#b0(a):this.#b1(a))}#b1(a){let{isMac:b}=ad.platform;a.ctrlKey&&!b||a.shiftKey||a.metaKey&&b?this.parent.toggleSelected(this):this.parent.setSelected(this)}#b0(a){let{isSelected:b}=this;this._uiManager.setUpDragSession();let c=!1,d=new AbortController,e=this._uiManager.combinedSignal(d),f={capture:!0,passive:!1,signal:e},g=a=>{d.abort(),this.#bv=null,this.#bD=!1,this._uiManager.endDragSession()||this.#b1(a),c&&this._onStopDragging()};b&&(this.#bJ=a.clientX,this.#bK=a.clientY,this.#bv=a.pointerId,this.#bw=a.pointerType,window.addEventListener("pointermove",a=>{c||(c=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());let{clientX:b,clientY:d,pointerId:e}=a;if(e!==this.#bv)return void aB(a);let[f,g]=this.screenToPageTranslation(b-this.#bJ,d-this.#bK);this.#bJ=b,this.#bK=d,this._uiManager.dragSelectedEditors(f,g)},f),window.addEventListener("touchmove",aB,f),window.addEventListener("pointerdown",a=>{a.pointerType===this.#bw&&(this.#bM||a.isPrimary)&&g(a),aB(a)},f));let h=a=>{this.#bv&&this.#bv!==a.pointerId?aB(a):g(a)};window.addEventListener("pointerup",h,{signal:e}),window.addEventListener("blur",h,{signal:e})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#bI&&clearTimeout(this.#bI),this.#bI=setTimeout(()=>{this.#bI=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(a,b,c){a.changeParent(this),this.x=b,this.y=c,this.fixAndSetPosition(),this._onTranslated()}getRect(a,b,c=this.rotation){let d=this.parentScale,[e,f]=this.pageDimensions,[g,h]=this.pageTranslation,i=a/d,j=b/d,k=this.x*e,l=this.y*f,m=this.width*e,n=this.height*f;switch(c){case 0:return[k+i+g,f-l-j-n+h,k+i+m+g,f-l-j+h];case 90:return[k+j+g,f-l+i+h,k+j+n+g,f-l+i+m+h];case 180:return[k-i-m+g,f-l+j+h,k-i+g,f-l+j+n+h];case 270:return[k-j-n+g,f-l-i-m+h,k-j+g,f-l-i+h];default:throw Error("Invalid rotation")}}getRectInCurrentCoords(a,b){let[c,d,e,f]=a,g=e-c,h=f-d;switch(this.rotation){case 0:return[c,b-f,g,h];case 90:return[c,b-d,h,g];case 180:return[e,b-d,g,h];case 270:return[e,b-f,h,g];default:throw Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&a4._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#i?.onUpdatedColor()}getData(){let{comment:{text:a,color:b,date:c,opacity:d,deleted:e,richText:f},uid:g,pageIndex:h,creationDate:i,modificationDate:j}=this;return{id:g,pageIndex:h,rect:this.getPDFRect(),richText:f,contentsObj:{str:a},creationDate:i,modificationDate:c||j,popupRef:!e,color:b,opacity:d}}onceAdded(a){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),this.#bG=!0,!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),this.#bG=!1,!0)}isInEditMode(){return this.#bG}shouldGetKeyboardEvents(){return this.#bH}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){let{top:a,left:b,bottom:c,right:d}=this.getClientDimensions(),{innerHeight:e,innerWidth:f}=window;return b<f&&d>0&&a<e&&c>0}#bY(){if(this.#bB||!this.div)return;this.#bB=new AbortController;let a=this._uiManager.combinedSignal(this.#bB);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:a}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:a})}rebuild(){this.#bY()}rotate(a){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(a=!1,b=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(a,b,c){let d=new this.prototype.constructor({parent:b,id:b.getNextId(),uiManager:c,annotationElementId:a.annotationElementId,creationDate:a.creationDate,modificationDate:a.modificationDate});d.rotation=a.rotation,d.#bs=a.accessibilityData,d._isCopy=a.isCopy||!1;let[e,f]=d.pageDimensions,[g,h,i,j]=d.getRectInCurrentCoords(a.rect,f);return d.x=g/e,d.y=h/f,d.width=i/e,d.height=j/f,d}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#bB?.abort(),this.#bB=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#bI&&(clearTimeout(this.#bI),this.#bI=null),this.#bP(),this.removeEditToolbar(),this.#bL){for(let a of this.#bL.values())clearTimeout(a);this.#bL=null}this.parent=null,this.#bM?.destroy(),this.#bM=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#bT(),this.#bx.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){let{commentButtonPosition:[a,b]}=this,[c,d,e,f]=this.getPDFRect();return[a4._round(c+(e-c)*a),a4._round(d+(f-d)*(1-b))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#i.commentPopupPositionInLayer}set commentPopupPosition(a){this.#i.commentPopupPositionInLayer=a}hasDefaultPopupPosition(){return this.#i.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#i.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(a){this.#i.setCommentButtonStates(a)}keydown(a){if(!this.isResizable||a.target!==this.div||"Enter"!==a.key)return;this._uiManager.setSelected(this),this.#bz={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let b=this.#bx.children;if(!this.#bt){this.#bt=Array.from(b);let a=this.#b2.bind(this),c=this.#b3.bind(this),d=this._uiManager._signal;for(let b of this.#bt){let e=b.getAttribute("data-resizer-name");b.setAttribute("role","spinbutton"),b.addEventListener("keydown",a,{signal:d}),b.addEventListener("blur",c,{signal:d}),b.addEventListener("focus",this.#b4.bind(this,e),{signal:d}),b.setAttribute("data-l10n-id",a4._l10nResizer[e])}}let c=this.#bt[0],d=0;for(let a of b){if(a===c)break;d++}let e=(360-this.rotation+this.parentRotation)%360/90*(this.#bt.length/4);if(e!==d){if(e<d)for(let a=0;a<d-e;a++)this.#bx.append(this.#bx.firstChild);else if(e>d)for(let a=0;a<e-d;a++)this.#bx.firstChild.before(this.#bx.lastChild);let a=0;for(let c of b){let b=this.#bt[a++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",a4._l10nResizer[b])}}this.#b5(0),this.#bH=!0,this.#bx.firstChild.focus({focusVisible:!0}),a.preventDefault(),a.stopImmediatePropagation()}#b2(a){a4._resizerKeyboardManager.exec(this,a)}#b3(a){this.#bH&&a.relatedTarget?.parentNode!==this.#bx&&this.#bP()}#b4(a){this.#bC=this.#bH?a:""}#b5(a){if(this.#bt)for(let b of this.#bt)b.tabIndex=a}_resizeWithKeyboard(a,b){this.#bH&&this.#bV(this.#bC,{deltaX:a,deltaY:b,fromKeyboard:!0})}#bP(){this.#bH=!1,this.#b5(-1),this.#bW()}_stopResizingWithKeyboard(){this.#bP(),this.div.focus()}select(){this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#h?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()}))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#bx?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#h?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(a,b){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(a){"BUTTON"!==a.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#bF}set isEditing(a){this.#bF=a,this.parent&&(a?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(a,b=!1){if(b){this.#bL||=new Map;let{action:b}=a,c=this.#bL.get(b);return c&&clearTimeout(c),c=setTimeout(()=>{this._reportTelemetry(a),this.#bL.delete(b),0===this.#bL.size&&(this.#bL=null)},a4._telemetryTimeout),void this.#bL.set(b,c)}a.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:a}})}show(a=this._isVisible){this.div.classList.toggle("hidden",!a),this._isVisible=a}enable(){this.div&&(this.div.tabIndex=0),this.#bu=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#bu=!0}updateFakeAnnotationElement(a){if(this.#bA||this.deleted)return this.deleted?(this.#bA.remove(),void(this.#bA=null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#bA.updateEdited({rect:this.getPDFRect(),popup:this.comment}));this.#bA=a.addFakeAnnotation(this)}renderAnnotationElement(a){if(this.deleted)return a.hide(),null;let b=a.container.querySelector(".annotationContent");if(b){if("CANVAS"===b.nodeName){let a=b;(b=document.createElement("div")).classList.add("annotationContent",this.editorType),a.before(b)}}else(b=document.createElement("div")).classList.add("annotationContent",this.editorType),a.container.prepend(b);return b}resetAnnotationElement(a){let{firstChild:b}=a.container;"DIV"===b?.nodeName&&b.classList.contains("annotationContent")&&b.remove()}}class a5 extends a4{constructor(a){super(a),this.annotationElementId=a.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}class a6{constructor(a){this.h1=a?0|a:0xc3d2e1f0,this.h2=a?0|a:0xc3d2e1f0}update(a){let b,c;if("string"==typeof a){b=new Uint8Array(2*a.length),c=0;for(let d=0,e=a.length;d<e;d++){let e=a.charCodeAt(d);e<=255?b[c++]=e:(b[c++]=e>>>8,b[c++]=255&e)}}else{if(!ArrayBuffer.isView(a))throw Error("Invalid data format, must be a string or TypedArray.");c=(b=a.slice()).byteLength}let d=c>>2,e=c-4*d,f=new Uint32Array(b.buffer,0,d),g=0,h=0,i=this.h1,j=this.h2;for(let a=0;a<d;a++)1&a?(i^=g=0x1b873593*(g=(g=0xcc9e2d51*(g=f[a])&0xffff0000|11601*g&65535)<<15|g>>>17)&0xffff0000|13715*g&65535,i=5*(i=i<<13|i>>>19)+0xe6546b64):(j^=h=0x1b873593*(h=(h=0xcc9e2d51*(h=f[a])&0xffff0000|11601*h&65535)<<15|h>>>17)&0xffff0000|13715*h&65535,j=5*(j=j<<13|j>>>19)+0xe6546b64);switch(g=0,e){case 3:g^=b[4*d+2]<<16;case 2:g^=b[4*d+1]<<8;case 1:g^=b[4*d],g=0x1b873593*(g=(g=0xcc9e2d51*g&0xffff0000|11601*g&65535)<<15|g>>>17)&0xffff0000|13715*g&65535,1&d?i^=g:j^=g}this.h1=i,this.h2=j}hexdigest(){let a=this.h1,b=this.h2;return a^=b>>>1,b=0xff51afd7*b&0xffff0000|(0xafd7ed55*(b<<16|(a=0xed558ccd*a&0xffff0000|36045*a&65535)>>>16)&0xffff0000)>>>16,a^=b>>>1,b=0xc4ceb9fe*b&0xffff0000|(0xb9fe1a85*(b<<16|(a=0x1a85ec53*a&0xffff0000|60499*a&65535)>>>16)&0xffff0000)>>>16,((a^=b>>>1)>>>0).toString(16).padStart(8,"0")+(b>>>0).toString(16).padStart(8,"0")}}let a7=Object.freeze({map:null,hash:"",transfer:void 0});class a8{#b6=!1;#b7=null;#b8=null;#b9=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(a,b){let c=this.#b9.get(a);return void 0===c?b:Object.assign(b,c)}getRawValue(a){return this.#b9.get(a)}remove(a){let b=this.#b9.get(a);if(void 0!==b&&(b instanceof a4&&this.#b8.delete(b.annotationElementId),this.#b9.delete(a),0===this.#b9.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor)){for(let a of this.#b9.values())if(a instanceof a4)return;this.onAnnotationEditor(null)}}setValue(a,b){let c=this.#b9.get(a),d=!1;if(void 0!==c)for(let[a,e]of Object.entries(b))c[a]!==e&&(d=!0,c[a]=e);else d=!0,this.#b9.set(a,b);d&&this.#ca(),b instanceof a4&&((this.#b8||=new Map).set(b.annotationElementId,b),"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(b.constructor._type))}has(a){return this.#b9.has(a)}get size(){return this.#b9.size}#ca(){this.#b6||(this.#b6=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#b6&&(this.#b6=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new a9(this)}get serializable(){if(0===this.#b9.size)return a7;let a=new Map,b=new a6,c=[],d=Object.create(null),e=!1;for(let[c,f]of this.#b9){let g=f instanceof a4?f.serialize(!1,d):f;g&&(a.set(c,g),b.update(`${c}:${JSON.stringify(g)}`),e||=!!g.bitmap)}if(e)for(let b of a.values())b.bitmap&&c.push(b.bitmap);return a.size>0?{map:a,hash:b.hexdigest(),transfer:c}:a7}get editorStats(){let a=null,b=new Map,c=0,d=0;for(let e of this.#b9.values()){if(!(e instanceof a4)){e.popup&&(e.popup.deleted?d+=1:c+=1);continue}e.isCommentDeleted?d+=1:e.hasEditedComment&&(c+=1);let f=e.telemetryFinalData;if(!f)continue;let{type:g}=f;b.has(g)||b.set(g,Object.getPrototypeOf(e).constructor),a||=Object.create(null);let h=a[g]||=new Map;for(let[a,b]of Object.entries(f)){if("type"===a)continue;let c=h.get(a);c||(c=new Map,h.set(a,c));let d=c.get(b)??0;c.set(b,d+1)}}if((d>0||c>0)&&((a||=Object.create(null)).comments={deleted:d,edited:c}),!a)return null;for(let[c,d]of b)a[c]=d.computeTelemetryFinalData(a[c]);return a}resetModifiedIds(){this.#b7=null}updateEditor(a,b){let c=this.#b8?.get(a);return!!c&&(c.updateFromAnnotationLayer(b),!0)}getEditor(a){return this.#b8?.get(a)||null}get modifiedIds(){if(this.#b7)return this.#b7;let a=[];if(this.#b8)for(let b of this.#b8.values())b.serialize()&&a.push(b.annotationElementId);return this.#b7={ids:new Set(a),hash:a.join(",")}}[Symbol.iterator](){return this.#b9.entries()}}class a9 extends a8{#cb;constructor(a){super();let{map:b,hash:c,transfer:d}=a.serializable,e=structuredClone(b,d?{transfer:d}:null);this.#cb={map:e,hash:c,transfer:d}}get print(){R("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#cb}get modifiedIds(){return V(this,"modifiedIds",{ids:new Set,hash:""})}}class ba{#cc=new Set;constructor({ownerDocument:a=globalThis.document,styleElement:b=null}){this._document=a,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(a){this.nativeFontFaces.add(a),this._document.fonts.add(a)}removeNativeFontFace(a){this.nativeFontFaces.delete(a),this._document.fonts.delete(a)}insertRule(a){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let b=this.styleElement.sheet;b.insertRule(a,b.cssRules.length)}clear(){for(let a of this.nativeFontFaces)this._document.fonts.delete(a);this.nativeFontFaces.clear(),this.#cc.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:a,disableFontFace:b,_inspectFont:c}){if(a&&!this.#cc.has(a.loadedName)){if(S(!b,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:b,src:d,style:e}=a,f=new FontFace(b,d,e);this.addNativeFontFace(f);try{await f.load(),this.#cc.add(b),c?.(a)}catch{Q(`Cannot load system font: ${a.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(f)}return}R("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(a){if(a.attached||a.missingFile&&!a.systemFontInfo)return;if(a.attached=!0,a.systemFontInfo)return void await this.loadSystemFont(a);if(this.isFontLoadingAPISupported){let b=a.createNativeFontFace();if(b){this.addNativeFontFace(b);try{await b.loaded}catch(c){throw Q(`Failed to load font '${b.family}': '${c}'.`),a.disableFontFace=!0,c}}return}let b=a.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(b=>{let c=this._queueLoadingCallback(b);this._prepareFontLoadEvent(a,c)})}}get isFontLoadingAPISupported(){return V(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){return V(this,"isSyncFontLoadingSupported",C||ad.platform.isFirefox)}_queueLoadingCallback(a){let{loadingRequests:b}=this,c={done:!1,complete:function(){for(S(!c.done,"completeRequest() cannot be called twice."),c.done=!0;b.length>0&&b[0].done;)setTimeout(b.shift().callback,0)},callback:a};return b.push(c),c}get _loadTestFont(){return V(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(a,b){var c;let d,e;function f(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function g(a,b,c,d){return a.substring(0,b)+d+a.substring(b+c)}let h=this._document.createElement("canvas");h.width=1,h.height=1;let i=h.getContext("2d"),j=0,k=`lt${Date.now()}${this.loadTestFontId++}`,l=this._loadTestFont,m=f(l=g(l,976,k.length,k),16);for(d=0,e=k.length-3;d<e;d+=4)m=m-0x58585858+f(k,d)|0;d<k.length&&(m=m-0x58585858+f(k+"XXX",d)|0),l=g(l,16,4,String.fromCharCode((c=m)>>24&255,c>>16&255,c>>8&255,255&c));let n=`@font-face {font-family:"${k}";src:url(data:font/opentype;base64,${btoa(l)});}`;this.insertRule(n);let o=this._document.createElement("div");for(let b of(o.style.visibility="hidden",o.style.width=o.style.height="10px",o.style.position="absolute",o.style.top=o.style.left="0px",[a.loadedName,k])){let a=this._document.createElement("span");a.textContent="Hi",a.style.fontFamily=b,o.append(a)}this._document.body.append(o),function a(b,c){if(++j>30)return Q("Load test font never loaded."),void c();i.font="30px "+b,i.fillText(".",0,20),i.getImageData(0,0,1,1).data[3]>0?c():setTimeout(a.bind(null,b,c))}(k,()=>{o.remove(),b.complete()})}}class bb{#cd;constructor(a,b=null,c,d){this.compiledGlyphs=Object.create(null),this.#cd=a,this._inspectFont=b,c&&Object.assign(this,c),d&&(this.charProcOperatorList=d)}createNativeFontFace(){let a;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){let b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),a=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}else a=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),a}createFontFaceRule(){let a;if(!this.data||this.disableFontFace)return null;let b=`url(data:${this.mimetype};base64,${am(this.data)});`;if(this.cssFontInfo){let c=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(c+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),a=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${c}src:${b}}`}else a=`@font-face {font-family:"${this.loadedName}";src:${b}}`;return this._inspectFont?.(this,b),a}getPathGenerator(a,b){let c;if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];let d=this.loadedName+"_path_"+b;try{c=a.get(d)}catch(a){Q(`getPathGenerator - ignoring character: "${a}".`)}let e=new Path2D(c||"");return this.fontExtraProperties||a.delete(d),this.compiledGlyphs[b]=e}get black(){return this.#cd.black}get bold(){return this.#cd.bold}get disableFontFace(){return this.#cd.disableFontFace??!1}get fontExtraProperties(){return this.#cd.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#cd.isInvalidPDFjsFont}get isType3Font(){return this.#cd.isType3Font}get italic(){return this.#cd.italic}get missingFile(){return this.#cd.missingFile}get remeasure(){return this.#cd.remeasure}get vertical(){return this.#cd.vertical}get ascent(){return this.#cd.ascent}get defaultWidth(){return this.#cd.defaultWidth}get descent(){return this.#cd.descent}get bbox(){return this.#cd.bbox}get fontMatrix(){return this.#cd.fontMatrix}get fallbackName(){return this.#cd.fallbackName}get loadedName(){return this.#cd.loadedName}get mimetype(){return this.#cd.mimetype}get name(){return this.#cd.name}get data(){return this.#cd.data}clearData(){this.#cd.clearData()}get cssFontInfo(){return this.#cd.cssFontInfo}get systemFontInfo(){return this.#cd.systemFontInfo}get defaultVMetrics(){return this.#cd.defaultVMetrics}}function bc(a){if("string"!=typeof a)return null;if(a.endsWith("/"))return a;throw Error(`Invalid factory url: "${a}" must include trailing slash.`)}let bd=a=>"object"==typeof a&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,be=(function(a,b,c){if(!Array.isArray(c)||c.length<2)return!1;let[d,e,...f]=c;if(!a(d)&&!Number.isInteger(d)||!b(e))return!1;let g=f.length,h=!0;switch(e.name){case"XYZ":if(g<2||g>3)return!1;break;case"Fit":case"FitB":return 0===g;case"FitH":case"FitBH":case"FitV":case"FitBV":if(g>1)return!1;break;case"FitR":if(4!==g)return!1;h=!1;break;default:return!1}for(let a of f)if(!("number"==typeof a||h&&null===a))return!1;return!0}).bind(null,bd,a=>"object"==typeof a&&"string"==typeof a?.name);class bf{#ce=new Map;#cf=Promise.resolve();postMessage(a,b){let c={data:structuredClone(a,b?{transfer:b}:null)};this.#cf.then(()=>{for(let[a]of this.#ce)a.call(this,c)})}addEventListener(a,b,c=null){let d=null;if(c?.signal instanceof AbortSignal){let{signal:e}=c;if(e.aborted)return void Q("LoopbackPort - cannot use an `aborted` signal.");let f=()=>this.removeEventListener(a,b);d=()=>e.removeEventListener("abort",f),e.addEventListener("abort",f)}this.#ce.set(b,d)}removeEventListener(a,b){let c=this.#ce.get(b);c?.(),this.#ce.delete(b)}terminate(){for(let[,a]of this.#ce)a?.();this.#ce.clear()}}function bg(){}function bh(a){if(a instanceof aa||a instanceof Z||a instanceof X||a instanceof $||a instanceof Y)return a;switch(a instanceof Error||"object"==typeof a&&null!==a||R('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new aa(a.message);case"InvalidPDFException":return new Z(a.message);case"PasswordException":return new X(a.message,a.code);case"ResponseException":return new $(a.message,a.status,a.missing);case"UnknownErrorException":return new Y(a.message,a.details)}return new Y(a.message,a.toString())}class bi{#cg=new AbortController;constructor(a,b,c){this.sourceName=a,this.targetName=b,this.comObj=c,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),c.addEventListener("message",this.#ch.bind(this),{signal:this.#cg.signal})}#ch({data:a}){if(a.targetName!==this.sourceName)return;if(a.stream)return void this.#ci(a);if(a.callback){let b=a.callbackId,c=this.callbackCapabilities[b];if(!c)throw Error(`Cannot resolve callback ${b}`);if(delete this.callbackCapabilities[b],1===a.callback)c.resolve(a.data);else{if(2!==a.callback)throw Error("Unexpected callback case");c.reject(bh(a.reason))}return}let b=this.actionHandler[a.action];if(!b)throw Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){let c=this.sourceName,d=a.sourceName,e=this.comObj;return void Promise.try(b,a.data).then(function(b){e.postMessage({sourceName:c,targetName:d,callback:1,callbackId:a.callbackId,data:b})},function(b){e.postMessage({sourceName:c,targetName:d,callback:2,callbackId:a.callbackId,reason:bh(b)})})}a.streamId?this.#cj(a):b(a.data)}on(a,b){let c=this.actionHandler;if(c[a])throw Error(`There is already an actionName called "${a}"`);c[a]=b}send(a,b,c){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)}sendWithPromise(a,b,c){let d=this.callbackId++,e=Promise.withResolvers();this.callbackCapabilities[d]=e;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:d,data:b},c)}catch(a){e.reject(a)}return e.promise}sendWithStream(a,b,c,d){let e=this.streamId++,f=this.sourceName,g=this.targetName,h=this.comObj;return new ReadableStream({start:c=>{let i=Promise.withResolvers();return this.streamControllers[e]={controller:c,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:f,targetName:g,action:a,streamId:e,data:b,desiredSize:c.desiredSize},d),i.promise},pull:a=>{let b=Promise.withResolvers();return this.streamControllers[e].pullCall=b,h.postMessage({sourceName:f,targetName:g,stream:6,streamId:e,desiredSize:a.desiredSize}),b.promise},cancel:a=>{S(a instanceof Error,"cancel must have a valid reason");let b=Promise.withResolvers();return this.streamControllers[e].cancelCall=b,this.streamControllers[e].isClosed=!0,h.postMessage({sourceName:f,targetName:g,stream:1,streamId:e,reason:bh(a)}),b.promise}},c)}#cj(a){let b=a.streamId,c=this.sourceName,d=a.sourceName,e=this.comObj,f=this,g=this.actionHandler[a.action],h={enqueue(a,f=1,g){if(this.isCancelled)return;let h=this.desiredSize;this.desiredSize-=f,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),e.postMessage({sourceName:c,targetName:d,stream:4,streamId:b,chunk:a},g)},close(){this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:c,targetName:d,stream:3,streamId:b}),delete f.streamSinks[b])},error(a){S(a instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,e.postMessage({sourceName:c,targetName:d,stream:5,streamId:b,reason:bh(a)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[b]=h,Promise.try(g,a.data,h).then(function(){e.postMessage({sourceName:c,targetName:d,stream:8,streamId:b,success:!0})},function(a){e.postMessage({sourceName:c,targetName:d,stream:8,streamId:b,reason:bh(a)})})}#ci(a){let b=a.streamId,c=this.sourceName,d=a.sourceName,e=this.comObj,f=this.streamControllers[b],g=this.streamSinks[b];switch(a.stream){case 8:a.success?f.startCall.resolve():f.startCall.reject(bh(a.reason));break;case 7:a.success?f.pullCall.resolve():f.pullCall.reject(bh(a.reason));break;case 6:if(!g){e.postMessage({sourceName:c,targetName:d,stream:7,streamId:b,success:!0});break}g.desiredSize<=0&&a.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=a.desiredSize,Promise.try(g.onPull||bg).then(function(){e.postMessage({sourceName:c,targetName:d,stream:7,streamId:b,success:!0})},function(a){e.postMessage({sourceName:c,targetName:d,stream:7,streamId:b,reason:bh(a)})});break;case 4:if(S(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(a.chunk);break;case 3:if(S(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this.#ck(f,b);break;case 5:S(f,"error should have stream controller"),f.controller.error(bh(a.reason)),this.#ck(f,b);break;case 2:a.success?f.cancelCall.resolve():f.cancelCall.reject(bh(a.reason)),this.#ck(f,b);break;case 1:if(!g)break;let h=bh(a.reason);Promise.try(g.onCancel||bg,h).then(function(){e.postMessage({sourceName:c,targetName:d,stream:2,streamId:b,success:!0})},function(a){e.postMessage({sourceName:c,targetName:d,stream:2,streamId:b,reason:bh(a)})}),g.sinkCapability.reject(h),g.isCancelled=!0,delete this.streamSinks[b];break;default:throw Error("Unexpected stream case")}}async #ck(a,b){await Promise.allSettled([a.startCall?.promise,a.pullCall?.promise,a.cancelCall?.promise]),delete this.streamControllers[b]}destroy(){this.#cg?.abort(),this.#cg=null}}class bj{#cl=!1;constructor({enableHWA:a=!1}){this.#cl=a}create(a,b){if(a<=0||b<=0)throw Error("Invalid canvas size");let c=this._createCanvas(a,b);return{canvas:c,context:c.getContext("2d",{willReadFrequently:!this.#cl})}}reset(a,b,c){if(!a.canvas)throw Error("Canvas is not specified");if(b<=0||c<=0)throw Error("Invalid canvas size");a.canvas.width=b,a.canvas.height=c}destroy(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}_createCanvas(a,b){R("Abstract method `_createCanvas` called.")}}class bk extends bj{constructor({ownerDocument:a=globalThis.document,enableHWA:b=!1}){super({enableHWA:b}),this._document=a}_createCanvas(a,b){let c=this._document.createElement("canvas");return c.width=a,c.height=b,c}}class bl{constructor({baseUrl:a=null,isCompressed:b=!0}){this.baseUrl=a,this.isCompressed=b}async fetch({name:a}){if(!this.baseUrl)throw Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!a)throw Error("CMap name must be specified.");let b=this.baseUrl+a+(this.isCompressed?".bcmap":"");return this._fetch(b).then(a=>({cMapData:a,isCompressed:this.isCompressed})).catch(a=>{throw Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${b}`)})}async _fetch(a){R("Abstract method `_fetch` called.")}}class bm extends bl{async _fetch(a){let b=await ar(a,this.isCompressed?"arraybuffer":"text");return b instanceof ArrayBuffer?new Uint8Array(b):ac(b)}}B(2489);class bn{addFilter(a){return"none"}addHCMFilter(a,b){return"none"}addAlphaFilter(a){return"none"}addLuminosityFilter(a){return"none"}addHighlightHCMFilter(a,b,c,d,e){return"none"}destroy(a=!1){}}class bo extends bn{#cm;#cn;#co;#cp;#cq;#cr;#v=0;constructor({docId:a,ownerDocument:b=globalThis.document}){super(),this.#cp=a,this.#cq=b}get #x(){return this.#cn||=new Map}get #cs(){return this.#cr||=new Map}get #ct(){if(!this.#co){let a=this.#cq.createElement("div"),{style:b}=a;b.visibility="hidden",b.contain="strict",b.width=b.height=0,b.position="absolute",b.top=b.left=0,b.zIndex=-1;let c=this.#cq.createElementNS(ap,"svg");c.setAttribute("width",0),c.setAttribute("height",0),this.#co=this.#cq.createElementNS(ap,"defs"),a.append(c),c.append(this.#co),this.#cq.body.append(a)}return this.#co}#cu(a){if(1===a.length){let b=a[0],c=Array(256);for(let a=0;a<256;a++)c[a]=b[a]/255;let d=c.join(",");return[d,d,d]}let[b,c,d]=a,e=Array(256),f=Array(256),g=Array(256);for(let a=0;a<256;a++)e[a]=b[a]/255,f[a]=c[a]/255,g[a]=d[a]/255;return[e.join(","),f.join(","),g.join(",")]}#cv(a){if(void 0===this.#cm){this.#cm="";let a=this.#cq.URL;a!==this.#cq.baseURI&&(au(a)?Q('#createUrl: ignore "data:"-URL for performance reasons.'):this.#cm=U(a,""))}return`url(${this.#cm}#${a})`}addFilter(a){if(!a)return"none";let b=this.#x.get(a);if(b)return b;let[c,d,e]=this.#cu(a),f=1===a.length?c:`${c}${d}${e}`;if(b=this.#x.get(f))return this.#x.set(a,b),b;let g=`g_${this.#cp}_transfer_map_${this.#v++}`,h=this.#cv(g);this.#x.set(a,h),this.#x.set(f,h);let i=this.#cw(g);return this.#cx(c,d,e,i),h}addHCMFilter(a,b){let c=`${a}-${b}`,d="base",e=this.#cs.get(d);if(e?.key===c||(e?(e.filter?.remove(),e.key=c,e.url="none",e.filter=null):(e={key:c,url:"none",filter:null},this.#cs.set(d,e)),!a||!b))return e.url;let f=this.#cy(a);a=af.makeHexColor(...f);let g=this.#cy(b);if(b=af.makeHexColor(...g),this.#ct.style.color="","#000000"===a&&"#ffffff"===b||a===b)return e.url;let h=Array(256);for(let a=0;a<=255;a++){let b=a/255;h[a]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}let i=h.join(","),j=`g_${this.#cp}_hcm_filter`,k=e.filter=this.#cw(j);this.#cx(i,i,i,k),this.#cz(k);let l=(a,b)=>{let c=f[a]/255,d=g[a]/255,e=Array(b+1);for(let a=0;a<=b;a++)e[a]=c+a/b*(d-c);return e.join(",")};return this.#cx(l(0,5),l(1,5),l(2,5),k),e.url=this.#cv(j),e.url}addAlphaFilter(a){let b=this.#x.get(a);if(b)return b;let[c]=this.#cu([a]),d=`alpha_${c}`;if(b=this.#x.get(d))return this.#x.set(a,b),b;let e=`g_${this.#cp}_alpha_map_${this.#v++}`,f=this.#cv(e);this.#x.set(a,f),this.#x.set(d,f);let g=this.#cw(e);return this.#cA(c,g),f}addLuminosityFilter(a){let b,c,d=this.#x.get(a||"luminosity");if(d)return d;if(a?([b]=this.#cu([a]),c=`luminosity_${b}`):c="luminosity",d=this.#x.get(c))return this.#x.set(a,d),d;let e=`g_${this.#cp}_luminosity_map_${this.#v++}`,f=this.#cv(e);this.#x.set(a,f),this.#x.set(c,f);let g=this.#cw(e);return this.#cB(g),a&&this.#cA(b,g),f}addHighlightHCMFilter(a,b,c,d,e){let f=`${b}-${c}-${d}-${e}`,g=this.#cs.get(a);if(g?.key===f||(g?(g.filter?.remove(),g.key=f,g.url="none",g.filter=null):(g={key:f,url:"none",filter:null},this.#cs.set(a,g)),!b||!c))return g.url;let[h,i]=[b,c].map(this.#cy.bind(this)),j=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),k=Math.round(.2126*i[0]+.7152*i[1]+.0722*i[2]),[l,m]=[d,e].map(this.#cy.bind(this));k<j&&([j,k,l,m]=[k,j,m,l]),this.#ct.style.color="";let n=(a,b,c)=>{let d=Array(256),e=(k-j)/c,f=a/255,g=(b-a)/(255*c),h=0;for(let a=0;a<=c;a++){let b=Math.round(j+a*e),c=f+a*g;for(let a=h;a<=b;a++)d[a]=c;h=b+1}for(let a=h;a<256;a++)d[a]=d[h-1];return d.join(",")},o=`g_${this.#cp}_hcm_${a}_filter`,p=g.filter=this.#cw(o);return this.#cz(p),this.#cx(n(l[0],m[0],5),n(l[1],m[1],5),n(l[2],m[2],5),p),g.url=this.#cv(o),g.url}destroy(a=!1){a&&this.#cr?.size||(this.#co?.parentNode.parentNode.remove(),this.#co=null,this.#cn?.clear(),this.#cn=null,this.#cr?.clear(),this.#cr=null,this.#v=0)}#cB(a){let b=this.#cq.createElementNS(ap,"feColorMatrix");b.setAttribute("type","matrix"),b.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),a.append(b)}#cz(a){let b=this.#cq.createElementNS(ap,"feColorMatrix");b.setAttribute("type","matrix"),b.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),a.append(b)}#cw(a){let b=this.#cq.createElementNS(ap,"filter");return b.setAttribute("color-interpolation-filters","sRGB"),b.setAttribute("id",a),this.#ct.append(b),b}#cC(a,b,c){let d=this.#cq.createElementNS(ap,b);d.setAttribute("type","discrete"),d.setAttribute("tableValues",c),a.append(d)}#cx(a,b,c,d){let e=this.#cq.createElementNS(ap,"feComponentTransfer");d.append(e),this.#cC(e,"feFuncR",a),this.#cC(e,"feFuncG",b),this.#cC(e,"feFuncB",c)}#cA(a,b){let c=this.#cq.createElementNS(ap,"feComponentTransfer");b.append(c),this.#cC(c,"feFuncA",a)}#cy(a){return this.#ct.style.color=a,aE(getComputedStyle(this.#ct).getPropertyValue("color"))}}class bp{constructor({baseUrl:a=null}){this.baseUrl=a}async fetch({filename:a}){if(!this.baseUrl)throw Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!a)throw Error("Font filename must be specified.");let b=`${this.baseUrl}${a}`;return this._fetch(b).catch(a=>{throw Error(`Unable to load font data at: ${b}`)})}async _fetch(a){R("Abstract method `_fetch` called.")}}class bq extends bp{async _fetch(a){return new Uint8Array(await ar(a,"arraybuffer"))}}class br{constructor({baseUrl:a=null}){this.baseUrl=a}async fetch({filename:a}){if(!this.baseUrl)throw Error("Ensure that the `wasmUrl` API parameter is provided.");if(!a)throw Error("Wasm filename must be specified.");let b=`${this.baseUrl}${a}`;return this._fetch(b).catch(a=>{throw Error(`Unable to load wasm data at: ${b}`)})}async _fetch(a){R("Abstract method `_fetch` called.")}}class bs extends br{async _fetch(a){return new Uint8Array(await ar(a,"arraybuffer"))}}if(C){let a;try{let b=process.getBuiltinModule("module").createRequire("undefined"==typeof document?c(79551).pathToFileURL(__filename).href:y&&"SCRIPT"===y.tagName.toUpperCase()&&y.src||new URL("index.cjs",document.baseURI).href);try{a=b("@napi-rs/canvas")}catch(a){Q(`Cannot load "@napi-rs/canvas" package: "${a}".`)}}catch(a){Q(`Cannot access the \`require\` function: "${a}".`)}globalThis.DOMMatrix||(a?.DOMMatrix?globalThis.DOMMatrix=a.DOMMatrix:Q("Cannot polyfill `DOMMatrix`, rendering may be broken.")),globalThis.ImageData||(a?.ImageData?globalThis.ImageData=a.ImageData:Q("Cannot polyfill `ImageData`, rendering may be broken.")),globalThis.Path2D||(a?.Path2D?globalThis.Path2D=a.Path2D:Q("Cannot polyfill `Path2D`, rendering may be broken.")),globalThis.navigator?.language||(globalThis.navigator={language:"en-US",platform:"",userAgent:""})}async function bt(a){let b=process.getBuiltinModule("fs");return new Uint8Array(await b.promises.readFile(a))}class bu extends bn{}class bv extends bj{_createCanvas(a,b){return process.getBuiltinModule("module").createRequire("undefined"==typeof document?c(79551).pathToFileURL(__filename).href:y&&"SCRIPT"===y.tagName.toUpperCase()&&y.src||new URL("index.cjs",document.baseURI).href)("@napi-rs/canvas").createCanvas(a,b)}}class bw extends bl{async _fetch(a){return bt(a)}}class bx extends bp{async _fetch(a){return bt(a)}}class by extends br{async _fetch(a){return bt(a)}}B(7588);let bz="__forcedDependency",{floor:bA,ceil:bB}=Math;function bC(a,b,c,d,e,f){a[4*b+0]=Math.min(a[4*b+0],c),a[4*b+1]=Math.min(a[4*b+1],d),a[4*b+2]=Math.max(a[4*b+2],e),a[4*b+3]=Math.max(a[4*b+3],f)}let bD=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class bE{#cD;#cE;constructor(a,b){this.#cD=a,this.#cE=b}get length(){return this.#cD.length}isEmpty(a){return this.#cD[a]===bD}minX(a){return this.#cE[4*a+0]/256}minY(a){return this.#cE[4*a+1]/256}maxX(a){return(this.#cE[4*a+2]+1)/256}maxY(a){return(this.#cE[4*a+3]+1)/256}}let bF=(a,b)=>{if(!a)return;let c=a.get(b);return c||(c={dependencies:new Set,isRenderingOperation:!1},a.set(b,c)),c};class bG{#cF={__proto__:null};#cG={__proto__:null,transform:[],moveText:[],sameLineText:[],[bz]:[]};#cH=new Map;#cI=[];#cJ=[];#cK=[[1,0,0,1,0,0]];#cL=[-1/0,-1/0,1/0,1/0];#cM=new Float64Array([1/0,1/0,-1/0,-1/0]);#cN=-1;#cO=new Set;#cP=new Map;#cQ=new Map;#cR;#cS;#cT;#cD;#cU;constructor(a,b,c=!1){this.#cR=a.width,this.#cS=a.height,this.#cV(b),c&&(this.#cU=new Map)}growOperationsCount(a){a>=this.#cD.length&&this.#cV(a,this.#cD)}#cV(a,b){let c=new ArrayBuffer(4*a);this.#cT=new Uint8ClampedArray(c),this.#cD=new Uint32Array(c),b&&b.length>0?(this.#cD.set(b),this.#cD.fill(bD,b.length)):this.#cD.fill(bD)}save(a){return this.#cF={__proto__:this.#cF},this.#cG={__proto__:this.#cG,transform:{__proto__:this.#cG.transform},moveText:{__proto__:this.#cG.moveText},sameLineText:{__proto__:this.#cG.sameLineText},[bz]:{__proto__:this.#cG[bz]}},this.#cL={__proto__:this.#cL},this.#cI.push(a),this}restore(a){let b=Object.getPrototypeOf(this.#cF);if(null===b)return this;this.#cF=b,this.#cG=Object.getPrototypeOf(this.#cG),this.#cL=Object.getPrototypeOf(this.#cL);let c=this.#cI.pop();return void 0!==c&&(bF(this.#cU,a)?.dependencies.add(c),this.#cD[a]=this.#cD[c]),this}recordOpenMarker(a){return this.#cI.push(a),this}getOpenMarker(){return 0===this.#cI.length?null:this.#cI.at(-1)}recordCloseMarker(a){let b=this.#cI.pop();return void 0!==b&&(bF(this.#cU,a)?.dependencies.add(b),this.#cD[a]=this.#cD[b]),this}beginMarkedContent(a){return this.#cJ.push(a),this}endMarkedContent(a){let b=this.#cJ.pop();return void 0!==b&&(bF(this.#cU,a)?.dependencies.add(b),this.#cD[a]=this.#cD[b]),this}pushBaseTransform(a){return this.#cK.push(af.multiplyByDOMMatrix(this.#cK.at(-1),a.getTransform())),this}popBaseTransform(){return this.#cK.length>1&&this.#cK.pop(),this}recordSimpleData(a,b){return this.#cF[a]=b,this}recordIncrementalData(a,b){return this.#cG[a].push(b),this}resetIncrementalData(a,b){return this.#cG[a].length=0,this}recordNamedData(a,b){return this.#cH.set(a,b),this}recordSimpleDataFromNamed(a,b,c){this.#cF[a]=this.#cH.get(b)??c}recordFutureForcedDependency(a,b){return this.recordIncrementalData(bz,b),this}inheritSimpleDataAsFutureForcedDependencies(a){for(let b of a)b in this.#cF&&this.recordFutureForcedDependency(b,this.#cF[b]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(let a of this.#cO)this.recordFutureForcedDependency(bz,a);return this}resetBBox(a){return this.#cN!==a&&(this.#cN=a,this.#cM[0]=1/0,this.#cM[1]=1/0,this.#cM[2]=-1/0,this.#cM[3]=-1/0),this}recordClipBox(a,b,c,d,e,f){let g=af.multiplyByDOMMatrix(this.#cK.at(-1),b.getTransform()),h=[1/0,1/0,-1/0,-1/0];af.axialAlignedBoundingBox([c,e,d,f],g,h);let i=af.intersect(this.#cL,h);return i?(this.#cL[0]=i[0],this.#cL[1]=i[1],this.#cL[2]=i[2],this.#cL[3]=i[3]):(this.#cL[0]=this.#cL[1]=1/0,this.#cL[2]=this.#cL[3]=-1/0),this}recordBBox(a,b,c,d,e,f){let g=this.#cL;if(g[0]===1/0)return this;let h=af.multiplyByDOMMatrix(this.#cK.at(-1),b.getTransform());if(g[0]===-1/0)return af.axialAlignedBoundingBox([c,e,d,f],h,this.#cM),this;let i=[1/0,1/0,-1/0,-1/0];return af.axialAlignedBoundingBox([c,e,d,f],h,i),this.#cM[0]=Math.min(this.#cM[0],Math.max(i[0],g[0])),this.#cM[1]=Math.min(this.#cM[1],Math.max(i[1],g[1])),this.#cM[2]=Math.max(this.#cM[2],Math.min(i[2],g[2])),this.#cM[3]=Math.max(this.#cM[3],Math.min(i[3],g[3])),this}recordCharacterBBox(a,b,c,d=1,e=0,f=0,g){let h,i,j=c.bbox;if(j&&!1!==(h=j[2]!==j[0]&&j[3]!==j[1]&&this.#cQ.get(c))&&(i=[0,0,0,0],af.axialAlignedBoundingBox(j,c.fontMatrix,i),1===d&&0===e&&0===f||af.scaleMinMax([d,0,0,-d,e,f],i),h))return this.recordBBox(a,b,i[0],i[2],i[1],i[3]);if(!g)return this.recordFullPageBBox(a);let k=g();return j&&i&&void 0===h&&(h=i[0]<=e-k.actualBoundingBoxLeft&&i[2]>=e+k.actualBoundingBoxRight&&i[1]<=f-k.actualBoundingBoxAscent&&i[3]>=f+k.actualBoundingBoxDescent,this.#cQ.set(c,h),h)?this.recordBBox(a,b,i[0],i[2],i[1],i[3]):this.recordBBox(a,b,e-k.actualBoundingBoxLeft,e+k.actualBoundingBoxRight,f-k.actualBoundingBoxAscent,f+k.actualBoundingBoxDescent)}recordFullPageBBox(a){return this.#cM[0]=Math.max(0,this.#cL[0]),this.#cM[1]=Math.max(0,this.#cL[1]),this.#cM[2]=Math.min(this.#cR,this.#cL[2]),this.#cM[3]=Math.min(this.#cS,this.#cL[3]),this}getSimpleIndex(a){return this.#cF[a]}recordDependencies(a,b){let c=this.#cO,d=this.#cF,e=this.#cG;for(let a of b)a in this.#cF?c.add(d[a]):a in e&&e[a].forEach(c.add,c);return this}recordNamedDependency(a,b){return this.#cH.has(b)&&this.#cO.add(this.#cH.get(b)),this}recordOperation(a,b=!1){if(this.recordDependencies(a,[bz]),this.#cU){let b=bF(this.#cU,a),{dependencies:c}=b;this.#cO.forEach(c.add,c),this.#cI.forEach(c.add,c),this.#cJ.forEach(c.add,c),c.delete(a),b.isRenderingOperation=!0}if(this.#cN===a){let c=bA(256*this.#cM[0]/this.#cR),d=bA(256*this.#cM[1]/this.#cS),e=bB(256*this.#cM[2]/this.#cR),f=bB(256*this.#cM[3]/this.#cS);for(let b of(bC(this.#cT,a,c,d,e,f),this.#cO))b!==a&&bC(this.#cT,b,c,d,e,f);for(let b of this.#cI)b!==a&&bC(this.#cT,b,c,d,e,f);for(let b of this.#cJ)b!==a&&bC(this.#cT,b,c,d,e,f);b||(this.#cO.clear(),this.#cN=-1)}return this}recordShowTextOperation(a,b=!1){let c=Array.from(this.#cO);for(let d of(this.recordOperation(a,b),this.recordIncrementalData("sameLineText",a),c))this.recordIncrementalData("sameLineText",d);return this}bboxToClipBoxDropOperation(a,b=!1){return this.#cN===a&&(this.#cN=-1,this.#cL[0]=Math.max(this.#cL[0],this.#cM[0]),this.#cL[1]=Math.max(this.#cL[1],this.#cM[1]),this.#cL[2]=Math.min(this.#cL[2],this.#cM[2]),this.#cL[3]=Math.min(this.#cL[3],this.#cM[3]),b||this.#cO.clear()),this}_takePendingDependencies(){let a=this.#cO;return this.#cO=new Set,a}_extractOperation(a){let b=this.#cP.get(a);return this.#cP.delete(a),b}_pushPendingDependencies(a){for(let b of a)this.#cO.add(b)}take(){return this.#cQ.clear(),new bE(this.#cD,this.#cT)}takeDebugMetadata(){return this.#cU}}class bH{#cW;#cX;#cY;#cZ=0;#c$=0;constructor(a,b,c){if(a instanceof bH&&!!c===a.#cY)return a;this.#cW=a,this.#cX=b,this.#cY=!!c}growOperationsCount(){throw Error("Unreachable")}save(a){return this.#c$++,this.#cW.save(this.#cX),this}restore(a){return this.#c$>0&&(this.#cW.restore(this.#cX),this.#c$--),this}recordOpenMarker(a){return this.#cZ++,this}getOpenMarker(){return this.#cZ>0?this.#cX:this.#cW.getOpenMarker()}recordCloseMarker(a){return this.#cZ--,this}beginMarkedContent(a){return this}endMarkedContent(a){return this}pushBaseTransform(a){return this.#cW.pushBaseTransform(a),this}popBaseTransform(){return this.#cW.popBaseTransform(),this}recordSimpleData(a,b){return this.#cW.recordSimpleData(a,this.#cX),this}recordIncrementalData(a,b){return this.#cW.recordIncrementalData(a,this.#cX),this}resetIncrementalData(a,b){return this.#cW.resetIncrementalData(a,this.#cX),this}recordNamedData(a,b){return this}recordSimpleDataFromNamed(a,b,c){return this.#cW.recordSimpleDataFromNamed(a,b,this.#cX),this}recordFutureForcedDependency(a,b){return this.#cW.recordFutureForcedDependency(a,this.#cX),this}inheritSimpleDataAsFutureForcedDependencies(a){return this.#cW.inheritSimpleDataAsFutureForcedDependencies(a),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#cW.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(a){return this.#cY||this.#cW.resetBBox(this.#cX),this}recordClipBox(a,b,c,d,e,f){return this.#cY||this.#cW.recordClipBox(this.#cX,b,c,d,e,f),this}recordBBox(a,b,c,d,e,f){return this.#cY||this.#cW.recordBBox(this.#cX,b,c,d,e,f),this}recordCharacterBBox(a,b,c,d,e,f,g){return this.#cY||this.#cW.recordCharacterBBox(this.#cX,b,c,d,e,f,g),this}recordFullPageBBox(a){return this.#cY||this.#cW.recordFullPageBBox(this.#cX),this}getSimpleIndex(a){return this.#cW.getSimpleIndex(a)}recordDependencies(a,b){return this.#cW.recordDependencies(this.#cX,b),this}recordNamedDependency(a,b){return this.#cW.recordNamedDependency(this.#cX,b),this}recordOperation(a){return this.#cW.recordOperation(this.#cX,!0),this}recordShowTextOperation(a){return this.#cW.recordShowTextOperation(this.#cX,!0),this}bboxToClipBoxDropOperation(a){return this.#cY||this.#cW.bboxToClipBoxDropOperation(this.#cX,!0),this}take(){throw Error("Unreachable")}takeDebugMetadata(){throw Error("Unreachable")}}let bI=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],bJ=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],bK=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],bL=["filter","fillColor","fillAlpha"],bM=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],bN=["transform"],bO=["transform","fillColor"],bP="Fill",bQ="Stroke",bR="Shading";function bS(a,b){if(!b)return;let c=b[2]-b[0],d=b[3]-b[1],e=new Path2D;e.rect(b[0],b[1],c,d),a.clip(e)}class bT{isModifyingCurrentTransform(){return!1}getPattern(){R("Abstract method `getPattern` called.")}}class bU extends bT{constructor(a){super(),this._type=a[1],this._bbox=a[2],this._colorStops=a[3],this._p0=a[4],this._p1=a[5],this._r0=a[6],this._r1=a[7],this.matrix=null}_createGradient(a){let b;for(let c of("axial"===this._type?b=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(b=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1)),this._colorStops))b.addColorStop(c[0],c[1]);return b}getPattern(a,b,c,d){let e;if(d===bQ||d===bP){let f=b.current.getClippedPathBoundingBox(d,aF(a))||[0,0,0,0],g=Math.ceil(f[2]-f[0])||1,h=Math.ceil(f[3]-f[1])||1,i=b.cachedCanvases.getCanvas("pattern",g,h),j=i.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-f[0],-f[1]),c=af.transform(c,[1,0,0,1,f[0],f[1]]),j.transform(...b.baseTransform),this.matrix&&j.transform(...this.matrix),bS(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),e=a.createPattern(i.canvas,"no-repeat");let k=new DOMMatrix(c);e.setTransform(k)}else bS(a,this._bbox),e=this._createGradient(a);return e}}function bV(a,b,c,d,e,f,g,h){let i,j,k,l,m,n,o,p,q,r=b.coords,s=b.colors,u=a.data,v=4*a.width;r[c+1]>r[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i),r[d+1]>r[e+1]&&(i=d,d=e,e=i,i=g,g=h,h=i),r[c+1]>r[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i);let w=(r[c]+b.offsetX)*b.scaleX,x=(r[c+1]+b.offsetY)*b.scaleY,y=(r[d]+b.offsetX)*b.scaleX,z=(r[d+1]+b.offsetY)*b.scaleY,A=(r[e]+b.offsetX)*b.scaleX,B=(r[e+1]+b.offsetY)*b.scaleY;if(x>=B)return;let C=s[f],D=s[f+1],E=s[f+2],F=s[g],G=s[g+1],H=s[g+2],I=s[h],J=s[h+1],K=s[h+2],L=Math.round(x),M=Math.round(B);for(let a=L;a<=M;a++){let b;if(a<z){let b=a<x?0:(x-a)/(x-z);j=w-(w-y)*b,k=C-(C-F)*b,l=D-(D-G)*b,m=E-(E-H)*b}else{let b;j=y-(y-A)*(b=a>B?1:z===B?0:(z-a)/(z-B)),k=F-(F-I)*b,l=G-(G-J)*b,m=H-(H-K)*b}n=w-(w-A)*(b=a<x?0:a>B?1:(x-a)/(x-B)),o=C-(C-I)*b,p=D-(D-J)*b,q=E-(E-K)*b;let c=Math.round(Math.min(j,n)),d=Math.round(Math.max(j,n)),e=v*a+4*c;for(let a=c;a<=d;a++)(b=(j-a)/(j-n))<0?b=0:b>1&&(b=1),u[e++]=k-(k-o)*b|0,u[e++]=l-(l-p)*b|0,u[e++]=m-(m-q)*b|0,u[e++]=255}}class bW extends bT{constructor(a){super(),this._coords=a[2],this._colors=a[3],this._figures=a[4],this._bounds=a[5],this._bbox=a[6],this._background=a[7],this.matrix=null}_createMeshCanvas(a,b,c){let d=Math.floor(this._bounds[0]),e=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-d,g=Math.ceil(this._bounds[3])-e,h=Math.min(Math.ceil(Math.abs(f*a[0]*1.1)),3e3),i=Math.min(Math.ceil(Math.abs(g*a[1]*1.1)),3e3),j=f/h,k=g/i,l={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-e,scaleX:1/j,scaleY:1/k},m=h+4,n=i+4,o=c.getCanvas("mesh",m,n),p=o.context,q=p.createImageData(h,i);if(b){let a=q.data;for(let c=0,d=a.length;c<d;c+=4)a[c]=b[0],a[c+1]=b[1],a[c+2]=b[2],a[c+3]=255}for(let a of this._figures)!function(a,b,c){let d,e,f=b.coords,g=b.colors;switch(b.type){case"lattice":let h=b.verticesPerRow,i=Math.floor(f.length/h)-1,j=h-1;for(d=0;d<i;d++){let b=d*h;for(let d=0;d<j;d++,b++)bV(a,c,f[b],f[b+1],f[b+h],g[b],g[b+1],g[b+h]),bV(a,c,f[b+h+1],f[b+1],f[b+h],g[b+h+1],g[b+1],g[b+h])}break;case"triangles":for(d=0,e=f.length;d<e;d+=3)bV(a,c,f[d],f[d+1],f[d+2],g[d],g[d+1],g[d+2]);break;default:throw Error("illegal figure")}}(q,a,l);return p.putImageData(q,2,2),{canvas:o.canvas,offsetX:d-2*j,offsetY:e-2*k,scaleX:j,scaleY:k}}isModifyingCurrentTransform(){return!0}getPattern(a,b,c,d){bS(a,this._bbox);let e=new Float32Array(2);if(d===bR)af.singularValueDecompose2dScale(aF(a),e);else if(this.matrix){af.singularValueDecompose2dScale(this.matrix,e);let[a,c]=e;af.singularValueDecompose2dScale(b.baseTransform,e),e[0]*=a,e[1]*=c}else af.singularValueDecompose2dScale(b.baseTransform,e);let f=this._createMeshCanvas(e,d===bR?null:this._background,b.cachedCanvases);return d!==bR&&(a.setTransform(...b.baseTransform),this.matrix&&a.transform(...this.matrix)),a.translate(f.offsetX,f.offsetY),a.scale(f.scaleX,f.scaleY),a.createPattern(f.canvas,"no-repeat")}}class bX extends bT{getPattern(){return"hotpink"}}class bY{static MAX_PATTERN_SIZE=3e3;constructor(a,b,c,d){this.color=a[1],this.operatorList=a[2],this.matrix=a[3],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.ctx=b,this.canvasGraphicsFactory=c,this.baseTransform=d}createPatternCanvas(a,b){let{bbox:c,operatorList:d,paintType:e,tilingType:f,color:g,canvasGraphicsFactory:h}=this,{xstep:i,ystep:j}=this;i=Math.abs(i),j=Math.abs(j),P("TilingType: "+f);let k=c[0],l=c[1],m=c[2],n=c[3],o=m-k,p=n-l,q=new Float32Array(2);af.singularValueDecompose2dScale(this.matrix,q);let[r,s]=q;af.singularValueDecompose2dScale(this.baseTransform,q);let u=r*q[0],v=s*q[1],w=o,x=p,y=!1,z=!1,A=Math.ceil(j*v);Math.ceil(i*u)>=Math.ceil(o*u)?w=i:y=!0,A>=Math.ceil(p*v)?x=j:z=!0;let B=this.getSizeAndScale(w,this.ctx.canvas.width,u),C=this.getSizeAndScale(x,this.ctx.canvas.height,v),D=a.cachedCanvases.getCanvas("pattern",B.size,C.size),E=D.context,F=h.createCanvasGraphics(E,b);if(F.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(F,e,g),E.translate(-B.scale*k,-C.scale*l),F.transform(0,B.scale,0,0,C.scale,0,0),E.save(),F.dependencyTracker?.save(),this.clipBbox(F,k,l,m,n),F.baseTransform=aF(F.ctx),F.executeOperatorList(d),F.endDrawing(),F.dependencyTracker?.restore(),E.restore(),y||z){let b=D.canvas;y&&(w=i),z&&(x=j);let c=this.getSizeAndScale(w,this.ctx.canvas.width,u),d=this.getSizeAndScale(x,this.ctx.canvas.height,v),e=c.size,f=d.size,g=a.cachedCanvases.getCanvas("pattern-workaround",e,f),h=g.context,m=y?Math.floor(o/i):0,n=z?Math.floor(p/j):0;for(let a=0;a<=m;a++)for(let c=0;c<=n;c++)h.drawImage(b,e*a,f*c,e,f,0,0,e,f);return{canvas:g.canvas,scaleX:c.scale,scaleY:d.scale,offsetX:k,offsetY:l}}return{canvas:D.canvas,scaleX:B.scale,scaleY:C.scale,offsetX:k,offsetY:l}}getSizeAndScale(a,b,c){let d=Math.max(bY.MAX_PATTERN_SIZE,b),e=Math.ceil(a*c);return e>=d?e=d:c=e/a,{scale:c,size:e}}clipBbox(a,b,c,d,e){let f=d-b,g=e-c;a.ctx.rect(b,c,f,g),af.axialAlignedBoundingBox([b,c,d,e],aF(a.ctx),a.current.minMax),a.clip(),a.endPath()}setFillAndStrokeStyleToContext(a,b,c){let d=a.ctx,e=a.current;switch(b){case 1:let{fillStyle:f,strokeStyle:g}=this.ctx;d.fillStyle=e.fillColor=f,d.strokeStyle=e.strokeColor=g;break;case 2:d.fillStyle=d.strokeStyle=c,e.fillColor=e.strokeColor=c;break;default:throw new _(`Unsupported paint type: ${b}`)}}isModifyingCurrentTransform(){return!1}getPattern(a,b,c,d,e){let f=c;d!==bR&&(f=af.transform(f,b.baseTransform),this.matrix&&(f=af.transform(f,this.matrix)));let g=this.createPatternCanvas(b,e),h=new DOMMatrix(f);h=(h=h.translate(g.offsetX,g.offsetY)).scale(1/g.scaleX,1/g.scaleY);let i=a.createPattern(g.canvas,"repeat");return i.setTransform(h),i}}let bZ=new DOMMatrix,b$=new Float32Array(2),b_=new Float32Array([1/0,1/0,-1/0,-1/0]);class b0{constructor(a){this.canvasFactory=a,this.cache=Object.create(null)}getCanvas(a,b,c){let d;return void 0!==this.cache[a]?(d=this.cache[a],this.canvasFactory.reset(d,b,c)):(d=this.canvasFactory.create(b,c),this.cache[a]=d),d}delete(a){delete this.cache[a]}clear(){for(let a in this.cache){let b=this.cache[a];this.canvasFactory.destroy(b),delete this.cache[a]}}}function b1(a,b,c,d,e,f,g,h,i,j){let[k,l,m,n,o,p]=aF(a);if(0===l&&0===m){let q=Math.round(g*k+o),r=Math.round(h*n+p),s=Math.abs(Math.round((g+i)*k+o)-q)||1,u=Math.abs(Math.round((h+j)*n+p)-r)||1;return a.setTransform(Math.sign(k),0,0,Math.sign(n),q,r),a.drawImage(b,c,d,e,f,0,0,s,u),a.setTransform(k,l,m,n,o,p),[s,u]}if(0===k&&0===n){let q=Math.round(h*m+o),r=Math.round(g*l+p),s=Math.abs(Math.round((h+j)*m+o)-q)||1,u=Math.abs(Math.round((g+i)*l+p)-r)||1;return a.setTransform(0,Math.sign(l),Math.sign(m),0,q,r),a.drawImage(b,c,d,e,f,0,0,u,s),a.setTransform(k,l,m,n,o,p),[u,s]}return a.drawImage(b,c,d,e,f,g,h,i,j),[Math.hypot(k,l)*i,Math.hypot(m,n)*j]}class b2{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=D;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=0;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(a,b,c){c?.(this),this.clipBox=new Float32Array([0,0,a,b]),this.minMax=b_.slice()}clone(){let a=Object.create(this);return a.clipBox=this.clipBox.slice(),a.minMax=this.minMax.slice(),a}getPathBoundingBox(a=bP,b=null){let c=this.minMax.slice();if(a===bQ){b||R("Stroke bounding box must include transform."),af.singularValueDecompose2dScale(b,b$);let a=b$[0]*this.lineWidth/2,d=b$[1]*this.lineWidth/2;c[0]-=a,c[1]-=d,c[2]+=a,c[3]+=d}return c}updateClipFromPath(){let a=af.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(a||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(a){this.clipBox.set(a,0),this.minMax.set(b_,0)}getClippedPathBoundingBox(a=bP,b=null){return af.intersect(this.clipBox,this.getPathBoundingBox(a,b))}}function b3(a,b){let c,d,e,f;if(b instanceof ImageData)return void a.putImageData(b,0,0);let g=b.height,h=b.width,i=g%16,j=(g-i)/16,k=0===i?j:j+1,l=a.createImageData(h,16),m,n=0,o=b.data,p=l.data;if(b.kind===J.GRAYSCALE_1BPP){let b=o.byteLength,f=new Uint32Array(p.buffer,0,p.byteLength>>2),g=f.length,q=h+7>>3,r=ad.isLittleEndian?0xff000000:255;for(c=0;c<k;c++){for(e=c<j?16:i,m=0,d=0;d<e;d++){let a=b-n,c=0,d=a>q?h:8*a-7,e=-8&d,g=0,i=0;for(;c<e;c+=8)i=o[n++],f[m++]=128&i?0xffffffff:r,f[m++]=64&i?0xffffffff:r,f[m++]=32&i?0xffffffff:r,f[m++]=16&i?0xffffffff:r,f[m++]=8&i?0xffffffff:r,f[m++]=4&i?0xffffffff:r,f[m++]=2&i?0xffffffff:r,f[m++]=1&i?0xffffffff:r;for(;c<d;c++)0===g&&(i=o[n++],g=128),f[m++]=i&g?0xffffffff:r,g>>=1}for(;m<g;)f[m++]=0;a.putImageData(l,0,16*c)}}else if(b.kind===J.RGBA_32BPP){for(d=0,f=16*h*4,c=0;c<j;c++)p.set(o.subarray(n,n+f)),n+=f,a.putImageData(l,0,d),d+=16;c<k&&(f=h*i*4,p.set(o.subarray(n,n+f)),a.putImageData(l,0,d))}else{if(b.kind!==J.RGB_24BPP)throw Error(`bad image kind: ${b.kind}`);for(f=h*(e=16),c=0;c<k;c++){for(c>=j&&(f=h*(e=i)),m=0,d=f;d--;)p[m++]=o[n++],p[m++]=o[n++],p[m++]=o[n++],p[m++]=255;a.putImageData(l,0,16*c)}}}function b4(a,b){if(b.bitmap)return void a.drawImage(b.bitmap,0,0);let c=b.height,d=b.width,e=c%16,f=(c-e)/16,g=0===e?f:f+1,h=a.createImageData(d,16),i=0,j=b.data,k=h.data;for(let b=0;b<g;b++){let c=b<f?16:e;({srcPos:i}=function({src:a,srcPos:b=0,dest:c,width:d,height:e,nonBlackColor:f=0xffffffff,inverseDecode:g=!1}){let h=ad.isLittleEndian?0xff000000:255,[i,j]=g?[f,h]:[h,f],k=d>>3,l=7&d,m=a.length;c=new Uint32Array(c.buffer);let n=0;for(let d=0;d<e;d++){for(let d=b+k;b<d;b++){let d=b<m?a[b]:255;c[n++]=128&d?j:i,c[n++]=64&d?j:i,c[n++]=32&d?j:i,c[n++]=16&d?j:i,c[n++]=8&d?j:i,c[n++]=4&d?j:i,c[n++]=2&d?j:i,c[n++]=1&d?j:i}if(0===l)continue;let d=b<m?a[b++]:255;for(let a=0;a<l;a++)c[n++]=d&1<<7-a?j:i}return{srcPos:b,destPos:n}}({src:j,srcPos:i,dest:k,width:d,height:c,nonBlackColor:0})),a.putImageData(h,0,16*b)}}function b5(a,b){for(let c of["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"])void 0!==a[c]&&(b[c]=a[c]);void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function b6(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0);let{filter:b}=a;"none"!==b&&""!==b&&(a.filter="none")}function b7(a,b){if(b)return!0;af.singularValueDecompose2dScale(a,b$);let c=Math.fround(aI.pixelRatio*aq.PDF_TO_CSS_UNITS);return b$[0]<=c&&b$[1]<=c}let b8=["butt","round","square"],b9=["miter","round","bevel"],ca={},cb={};class cc{constructor(a,b,c,d,e,{optionalContentConfig:f,markedContentStack:g=null},h,i,j){this.ctx=a,this.current=new b2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=c,this.canvasFactory=d,this.filterFactory=e,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=g||[],this.optionalContentConfig=f,this.cachedCanvases=new b0(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=i,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=j??null}getObject(a,b,c=null){return"string"==typeof b?(this.dependencyTracker?.recordNamedDependency(a,b),b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b)):c}beginDrawing({transform:a,viewport:b,transparency:c=!1,background:d=null}){let e=this.ctx.canvas.width,f=this.ctx.canvas.height,g=this.ctx.fillStyle;if(this.ctx.fillStyle=d||"#ffffff",this.ctx.fillRect(0,0,e,f),this.ctx.fillStyle=g,c){let a=this.cachedCanvases.getCanvas("transparent",e,f);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform(...aF(this.compositeCtx))}this.ctx.save(),b6(this.ctx),a&&(this.ctx.transform(...a),this.outputScaleX=a[0],this.outputScaleY=a[0]),this.ctx.transform(...b.transform),this.viewportScale=b.scale,this.baseTransform=aF(this.ctx)}executeOperatorList(a,b,c,d,e){let f,g,h=a.argsArray,i=a.fnArray,j=b||0,k=h.length;if(k===j)return j;let l=k-j>10&&"function"==typeof c,m=l?Date.now()+15:0,n=0,o=this.commonObjs,p=this.objs;for(;;){if(void 0!==d&&j===d.nextBreakPoint)return d.breakIt(j,c),j;if(!e||e(j))if(f=i[j],g=h[j]??null,f!==M.dependency)null===g?this[f](j):this[f](j,...g);else for(let a of g){this.dependencyTracker?.recordNamedData(a,j);let b=a.startsWith("g_")?o:p;if(!b.has(a))return b.get(a,c),j}if(++j===k)return j;if(l&&++n>10){if(Date.now()>m)return c(),j;n=0}}}#c_(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){for(let a of(this.#c_(),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this._cachedBitmapsMap.values())){for(let b of a.values())"undefined"!=typeof HTMLCanvasElement&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);a.clear()}this._cachedBitmapsMap.clear(),this.#c0()}#c0(){if(this.pageColors){let a=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==a){let b=this.ctx.filter;this.ctx.filter=a,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=b}}}_scaleImage(a,b){let c=a.width??a.displayWidth,d=a.height??a.displayHeight,e,f,g=Math.max(Math.hypot(b[0],b[1]),1),h=Math.max(Math.hypot(b[2],b[3]),1),i=c,j=d,k="prescale1";for(;g>2&&i>1||h>2&&j>1;){let b=i,c=j;g>2&&i>1&&(b=i>=16384?Math.floor(i/2)-1||1:Math.ceil(i/2),g/=i/b),h>2&&j>1&&(c=j>=16384?Math.floor(j/2)-1||1:Math.ceil(j)/2,h/=j/c),(f=(e=this.cachedCanvases.getCanvas(k,b,c)).context).clearRect(0,0,b,c),f.drawImage(a,0,0,i,j,0,0,b,c),a=e.canvas,i=b,j=c,k="prescale1"===k?"prescale2":"prescale1"}return{img:a,paintWidth:i,paintHeight:j}}_createMaskCanvas(a,b){let c,d,e,f,g=this.ctx,{width:h,height:i}=b,j=this.current.fillColor,k=this.current.patternFill,l=aF(g);if((b.bitmap||b.data)&&b.count>1){let f=b.bitmap||b.data.buffer;d=JSON.stringify(k?l:[l.slice(0,4),j]),(c=this._cachedBitmapsMap.get(f))||(c=new Map,this._cachedBitmapsMap.set(f,c));let g=c.get(d);if(g&&!k){let b=Math.round(Math.min(l[0],l[2])+l[4]),c=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(a,bO),{canvas:g,offsetX:b,offsetY:c}}e=g}e||b4((f=this.cachedCanvases.getCanvas("maskCanvas",h,i)).context,b);let m=af.transform(l,[1/h,0,0,-1/i,0,0]);m=af.transform(m,[1,0,0,1,0,-i]);let n=b_.slice();af.axialAlignedBoundingBox([0,0,h,i],m,n);let[o,p,q,r]=n,s=Math.round(q-o)||1,u=Math.round(r-p)||1,v=this.cachedCanvases.getCanvas("fillCanvas",s,u),w=v.context;w.translate(-o,-p),w.transform(...m),e||(e=(e=this._scaleImage(f.canvas,aG(w))).img,c&&k&&c.set(d,e)),w.imageSmoothingEnabled=b7(aF(w),b.interpolate),b1(w,e,0,0,e.width,e.height,0,0,h,i),w.globalCompositeOperation="source-in";let x=af.transform(aG(w),[1,0,0,1,-o,-p]);return w.fillStyle=k?j.getPattern(g,this,x,bP,a):j,w.fillRect(0,0,h,i),c&&!k&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,v.canvas)),this.dependencyTracker?.recordDependencies(a,bO),{canvas:v.canvas,offsetX:Math.round(o),offsetY:Math.round(p)}}setLineWidth(a,b){this.dependencyTracker?.recordSimpleData("lineWidth",a),b!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=b,this.ctx.lineWidth=b}setLineCap(a,b){this.dependencyTracker?.recordSimpleData("lineCap",a),this.ctx.lineCap=b8[b]}setLineJoin(a,b){this.dependencyTracker?.recordSimpleData("lineJoin",a),this.ctx.lineJoin=b9[b]}setMiterLimit(a,b){this.dependencyTracker?.recordSimpleData("miterLimit",a),this.ctx.miterLimit=b}setDash(a,b,c){this.dependencyTracker?.recordSimpleData("dash",a);let d=this.ctx;void 0!==d.setLineDash&&(d.setLineDash(b),d.lineDashOffset=c)}setRenderingIntent(a,b){}setFlatness(a,b){}setGState(a,b){for(let[c,d]of b)switch(c){case"LW":this.setLineWidth(a,d);break;case"LC":this.setLineCap(a,d);break;case"LJ":this.setLineJoin(a,d);break;case"ML":this.setMiterLimit(a,d);break;case"D":this.setDash(a,d[0],d[1]);break;case"RI":this.setRenderingIntent(a,d);break;case"FL":this.setFlatness(a,d);break;case"Font":this.setFont(a,d[0],d[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",a),this.current.strokeAlpha=d;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",a),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",a),this.ctx.globalCompositeOperation=d;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",a),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",a),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let a=this.inSMaskMode;this.current.activeSMask&&!a?this.beginSMaskMode():!this.current.activeSMask&&a&&this.endSMaskMode()}beginSMaskMode(a){if(this.inSMaskMode)throw Error("beginSMaskMode called while already in smask mode");let b=this.ctx.canvas.width,c=this.ctx.canvas.height,d="smaskGroupAt"+this.groupLevel,e=this.cachedCanvases.getCanvas(d,b,c);this.suspendedCtx=this.ctx;let f=this.ctx=e.context;f.setTransform(this.suspendedCtx.getTransform()),b5(this.suspendedCtx,f),function(a,b){if(a._removeMirroring)throw Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){b.save(),this.__originalSave()},a.restore=function(){b.restore(),this.__originalRestore()},a.translate=function(a,c){b.translate(a,c),this.__originalTranslate(a,c)},a.scale=function(a,c){b.scale(a,c),this.__originalScale(a,c)},a.transform=function(a,c,d,e,f,g){b.transform(a,c,d,e,f,g),this.__originalTransform(a,c,d,e,f,g)},a.setTransform=function(a,c,d,e,f,g){b.setTransform(a,c,d,e,f,g),this.__originalSetTransform(a,c,d,e,f,g)},a.resetTransform=function(){b.resetTransform(),this.__originalResetTransform()},a.rotate=function(a){b.rotate(a),this.__originalRotate(a)},a.clip=function(a){b.clip(a),this.__originalClip(a)},a.moveTo=function(a,c){b.moveTo(a,c),this.__originalMoveTo(a,c)},a.lineTo=function(a,c){b.lineTo(a,c),this.__originalLineTo(a,c)},a.bezierCurveTo=function(a,c,d,e,f,g){b.bezierCurveTo(a,c,d,e,f,g),this.__originalBezierCurveTo(a,c,d,e,f,g)},a.rect=function(a,c,d,e){b.rect(a,c,d,e),this.__originalRect(a,c,d,e)},a.closePath=function(){b.closePath(),this.__originalClosePath()},a.beginPath=function(){b.beginPath(),this.__originalBeginPath()}}(f,this.suspendedCtx),this.setGState(a,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b5(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(a){if(!this.current.activeSMask)return;a?(a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.ceil(a[2]),a[3]=Math.ceil(a[3])):a=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let b=this.current.activeSMask,c=this.suspendedCtx;this.composeSMask(c,b,this.ctx,a),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(a,b,c,d){let e=d[0],f=d[1],g=d[2]-e,h=d[3]-f;0!==g&&0!==h&&(this.genericComposeSMask(b.context,c,g,h,b.subtype,b.backdrop,b.transferMap,e,f,b.offsetX,b.offsetY),a.save(),a.globalAlpha=1,a.globalCompositeOperation="source-over",a.setTransform(1,0,0,1,0,0),a.drawImage(c.canvas,0,0),a.restore())}genericComposeSMask(a,b,c,d,e,f,g,h,i,j,k){let l=a.canvas,m=h-j,n=i-k;if(f)if(m<0||n<0||m+c>l.width||n+d>l.height){let a=this.cachedCanvases.getCanvas("maskExtension",c,d),b=a.context;b.drawImage(l,-m,-n),b.globalCompositeOperation="destination-atop",b.fillStyle=f,b.fillRect(0,0,c,d),b.globalCompositeOperation="source-over",l=a.canvas,m=n=0}else{a.save(),a.globalAlpha=1,a.setTransform(1,0,0,1,0,0);let b=new Path2D;b.rect(m,n,c,d),a.clip(b),a.globalCompositeOperation="destination-atop",a.fillStyle=f,a.fillRect(m,n,c,d),a.restore()}b.save(),b.globalAlpha=1,b.setTransform(1,0,0,1,0,0),"Alpha"===e&&g?b.filter=this.filterFactory.addAlphaFilter(g):"Luminosity"===e&&(b.filter=this.filterFactory.addLuminosityFilter(g));let o=new Path2D;o.rect(h,i,c,d),b.clip(o),b.globalCompositeOperation="destination-in",b.drawImage(l,m,n,c,d,h,i,c,d),b.restore()}save(a){this.inSMaskMode&&b5(this.ctx,this.suspendedCtx),this.ctx.save();let b=this.current;this.stateStack.push(b),this.current=b.clone(),this.dependencyTracker?.save(a)}restore(a){this.dependencyTracker?.restore(a),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&b5(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(a,b,c,d,e,f,g){this.dependencyTracker?.recordIncrementalData("transform",a),this.ctx.transform(b,c,d,e,f,g),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(a,b,c,d){let[e]=c;if(!d)return e||=c[0]=new Path2D,void this[b](a,e);if(null!==this.dependencyTracker){let c=b===M.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(a).recordBBox(a,this.ctx,d[0]-c,d[2]+c,d[1]-c,d[3]+c).recordDependencies(a,["transform"])}if(!(e instanceof Path2D)){let a=c[0]=new Path2D;for(let b=0,c=e.length;b<c;)switch(e[b++]){case 0:a.moveTo(e[b++],e[b++]);break;case 1:a.lineTo(e[b++],e[b++]);break;case 2:a.bezierCurveTo(e[b++],e[b++],e[b++],e[b++],e[b++],e[b++]);break;case 3:a.closePath();break;default:Q(`Unrecognized drawing path operator: ${e[b-1]}`)}e=a}af.axialAlignedBoundingBox(d,aF(this.ctx),this.current.minMax),this[b](a,e),this._pathStartIdx=a}closePath(a){this.ctx.closePath()}stroke(a,b,c=!0){let d=this.ctx,e=this.current.strokeColor;if(d.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof e&&e?.getPattern){let c=e.isModifyingCurrentTransform()?d.getTransform():null;if(d.save(),d.strokeStyle=e.getPattern(d,this,aG(d),bQ,a),c){let a=new Path2D;a.addPath(b,d.getTransform().invertSelf().multiplySelf(c)),b=a}this.rescaleAndStroke(b,!1),d.restore()}else this.rescaleAndStroke(b,!0);this.dependencyTracker?.recordDependencies(a,bI),c&&this.consumePath(a,b,this.current.getClippedPathBoundingBox(bQ,aF(this.ctx))),d.globalAlpha=this.current.fillAlpha}closeStroke(a,b){this.stroke(a,b)}fill(a,b,c=!0){let d=this.ctx,e=this.current.fillColor,f=!1;if(this.current.patternFill){let c=e.isModifyingCurrentTransform()?d.getTransform():null;if(this.dependencyTracker?.save(a),d.save(),d.fillStyle=e.getPattern(d,this,aG(d),bP,a),c){let a=new Path2D;a.addPath(b,d.getTransform().invertSelf().multiplySelf(c)),b=a}f=!0}let g=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==g&&(this.pendingEOFill?(d.fill(b,"evenodd"),this.pendingEOFill=!1):d.fill(b)),this.dependencyTracker?.recordDependencies(a,bJ),f&&(d.restore(),this.dependencyTracker?.restore(a)),c&&this.consumePath(a,b,g)}eoFill(a,b){this.pendingEOFill=!0,this.fill(a,b)}fillStroke(a,b){this.fill(a,b,!1),this.stroke(a,b,!1),this.consumePath(a,b)}eoFillStroke(a,b){this.pendingEOFill=!0,this.fillStroke(a,b)}closeFillStroke(a,b){this.fillStroke(a,b)}closeEOFillStroke(a,b){this.pendingEOFill=!0,this.fillStroke(a,b)}endPath(a,b){this.consumePath(a,b)}rawFillPath(a,b){this.ctx.fill(b),this.dependencyTracker?.recordDependencies(a,bL).recordOperation(a)}clip(a){this.dependencyTracker?.recordFutureForcedDependency("clipMode",a),this.pendingClip=ca}eoClip(a){this.dependencyTracker?.recordFutureForcedDependency("clipMode",a),this.pendingClip=cb}beginText(a){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(a).resetIncrementalData("sameLineText").resetIncrementalData("moveText",a)}endText(a){let b=this.pendingTextPaths,c=this.ctx;if(this.dependencyTracker){let{dependencyTracker:c}=this;void 0!==b&&c.recordFutureForcedDependency("textClip",c.getOpenMarker()).recordFutureForcedDependency("textClip",a),c.recordCloseMarker(a)}if(void 0!==b){let a=new Path2D,d=c.getTransform().invertSelf();for(let{transform:c,x:e,y:f,fontSize:g,path:h}of b)h&&a.addPath(h,new DOMMatrix(c).preMultiplySelf(d).translate(e,f).scale(g,-g));c.clip(a)}delete this.pendingTextPaths}setCharSpacing(a,b){this.dependencyTracker?.recordSimpleData("charSpacing",a),this.current.charSpacing=b}setWordSpacing(a,b){this.dependencyTracker?.recordSimpleData("wordSpacing",a),this.current.wordSpacing=b}setHScale(a,b){this.dependencyTracker?.recordSimpleData("hScale",a),this.current.textHScale=b/100}setLeading(a,b){this.dependencyTracker?.recordSimpleData("leading",a),this.current.leading=-b}setFont(a,b,c){this.dependencyTracker?.recordSimpleData("font",a).recordSimpleDataFromNamed("fontObj",b,a);let d=this.commonObjs.get(b),e=this.current;if(!d)throw Error(`Can't find font for ${b}`);if(e.fontMatrix=d.fontMatrix||D,0!==e.fontMatrix[0]&&0!==e.fontMatrix[3]||Q("Invalid font matrix for font "+b),c<0?(c=-c,e.fontDirection=-1):e.fontDirection=1,this.current.font=d,this.current.fontSize=c,d.isType3Font)return;let f=d.loadedName||"sans-serif",g=d.systemFontInfo?.css||`"${f}", ${d.fallbackName}`,h="normal";d.black?h="900":d.bold&&(h="bold");let i=d.italic?"italic":"normal",j=c;c<16?j=16:c>100&&(j=100),this.current.fontSizeScale=c/j,this.ctx.font=`${i} ${h} ${j}px ${g}`}setTextRenderingMode(a,b){this.dependencyTracker?.recordSimpleData("textRenderingMode",a),this.current.textRenderingMode=b}setTextRise(a,b){this.dependencyTracker?.recordSimpleData("textRise",a),this.current.textRise=b}moveText(a,b,c){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",a),this.current.x=this.current.lineX+=b,this.current.y=this.current.lineY+=c}setLeadingMoveText(a,b,c){this.setLeading(a,-c),this.moveText(a,b,c)}setTextMatrix(a,b){this.dependencyTracker?.recordSimpleData("textMatrix",a);let{current:c}=this;c.textMatrix=b,c.textMatrixScale=Math.hypot(b[0],b[1]),c.x=c.lineX=0,c.y=c.lineY=0}nextLine(a){this.moveText(a,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??a)}#c1(a,b,c){let d=new Path2D;return d.addPath(a,new DOMMatrix(c).invertSelf().multiplySelf(b)),d}paintChar(a,b,c,d,e,f){let g,h=this.ctx,i=this.current,j=i.font,k=i.textRenderingMode,l=i.fontSize/i.fontSizeScale,m=3&k,n=!!(4&k),o=i.patternFill&&!j.missingFile,p=i.patternStroke&&!j.missingFile;if((j.disableFontFace||n||o||p)&&!j.missingFile&&(g=j.getPathGenerator(this.commonObjs,b)),g&&(j.disableFontFace||o||p)){let b;if(h.save(),h.translate(c,d),h.scale(l,-l),this.dependencyTracker?.recordCharacterBBox(a,h,j),0===m||2===m)if(e){b=h.getTransform(),h.setTransform(...e);let a=this.#c1(g,b,e);h.fill(a)}else h.fill(g);if(1===m||2===m)if(f){b||=h.getTransform(),h.setTransform(...f);let{a:a,b:c,c:d,d:e}=b,i=af.inverseTransform(f),j=af.transform([a,c,d,e,0,0],i);af.singularValueDecompose2dScale(j,b$),h.lineWidth*=Math.max(b$[0],b$[1])/l,h.stroke(this.#c1(g,b,f))}else h.lineWidth/=l,h.stroke(g);h.restore()}else 0!==m&&2!==m||(h.fillText(b,c,d),this.dependencyTracker?.recordCharacterBBox(a,h,j,l,c,d,()=>h.measureText(b))),1!==m&&2!==m||(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(a,h,j,l,c,d,()=>h.measureText(b)).recordDependencies(a,bI),h.strokeText(b,c,d));n&&((this.pendingTextPaths||=[]).push({transform:aF(h),x:c,y:d,fontSize:l,path:g}),this.dependencyTracker?.recordCharacterBBox(a,h,j,l,c,d))}get isFontSubpixelAAEnabled(){let{context:a}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);a.scale(1.5,1),a.fillText("I",0,10);let b=a.getImageData(0,0,10,10).data,c=!1;for(let a=3;a<b.length;a+=4)if(b[a]>0&&b[a]<255){c=!0;break}return V(this,"isFontSubpixelAAEnabled",c)}showText(a,b){let c,d;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(a,bM).resetBBox(a),4&this.current.textRenderingMode&&this.dependencyTracker.recordFutureForcedDependency("textClip",a).inheritPendingDependenciesAsFutureForcedDependencies());let e=this.current,f=e.font;if(f.isType3Font)return this.showType3Text(a,b),void this.dependencyTracker?.recordShowTextOperation(a);let g=e.fontSize;if(0===g)return void this.dependencyTracker?.recordOperation(a);let h=this.ctx,i=e.fontSizeScale,j=e.charSpacing,k=e.wordSpacing,l=e.fontDirection,m=e.textHScale*l,n=b.length,o=f.vertical,p=o?1:-1,q=f.defaultVMetrics,r=g*e.fontMatrix[0],s=0===e.textRenderingMode&&!f.disableFontFace&&!e.patternFill;if(h.save(),e.textMatrix&&h.transform(...e.textMatrix),h.translate(e.x,e.y+e.textRise),l>0?h.scale(m,-1):h.scale(m,1),e.patternFill){h.save();let b=e.fillColor.getPattern(h,this,aG(h),bP,a);c=aF(h),h.restore(),h.fillStyle=b}if(e.patternStroke){h.save();let b=e.strokeColor.getPattern(h,this,aG(h),bQ,a);d=aF(h),h.restore(),h.strokeStyle=b}let u=e.lineWidth,v=e.textMatrixScale;if(0===v||0===u){let a=3&e.textRenderingMode;1!==a&&2!==a||(u=this.getSinglePixelWidth())}else u/=v;if(1!==i&&(h.scale(i,i),u/=i),h.lineWidth=u,f.isInvalidPDFjsFont){let c=[],d=0;for(let a of b)c.push(a.unicode),d+=a.width;let f=c.join("");if(h.fillText(f,0,0),null!==this.dependencyTracker){let b=h.measureText(f);this.dependencyTracker.recordBBox(a,this.ctx,-b.actualBoundingBoxLeft,b.actualBoundingBoxRight,-b.actualBoundingBoxAscent,b.actualBoundingBoxDescent).recordShowTextOperation(a)}return e.x+=d*r*m,h.restore(),void this.compose()}let w,x=0;for(w=0;w<n;++w){let e=b[w];if("number"==typeof e){x+=p*e*g/1e3;continue}let m=!1,n=(e.isSpace?k:0)+j,u=e.fontChar,v=e.accent,y,z,A,B=e.width;if(o){let a=e.vmetric||q,b=-(e.vmetric?a[1]:.5*B)*r,c=a[2]*r;B=a?-a[0]:B,y=b/i,z=(x+c)/i}else y=x/i,z=0;if(f.remeasure&&B>0){let a=1e3*(A=h.measureText(u)).width/g*i;if(B<a&&this.isFontSubpixelAAEnabled){let b=B/a;m=!0,h.save(),h.scale(b,1),y/=b}else B!==a&&(y+=(B-a)/2e3*g/i)}if(this.contentVisible&&(e.isInFont||f.missingFile)){if(s&&!v)h.fillText(u,y,z),this.dependencyTracker?.recordCharacterBBox(a,h,A?{bbox:null}:f,g/i,y,z,()=>A??h.measureText(u));else if(this.paintChar(a,u,y,z,c,d),v){let b=y+g*v.offset.x/i,e=z-g*v.offset.y/i;this.paintChar(a,v.fontChar,b,e,c,d)}}x+=o?B*r-n*l:B*r+n*l,m&&h.restore()}o?e.y-=x:e.x+=x*m,h.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(a)}showType3Text(a,b){let c,d,e,f,g=this.ctx,h=this.current,i=h.font,j=h.fontSize,k=h.fontDirection,l=i.vertical?1:-1,m=h.charSpacing,n=h.wordSpacing,o=h.textHScale*k,p=h.fontMatrix||D,q=b.length;if(3===h.textRenderingMode||0===j)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,g.save(),h.textMatrix&&g.transform(...h.textMatrix),g.translate(h.x,h.y+h.textRise),g.scale(o,k);let r=this.dependencyTracker;for(this.dependencyTracker=r?new bH(r,a):null,c=0;c<q;++c){if("number"==typeof(d=b[c])){f=l*d*j/1e3,this.ctx.translate(f,0),h.x+=f*o;continue}let a=(d.isSpace?n:0)+m,k=i.charProcOperatorList[d.operatorListId];k?this.contentVisible&&(this.save(),g.scale(j,j),g.transform(...p),this.executeOperatorList(k),this.restore()):Q(`Type3 character "${d.operatorListId}" is not available.`);let q=[d.width,0];af.applyTransform(q,p),e=q[0]*j+a,g.translate(e,0),h.x+=e*o}g.restore(),r&&(this.dependencyTracker=r)}setCharWidth(a,b,c){}setCharWidthAndBounds(a,b,c,d,e,f,g){let h=new Path2D;h.rect(d,e,f-d,g-e),this.ctx.clip(h),this.dependencyTracker?.recordBBox(a,this.ctx,d,f,e,g).recordClipBox(a,this.ctx,d,f,e,g),this.endPath(a)}getColorN_Pattern(a,b){let c;if("TilingPattern"===b[0]){let a=this.baseTransform||aF(this.ctx);c=new bY(b,this.ctx,{createCanvasGraphics:(a,b)=>new cc(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new bH(this.dependencyTracker,b,!0):null)},a)}else c=this._getPattern(a,b[1],b[2]);return c}setStrokeColorN(a,...b){this.dependencyTracker?.recordSimpleData("strokeColor",a),this.current.strokeColor=this.getColorN_Pattern(a,b),this.current.patternStroke=!0}setFillColorN(a,...b){this.dependencyTracker?.recordSimpleData("fillColor",a),this.current.fillColor=this.getColorN_Pattern(a,b),this.current.patternFill=!0}setStrokeRGBColor(a,b){this.dependencyTracker?.recordSimpleData("strokeColor",a),this.ctx.strokeStyle=this.current.strokeColor=b,this.current.patternStroke=!1}setStrokeTransparent(a){this.dependencyTracker?.recordSimpleData("strokeColor",a),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(a,b){this.dependencyTracker?.recordSimpleData("fillColor",a),this.ctx.fillStyle=this.current.fillColor=b,this.current.patternFill=!1}setFillTransparent(a){this.dependencyTracker?.recordSimpleData("fillColor",a),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(a,b,c=null){let d;return this.cachedPatterns.has(b)?d=this.cachedPatterns.get(b):(d=function(a){switch(a[0]){case"RadialAxial":return new bU(a);case"Mesh":return new bW(a);case"Dummy":return new bX}throw Error(`Unknown IR type: ${a[0]}`)}(this.getObject(a,b)),this.cachedPatterns.set(b,d)),c&&(d.matrix=c),d}shadingFill(a,b){if(!this.contentVisible)return;let c=this.ctx;this.save(a),c.fillStyle=this._getPattern(a,b).getPattern(c,this,aG(c),bR,a);let d=aG(c);if(d){let{width:a,height:b}=c.canvas,e=b_.slice();af.axialAlignedBoundingBox([0,0,a,b],d,e);let[f,g,h,i]=e;this.ctx.fillRect(f,g,h-f,i-g)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(a).recordFullPageBBox(a).recordDependencies(a,bN).recordDependencies(a,bJ).recordOperation(a),this.compose(this.current.getClippedPathBoundingBox()),this.restore(a)}beginInlineImage(){R("Should not call beginInlineImage")}beginImageData(){R("Should not call beginImageData")}paintFormXObjectBegin(a,b,c){if(this.contentVisible&&(this.save(a),this.baseTransformStack.push(this.baseTransform),b&&this.transform(a,...b),this.baseTransform=aF(this.ctx),c)){af.axialAlignedBoundingBox(c,this.baseTransform,this.current.minMax);let[b,d,e,f]=c,g=new Path2D;g.rect(b,d,e-b,f-d),this.ctx.clip(g),this.dependencyTracker?.recordClipBox(a,this.ctx,b,e,d,f),this.endPath(a)}}paintFormXObjectEnd(a){this.contentVisible&&(this.restore(a),this.baseTransform=this.baseTransformStack.pop())}beginGroup(a,b){if(!this.contentVisible)return;this.save(a),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let c=this.ctx;b.isolated||P("TODO: Support non-isolated groups."),b.knockout&&Q("Knockout groups not supported.");let d=aF(c);if(b.matrix&&c.transform(...b.matrix),!b.bbox)throw Error("Bounding box is required.");let e=b_.slice();af.axialAlignedBoundingBox(b.bbox,aF(c),e);let f=[0,0,c.canvas.width,c.canvas.height],g=Math.floor((e=af.intersect(e,f)||[0,0,0,0])[0]),h=Math.floor(e[1]),i=Math.max(Math.ceil(e[2])-g,1),j=Math.max(Math.ceil(e[3])-h,1);this.current.startNewPathAndClipBox([0,0,i,j]);let k="groupAt"+this.groupLevel;b.smask&&(k+="_smask_"+this.smaskCounter++%2);let l=this.cachedCanvases.getCanvas(k,i,j),m=l.context;m.translate(-g,-h),m.transform(...d);let n=new Path2D,[o,p,q,r]=b.bbox;if(n.rect(o,p,q-o,r-p),b.matrix){let a=new Path2D;a.addPath(n,new DOMMatrix(b.matrix)),n=a}m.clip(n),b.smask&&this.smaskStack.push({canvas:l.canvas,context:m,offsetX:g,offsetY:h,subtype:b.smask.subtype,backdrop:b.smask.backdrop,transferMap:b.smask.transferMap||null,startTransformInverse:null}),b.smask&&!this.dependencyTracker||(c.setTransform(1,0,0,1,0,0),c.translate(g,h),c.save()),b5(c,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(c),this.setGState(a,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(a,b){if(!this.contentVisible)return;this.groupLevel--;let c=this.ctx,d=this.groupStack.pop();if(this.ctx=d,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),b.smask)this.tempSMask=this.smaskStack.pop(),this.restore(a),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();let b=aF(this.ctx);this.restore(a),this.ctx.save(),this.ctx.setTransform(...b);let d=b_.slice();af.axialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],b,d),this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(d)}}beginAnnotation(a,b,c,d,e,f){if(this.#c_(),b6(this.ctx),this.ctx.save(),this.save(a),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),c){let e=c[2]-c[0],g=c[3]-c[1];if(f&&this.annotationCanvasMap){(d=d.slice())[4]-=c[0],d[5]-=c[1],(c=c.slice())[0]=c[1]=0,c[2]=e,c[3]=g,af.singularValueDecompose2dScale(aF(this.ctx),b$);let{viewportScale:a}=this,f=Math.ceil(e*this.outputScaleX*a),h=Math.ceil(g*this.outputScaleY*a);this.annotationCanvas=this.canvasFactory.create(f,h);let{canvas:i,context:j}=this.annotationCanvas;this.annotationCanvasMap.set(b,i),this.annotationCanvas.savedCtx=this.ctx,this.ctx=j,this.ctx.save(),this.ctx.setTransform(b$[0],0,0,-b$[1],0,g*b$[1]),b6(this.ctx)}else{b6(this.ctx),this.endPath(a);let b=new Path2D;b.rect(c[0],c[1],e,g),this.ctx.clip(b)}}this.current=new b2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(a,...d),this.transform(a,...e)}endAnnotation(a){this.annotationCanvas&&(this.ctx.restore(),this.#c0(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(a,b){if(!this.contentVisible)return;let c=b.count;(b=this.getObject(a,b.data,b)).count=c;let d=this.ctx,e=this._createMaskCanvas(a,b),f=e.canvas;d.save(),d.setTransform(1,0,0,1,0,0),d.drawImage(f,e.offsetX,e.offsetY),this.dependencyTracker?.resetBBox(a).recordBBox(a,this.ctx,e.offsetX,e.offsetX+f.width,e.offsetY,e.offsetY+f.height).recordOperation(a),d.restore(),this.compose()}paintImageMaskXObjectRepeat(a,b,c,d=0,e=0,f,g){if(!this.contentVisible)return;b=this.getObject(a,b.data,b);let h=this.ctx;h.save();let i=aF(h);h.transform(c,d,e,f,0,0);let j=this._createMaskCanvas(a,b);h.setTransform(1,0,0,1,j.offsetX-i[4],j.offsetY-i[5]),this.dependencyTracker?.resetBBox(a);for(let b=0,k=g.length;b<k;b+=2){let k=af.transform(i,[c,d,e,f,g[b],g[b+1]]);h.drawImage(j.canvas,k[4],k[5]),this.dependencyTracker?.recordBBox(a,this.ctx,k[4],k[4]+j.canvas.width,k[5],k[5]+j.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(a)}paintImageMaskXObjectGroup(a,b){if(!this.contentVisible)return;let c=this.ctx,d=this.current.fillColor,e=this.current.patternFill;for(let f of(this.dependencyTracker?.resetBBox(a).recordDependencies(a,bO),b)){let{data:b,width:g,height:h,transform:i}=f,j=this.cachedCanvases.getCanvas("maskCanvas",g,h),k=j.context;k.save(),b4(k,this.getObject(a,b,f)),k.globalCompositeOperation="source-in",k.fillStyle=e?d.getPattern(k,this,aG(c),bP,a):d,k.fillRect(0,0,g,h),k.restore(),c.save(),c.transform(...i),c.scale(1,-1),b1(c,j.canvas,0,0,g,h,0,-1,1,1),this.dependencyTracker?.recordBBox(a,c,0,g,0,h),c.restore()}this.compose(),this.dependencyTracker?.recordOperation(a)}paintImageXObject(a,b){if(!this.contentVisible)return;let c=this.getObject(a,b);c?this.paintInlineImageXObject(a,c):Q("Dependent image isn't ready yet")}paintImageXObjectRepeat(a,b,c,d,e){if(!this.contentVisible)return;let f=this.getObject(a,b);if(!f)return void Q("Dependent image isn't ready yet");let g=f.width,h=f.height,i=[];for(let a=0,b=e.length;a<b;a+=2)i.push({transform:[c,0,0,d,e[a],e[a+1]],x:0,y:0,w:g,h:h});this.paintInlineImageXObjectGroup(a,f,i)}applyTransferMapsToCanvas(a){return"none"!==this.current.transferMaps&&(a.filter=this.current.transferMaps,a.drawImage(a.canvas,0,0),a.filter="none"),a.canvas}applyTransferMapsToBitmap(a){if("none"===this.current.transferMaps)return a.bitmap;let{bitmap:b,width:c,height:d}=a,e=this.cachedCanvases.getCanvas("inlineImage",c,d),f=e.context;return f.filter=this.current.transferMaps,f.drawImage(b,0,0),f.filter="none",e.canvas}paintInlineImageXObject(a,b){let c;if(!this.contentVisible)return;let d=b.width,e=b.height,f=this.ctx;this.save(a);let{filter:g}=f;if("none"!==g&&""!==g&&(f.filter="none"),f.scale(1/d,-1/e),b.bitmap)c=this.applyTransferMapsToBitmap(b);else if("function"==typeof HTMLElement&&b instanceof HTMLElement||!b.data)c=b;else{let a=this.cachedCanvases.getCanvas("inlineImage",d,e).context;b3(a,b),c=this.applyTransferMapsToCanvas(a)}let h=this._scaleImage(c,aG(f));f.imageSmoothingEnabled=b7(aF(f),b.interpolate),this.dependencyTracker?.resetBBox(a).recordBBox(a,f,0,d,-e,0).recordDependencies(a,bK).recordOperation(a),b1(f,h.img,0,0,h.paintWidth,h.paintHeight,0,-e,d,e),this.compose(),this.restore(a)}paintInlineImageXObjectGroup(a,b,c){let d;if(!this.contentVisible)return;let e=this.ctx;if(b.bitmap)d=b.bitmap;else{let a=b.width,c=b.height,e=this.cachedCanvases.getCanvas("inlineImage",a,c).context;b3(e,b),d=this.applyTransferMapsToCanvas(e)}for(let b of(this.dependencyTracker?.resetBBox(a),c))e.save(),e.transform(...b.transform),e.scale(1,-1),b1(e,d,b.x,b.y,b.w,b.h,0,-1,1,1),this.dependencyTracker?.recordBBox(a,e,0,1,-1,0),e.restore();this.dependencyTracker?.recordOperation(a),this.compose()}paintSolidColorImageMask(a){this.contentVisible&&(this.dependencyTracker?.resetBBox(a).recordBBox(a,this.ctx,0,1,0,1).recordDependencies(a,bJ).recordOperation(a),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(a,b){}markPointProps(a,b,c){}beginMarkedContent(a,b){this.dependencyTracker?.beginMarkedContent(a),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(a,b,c){this.dependencyTracker?.beginMarkedContent(a),"OC"===b?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(c)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(a){this.dependencyTracker?.endMarkedContent(a),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(a){}endCompat(a){}consumePath(a,b,c){let d=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);let e=this.ctx;this.pendingClip?(d||(this.pendingClip===cb?e.clip(b,"evenodd"):e.clip(b)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(a).recordFutureForcedDependency("clipPath",a)):this.dependencyTracker?.recordOperation(a),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let a=aF(this.ctx);if(0===a[1]&&0===a[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(a[0]),Math.abs(a[3]));else{let b=Math.abs(a[0]*a[3]-a[2]*a[1]),c=Math.hypot(a[0],a[2]),d=Math.hypot(a[1],a[3]);this._cachedGetSinglePixelWidth=Math.max(c,d)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){let a,b,{lineWidth:c}=this.current,{a:d,b:e,c:f,d:g}=this.ctx.getTransform();if(0===e&&0===f){let e=Math.abs(d),f=Math.abs(g);if(e===f)if(0===c)a=b=1/e;else{let d=e*c;a=b=d<1?1/d:1}else if(0===c)a=1/e,b=1/f;else{let d=e*c,g=f*c;a=d<1?1/d:1,b=g<1?1/g:1}}else{let h=Math.abs(d*g-e*f),i=Math.hypot(d,e),j=Math.hypot(f,g);if(0===c)a=j/h,b=i/h;else{let d=c*h;a=j>d?j/d:1,b=i>d?i/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=b}return this._cachedScaleForStroking}rescaleAndStroke(a,b){let{ctx:c,current:{lineWidth:d}}=this,[e,f]=this.getScaleForStroking();if(e===f)return c.lineWidth=(d||1)*e,void c.stroke(a);let g=c.getLineDash();b&&c.save(),c.scale(e,f),bZ.a=1/e,bZ.d=1/f;let h=new Path2D;if(h.addPath(a,bZ),g.length>0){let a=Math.max(e,f);c.setLineDash(g.map(b=>b/a)),c.lineDashOffset/=a}c.lineWidth=d||1,c.stroke(h),b&&c.restore()}isContentVisible(){for(let a=this.markedContentStack.length-1;a>=0;a--)if(!this.markedContentStack[a].visible)return!1;return!0}}for(let a in M)void 0!==cc.prototype[a]&&(cc.prototype[M[a]]=cc.prototype[a]);class cd{#c2;#c3;#c4;static strings=["fontFamily","fontWeight","italicAngle"];static write(a){let b=new TextEncoder,c={},d=0;for(let e of cd.strings){let f=b.encode(a[e]);c[e]=f,d+=4+f.length}let e=new ArrayBuffer(d),f=new Uint8Array(e),g=new DataView(e),h=0;for(let a of cd.strings){let b=c[a],d=b.length;g.setUint32(h,d),f.set(b,h+4),h+=4+d}return S(h===e.byteLength,"CssFontInfo.write: Buffer overflow"),e}constructor(a){this.#c2=a,this.#c3=new DataView(this.#c2),this.#c4=new TextDecoder}#c5(a){S(a<cd.strings.length,"Invalid string index");let b=0;for(let c=0;c<a;c++)b+=this.#c3.getUint32(b)+4;let c=this.#c3.getUint32(b);return this.#c4.decode(new Uint8Array(this.#c2,b+4,c))}get fontFamily(){return this.#c5(0)}get fontWeight(){return this.#c5(1)}get italicAngle(){return this.#c5(2)}}class ce{#c2;#c3;#c4;static strings=["css","loadedName","baseFontName","src"];static write(a){let b=new TextEncoder,c={},d=0;for(let e of ce.strings){let f=b.encode(a[e]);c[e]=f,d+=4+f.length}let e,f,g=1+(d+=4);a.style&&(e=b.encode(a.style.style),f=b.encode(a.style.weight),g+=4+e.length+4+f.length);let h=new ArrayBuffer(g),i=new Uint8Array(h),j=new DataView(h),k=0;for(let b of(j.setUint8(k++,+!!a.guessFallback),j.setUint32(k,0),k+=4,d=0,ce.strings)){let a=c[b],e=a.length;d+=4+e,j.setUint32(k,e),i.set(a,k+4),k+=4+e}return j.setUint32(k-d-4,d),a.style&&(j.setUint32(k,e.length),i.set(e,k+4),k+=4+e.length,j.setUint32(k,f.length),i.set(f,k+4),k+=4+f.length),S(k<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(k)}constructor(a){this.#c2=a,this.#c3=new DataView(this.#c2),this.#c4=new TextDecoder}get guessFallback(){return 0!==this.#c3.getUint8(0)}#c5(a){S(a<ce.strings.length,"Invalid string index");let b=5;for(let c=0;c<a;c++)b+=this.#c3.getUint32(b)+4;let c=this.#c3.getUint32(b);return this.#c4.decode(new Uint8Array(this.#c2,b+4,c))}get css(){return this.#c5(0)}get loadedName(){return this.#c5(1)}get baseFontName(){return this.#c5(2)}get src(){return this.#c5(3)}get style(){let a=1;a+=4+this.#c3.getUint32(a);let b=this.#c3.getUint32(a),c=this.#c4.decode(new Uint8Array(this.#c2,a+4,b));a+=4+b;let d=this.#c3.getUint32(a);return{style:c,weight:this.#c4.decode(new Uint8Array(this.#c2,a+4,d))}}}class cf{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static #c6=Math.ceil(2*this.bools.length/8);static #c7=this.#c6+8*this.numbers.length;static #c8=this.#c7+1+8;static #c9=this.#c8+1+48;static #da=this.#c9+1+6;#c2;#c4;#c3;constructor({data:a,extra:b}){this.#c2=a,this.#c4=new TextDecoder,this.#c3=new DataView(this.#c2),b&&Object.assign(this,b)}#db(a){S(a<cf.bools.length,"Invalid boolean index");let b=Math.floor(a/4),c=this.#c3.getUint8(b)>>2*a%8&3;return 0===c?void 0:2===c}get black(){return this.#db(0)}get bold(){return this.#db(1)}get disableFontFace(){return this.#db(2)}get fontExtraProperties(){return this.#db(3)}get isInvalidPDFjsFont(){return this.#db(4)}get isType3Font(){return this.#db(5)}get italic(){return this.#db(6)}get missingFile(){return this.#db(7)}get remeasure(){return this.#db(8)}get vertical(){return this.#db(9)}#dc(a){return S(a<cf.numbers.length,"Invalid number index"),this.#c3.getFloat64(cf.#c6+8*a)}get ascent(){return this.#dc(0)}get defaultWidth(){return this.#dc(1)}get descent(){return this.#dc(2)}get bbox(){let a=cf.#c7;if(0===this.#c3.getUint8(a))return;a+=1;let b=[];for(let c=0;c<4;c++)b.push(this.#c3.getInt16(a,!0)),a+=2;return b}get fontMatrix(){let a=cf.#c8;if(0===this.#c3.getUint8(a))return;a+=1;let b=[];for(let c=0;c<6;c++)b.push(this.#c3.getFloat64(a,!0)),a+=8;return b}get defaultVMetrics(){let a=cf.#c9;if(0===this.#c3.getUint8(a))return;a+=1;let b=[];for(let c=0;c<3;c++)b.push(this.#c3.getInt16(a,!0)),a+=2;return b}#c5(a){S(a<cf.strings.length,"Invalid string index");let b=cf.#da+4;for(let c=0;c<a;c++)b+=this.#c3.getUint32(b)+4;let c=this.#c3.getUint32(b),d=new Uint8Array(c);return d.set(new Uint8Array(this.#c2,b+4,c)),this.#c4.decode(d)}get fallbackName(){return this.#c5(0)}get loadedName(){return this.#c5(1)}get mimetype(){return this.#c5(2)}get name(){return this.#c5(3)}get data(){let a=cf.#da;a+=4+this.#c3.getUint32(a),a+=4+this.#c3.getUint32(a),a+=4+this.#c3.getUint32(a);let b=this.#c3.getUint32(a);if(0!==b)return new Uint8Array(this.#c2,a+4,b)}clearData(){let a=cf.#da;a+=4+this.#c3.getUint32(a),a+=4+this.#c3.getUint32(a),a+=4+this.#c3.getUint32(a);let b=this.#c3.getUint32(a);new Uint8Array(this.#c2,a+4,b).fill(0),this.#c3.setUint32(a,0)}get cssFontInfo(){let a=cf.#da;a+=4+this.#c3.getUint32(a),a+=4+this.#c3.getUint32(a);let b=this.#c3.getUint32(a);if(0===b)return null;let c=new Uint8Array(b);return c.set(new Uint8Array(this.#c2,a+4,b)),new cd(c.buffer)}get systemFontInfo(){let a=cf.#da;a+=4+this.#c3.getUint32(a);let b=this.#c3.getUint32(a);if(0===b)return null;let c=new Uint8Array(b);return c.set(new Uint8Array(this.#c2,a+4,b)),new ce(c.buffer)}static write(a){let b=a.systemFontInfo?ce.write(a.systemFontInfo):null,c=a.cssFontInfo?cd.write(a.cssFontInfo):null,d=new TextEncoder,e={},f=0;for(let b of cf.strings)e[b]=d.encode(a[b]),f+=4+e[b].length;let g=new ArrayBuffer(cf.#da+4+f+4+(b?b.byteLength:0)+4+(c?c.byteLength:0)+4+(a.data?a.data.length:0)),h=new Uint8Array(g),i=new DataView(g),j=0,k=cf.bools.length,l=0,m=0;for(let b=0;b<k;b++){let c=a[cf.bools[b]];l|=(void 0===c?0:c?2:1)<<m,8!==(m+=2)&&b!==k-1||(i.setUint8(j++,l),l=0,m=0)}for(let b of(S(j===cf.#c6,"FontInfo.write: Boolean properties offset mismatch"),cf.numbers))i.setFloat64(j,a[b]),j+=8;if(S(j===cf.#c7,"FontInfo.write: Number properties offset mismatch"),a.bbox)for(let b of(i.setUint8(j++,4),a.bbox))i.setInt16(j,b,!0),j+=2;else i.setUint8(j++,0),j+=8;if(S(j===cf.#c8,"FontInfo.write: BBox properties offset mismatch"),a.fontMatrix)for(let b of(i.setUint8(j++,6),a.fontMatrix))i.setFloat64(j,b,!0),j+=8;else i.setUint8(j++,0),j+=48;if(S(j===cf.#c9,"FontInfo.write: FontMatrix properties offset mismatch"),a.defaultVMetrics)for(let b of(i.setUint8(j++,1),a.defaultVMetrics))i.setInt16(j,b,!0),j+=2;else i.setUint8(j++,0),j+=6;for(let a of(S(j===cf.#da,"FontInfo.write: DefaultVMetrics properties offset mismatch"),i.setUint32(cf.#da,0),j+=4,cf.strings)){let b=e[a],c=b.length;i.setUint32(j,c),h.set(b,j+4),j+=4+c}if(i.setUint32(cf.#da,j-cf.#da-4),b){let a=b.byteLength;i.setUint32(j,a),S(j+4+a<=g.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(b),j+4),j+=4+a}else i.setUint32(j,0),j+=4;if(c){let a=c.byteLength;i.setUint32(j,a),S(j+4+a<=g.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(c),j+4),j+=4+a}else i.setUint32(j,0),j+=4;return void 0===a.data?(i.setUint32(j,0),j+=4):(i.setUint32(j,a.data.length),h.set(a.data,j+4),j+=4+a.data.length),S(j<=g.byteLength,"FontInfo.write: Buffer overflow"),g.transferToFixedLength(j)}}class cg{static #dd=null;static #de="";static get workerPort(){return this.#dd}static set workerPort(a){if(!("undefined"!=typeof Worker&&a instanceof Worker)&&null!==a)throw Error("Invalid `workerPort` type.");this.#dd=a}static get workerSrc(){return this.#de}static set workerSrc(a){if("string"!=typeof a)throw Error("Invalid `workerSrc` type.");this.#de=a}}class ch{#df;#dg;constructor({parsedData:a,rawData:b}){this.#df=a,this.#dg=b}getRaw(){return this.#dg}get(a){return this.#df.get(a)??null}[Symbol.iterator](){return this.#df.entries()}}let ci=Symbol("INTERNAL");class cj{#dh=!1;#di=!1;#dj=!1;#dk=!0;constructor(a,{name:b,intent:c,usage:d,rbGroups:e}){this.#dh=!!(2&a),this.#di=!!(4&a),this.name=b,this.intent=c,this.usage=d,this.rbGroups=e}get visible(){if(this.#dj)return this.#dk;if(!this.#dk)return!1;let{print:a,view:b}=this.usage;return this.#dh?"OFF"!==b?.viewState:!this.#di||"OFF"!==a?.printState}_setVisible(a,b,c=!1){a!==ci&&R("Internal method `_setVisible` called."),this.#dj=c,this.#dk=b}}class ck{#dl=null;#dm=new Map;#dn=null;#dp=null;constructor(a,b=2){if(this.renderingIntent=b,this.name=null,this.creator=null,null!==a){for(let c of(this.name=a.name,this.creator=a.creator,this.#dp=a.order,a.groups))this.#dm.set(c.id,new cj(b,c));if("OFF"===a.baseState)for(let a of this.#dm.values())a._setVisible(ci,!1);for(let b of a.on)this.#dm.get(b)._setVisible(ci,!0);for(let b of a.off)this.#dm.get(b)._setVisible(ci,!1);this.#dn=this.getHash()}}#dq(a){let b=a.length;if(b<2)return!0;let c=a[0];for(let d=1;d<b;d++){let b,e=a[d];if(Array.isArray(e))b=this.#dq(e);else{if(!this.#dm.has(e))return Q(`Optional content group not found: ${e}`),!0;b=this.#dm.get(e).visible}switch(c){case"And":if(!b)return!1;break;case"Or":if(b)return!0;break;case"Not":return!b;default:return!0}}return"And"===c}isVisible(a){if(0===this.#dm.size)return!0;if(!a)return P("Optional content group not defined."),!0;if("OCG"===a.type)return this.#dm.has(a.id)?this.#dm.get(a.id).visible:(Q(`Optional content group not found: ${a.id}`),!0);if("OCMD"===a.type){if(a.expression)return this.#dq(a.expression);if(!a.policy||"AnyOn"===a.policy){for(let b of a.ids){if(!this.#dm.has(b))return Q(`Optional content group not found: ${b}`),!0;if(this.#dm.get(b).visible)return!0}return!1}if("AllOn"===a.policy){for(let b of a.ids){if(!this.#dm.has(b))return Q(`Optional content group not found: ${b}`),!0;if(!this.#dm.get(b).visible)return!1}return!0}if("AnyOff"===a.policy){for(let b of a.ids){if(!this.#dm.has(b))return Q(`Optional content group not found: ${b}`),!0;if(!this.#dm.get(b).visible)return!0}return!1}if("AllOff"===a.policy){for(let b of a.ids){if(!this.#dm.has(b))return Q(`Optional content group not found: ${b}`),!0;if(this.#dm.get(b).visible)return!1}return!0}return Q(`Unknown optional content policy ${a.policy}.`),!0}return Q(`Unknown group type ${a.type}.`),!0}setVisibility(a,b=!0,c=!0){let d=this.#dm.get(a);if(d){if(c&&b&&d.rbGroups.length)for(let b of d.rbGroups)for(let c of b)c!==a&&this.#dm.get(c)?._setVisible(ci,!1,!0);d._setVisible(ci,!!b,!0),this.#dl=null}else Q(`Optional content group not found: ${a}`)}setOCGState({state:a,preserveRB:b}){let c;for(let d of a){switch(d){case"ON":case"OFF":case"Toggle":c=d;continue}let a=this.#dm.get(d);if(a)switch(c){case"ON":this.setVisibility(d,!0,b);break;case"OFF":this.setVisibility(d,!1,b);break;case"Toggle":this.setVisibility(d,!a.visible,b)}}this.#dl=null}get hasInitialVisibility(){return null===this.#dn||this.getHash()===this.#dn}getOrder(){return this.#dm.size?this.#dp?this.#dp.slice():[...this.#dm.keys()]:null}getGroup(a){return this.#dm.get(a)||null}getHash(){if(null!==this.#dl)return this.#dl;let a=new a6;for(let[b,c]of this.#dm)a.update(`${b}:${c.visible}`);return this.#dl=a.hexdigest()}[Symbol.iterator](){return this.#dm.entries()}}class cl{constructor(a,{disableRange:b=!1,disableStream:c=!1}){S(a,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:d,initialData:e,progressiveDone:f,contentDispositionFilename:g}=a;if(this._queuedChunks=[],this._progressiveDone=f,this._contentDispositionFilename=g,e?.length>0){let a=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=a,this._isStreamingSupported=!c,this._isRangeSupported=!b,this._contentLength=d,this._fullRequestReader=null,this._rangeReaders=[],a.addRangeListener((a,b)=>{this._onReceiveData({begin:a,chunk:b})}),a.addProgressListener((a,b)=>{this._onProgress({loaded:a,total:b})}),a.addProgressiveReadListener(a=>{this._onReceiveData({chunk:a})}),a.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),a.transportReady()}_onReceiveData({begin:a,chunk:b}){let c=b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength?b.buffer:new Uint8Array(b).buffer;void 0===a?this._fullRequestReader?this._fullRequestReader._enqueue(c):this._queuedChunks.push(c):S(this._rangeReaders.some(function(b){return b._begin===a&&(b._enqueue(c),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(a){void 0===a.total?this._rangeReaders[0]?.onProgress?.({loaded:a.loaded}):this._fullRequestReader?.onProgress?.({loaded:a.loaded,total:a.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(a){let b=this._rangeReaders.indexOf(a);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){S(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let a=this._queuedChunks;return this._queuedChunks=null,new cm(this,a,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(a,b){if(b<=this._progressiveDataLength)return null;let c=new cn(this,a,b);return this._pdfDataRangeTransport.requestDataRange(a,b),this._rangeReaders.push(c),c}cancelAllRequests(a){for(let b of(this._fullRequestReader?.cancel(a),this._rangeReaders.slice(0)))b.cancel(a);this._pdfDataRangeTransport.abort()}}class cm{constructor(a,b,c=!1,d=null){for(let e of(this._stream=a,this._done=c||!1,this._filename=av(d)?d:null,this._queuedChunks=b||[],this._loaded=0,this._queuedChunks))this._loaded+=e.byteLength;this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}_enqueue(a){this._done||(this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let a=Promise.withResolvers();return this._requests.push(a),a.promise}cancel(a){for(let a of(this._done=!0,this._requests))a.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class cn{constructor(a,b,c){this._stream=a,this._begin=b,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(a){if(!this._done){if(0===this._requests.length)this._queuedChunk=a;else{for(let b of(this._requests.shift().resolve({value:a,done:!1}),this._requests))b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let a=Promise.withResolvers();return this._requests.push(a),a.promise}cancel(a){for(let a of(this._done=!0,this._requests))a.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function co(a,b){let c=new Headers;if(!a||!b||"object"!=typeof b)return c;for(let a in b){let d=b[a];void 0!==d&&c.append(a,d)}return c}function cp(a){return URL.parse(a)?.origin??null}function cq({responseHeaders:a,isHttp:b,rangeChunkSize:c,disableRange:d}){let e={allowRangeRequests:!1,suggestedLength:void 0},f=parseInt(a.get("Content-Length"),10);return!Number.isInteger(f)||(e.suggestedLength=f,f<=2*c)||d||!b||"bytes"!==a.get("Accept-Ranges")||"identity"!==(a.get("Content-Encoding")||"identity")||(e.allowRangeRequests=!0),e}function cr(a){let b=a.get("Content-Disposition");if(b){let a=function(a){let b=!0,c=d("filename\\*","i").exec(a);if(c){let a=g(c=c[1]);return f(a=i(a=h(a=unescape(a))))}if(c=function(a){let b,c=[],e=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(b=e.exec(a));){let[,a,d,e]=b;if((a=parseInt(a,10))in c){if(0===a)break}else c[a]=[d,e]}let f=[];for(let a=0;a<c.length&&a in c;++a){let[b,d]=c[a];d=g(d),b&&(d=unescape(d),0===a&&(d=h(d))),f.push(d)}return f.join("")}(a))return f(i(c));if(c=d("filename","i").exec(a)){let a=g(c=c[1]);return f(a=i(a))}function d(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function e(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{let d=new TextDecoder(a,{fatal:!0}),e=ac(c);c=d.decode(e),b=!1}catch{}}return c}function f(a){return b&&/[\x80-\xff]/.test(a)&&(a=e("utf-8",a),b&&(a=e("iso-8859-1",a))),a}function g(a){if(a.startsWith('"')){let b=a.slice(1).split('\\"');for(let a=0;a<b.length;++a){let c=b[a].indexOf('"');-1!==c&&(b[a]=b[a].slice(0,c),b.length=a+1),b[a]=b[a].replaceAll(/\\(.)/g,"$1")}a=b.join('"')}return a}function h(a){let b=a.indexOf("'");return -1===b?a:e(a.slice(0,b),a.slice(b+1).replace(/^[^']*'/,""))}function i(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,c,d){if("q"===c||"Q"===c)return e(b,d=(d=d.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}));try{d=atob(d)}catch{}return e(b,d)})}return""}(b);if(a.includes("%"))try{a=decodeURIComponent(a)}catch{}if(av(a))return a}return null}function cs(a,b){return new $(`Unexpected server response (${a}) while retrieving PDF "${b}".`,a,404===a||0===a&&b.startsWith("file:"))}function ct(a){return 200===a||206===a}function cu(a,b,c){return{method:"GET",headers:a,signal:c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function cv(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Q(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class cw{_responseOrigin=null;constructor(a){this.source=a,this.isHttp=/^https?:/i.test(a.url),this.headers=co(this.isHttp,a.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return S(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new cx(this),this._fullRequestReader}getRangeReader(a,b){if(b<=this._progressiveDataLength)return null;let c=new cy(this,a,b);return this._rangeRequestReaders.push(c),c}cancelAllRequests(a){for(let b of(this._fullRequestReader?.cancel(a),this._rangeRequestReaders.slice(0)))b.cancel(a)}}class cx{constructor(a){this._stream=a,this._reader=null,this._loaded=0,this._filename=null;let b=a.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=Promise.withResolvers(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange;let c=new Headers(a.headers),d=b.url;fetch(d,cu(c,this._withCredentials,this._abortController)).then(b=>{if(a._responseOrigin=cp(b.url),!ct(b.status))throw cs(b.status,d);this._reader=b.body.getReader(),this._headersCapability.resolve();let c=b.headers,{allowRangeRequests:e,suggestedLength:f}=cq({responseHeaders:c,isHttp:a.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=e,this._contentLength=f||this._contentLength,this._filename=cr(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new aa("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:a,done:b}=await this._reader.read();return b?{value:a,done:b}:(this._loaded+=a.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:cv(a),done:!1})}cancel(a){this._reader?.cancel(a),this._abortController.abort()}}class cy{constructor(a,b,c){this._stream=a,this._reader=null,this._loaded=0;let d=a.source;this._withCredentials=d.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!d.disableStream,this._abortController=new AbortController;let e=new Headers(a.headers);e.append("Range",`bytes=${b}-${c-1}`);let f=d.url;fetch(f,cu(e,this._withCredentials,this._abortController)).then(b=>{let c=cp(b.url);if(c!==a._responseOrigin)throw Error(`Expected range response-origin "${c}" to match "${a._responseOrigin}".`);if(!ct(b.status))throw cs(b.status,f);this._readCapability.resolve(),this._reader=b.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:a,done:b}=await this._reader.read();return b?{value:a,done:b}:(this._loaded+=a.byteLength,this.onProgress?.({loaded:this._loaded}),{value:cv(a),done:!1})}cancel(a){this._reader?.cancel(a),this._abortController.abort()}}class cz{_responseOrigin=null;constructor({url:a,httpHeaders:b,withCredentials:c}){this.url=a,this.isHttp=/^https?:/i.test(a),this.headers=co(this.isHttp,b),this.withCredentials=c||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(a){let b=new XMLHttpRequest,c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};for(let[a,c]of(b.open("GET",this.url),b.withCredentials=this.withCredentials,this.headers))b.setRequestHeader(a,c);return this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),d.expectedStatus=206):d.expectedStatus=200,b.responseType="arraybuffer",S(a.onError,"Expected `onError` callback to be provided."),b.onerror=()=>{a.onError(b.status)},b.onreadystatechange=this.onStateChange.bind(this,c),b.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=a.onHeadersReceived,d.onDone=a.onDone,d.onError=a.onError,d.onProgress=a.onProgress,b.send(null),c}onProgress(a,b){let c=this.pendingRequests[a];c&&c.onProgress?.(b)}onStateChange(a,b){let c=this.pendingRequests[a];if(!c)return;let d=c.xhr;if(d.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4!==d.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===d.status&&this.isHttp)return void c.onError(d.status);let e=d.status||200;if((200!==e||206!==c.expectedStatus)&&e!==c.expectedStatus)return void c.onError(d.status);let f=function(a){let b=a.response;return"string"!=typeof b?b:ac(b).buffer}(d);if(206===e){let a=d.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(a);b?c.onDone({begin:parseInt(b[1],10),chunk:f}):(Q('Missing or invalid "Content-Range" header.'),c.onError(0))}else f?c.onDone({begin:0,chunk:f}):c.onError(d.status)}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortRequest(a){let b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}}class cA{constructor(a){this._source=a,this._manager=new cz(a),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){let b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return S(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new cB(this._manager,this._source),this._fullRequestReader}getRangeReader(a,b){let c=new cC(this._manager,a,b);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c}cancelAllRequests(a){for(let b of(this._fullRequestReader?.cancel(a),this._rangeRequestReaders.slice(0)))b.cancel(a)}}class cB{constructor(a,b){this._manager=a,this._url=b.url,this._fullRequestId=a.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let a=this._fullRequestId,b=this._manager.getRequestXhr(a);this._manager._responseOrigin=cp(b.responseURL);let c=b.getAllResponseHeaders(),d=new Headers(c?c.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{let[b,...c]=a.split(": ");return[b,c.join(": ")]}):[]),{allowRangeRequests:e,suggestedLength:f}=cq({responseHeaders:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});e&&(this._isRangeSupported=!0),this._contentLength=f||this._contentLength,this._filename=cr(d),this._isRangeSupported&&this._manager.abortRequest(a),this._headersCapability.resolve()}_onDone(a){if(a&&(this._requests.length>0?this._requests.shift().resolve({value:a.chunk,done:!1}):this._cachedChunks.push(a.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(a){for(let b of(this._storedError=cs(a,this._url),this._headersCapability.reject(this._storedError),this._requests))b.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(a){this.onProgress?.({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let a=Promise.withResolvers();return this._requests.push(a),a.promise}cancel(a){for(let b of(this._done=!0,this._headersCapability.reject(a),this._requests))b.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class cC{constructor(a,b,c){this._manager=a,this._url=a.url,this._requestId=a.request({begin:b,end:c,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){let a=cp(this._manager.getRequestXhr(this._requestId)?.responseURL);a!==this._manager._responseOrigin&&(this._storedError=Error(`Expected range response-origin "${a}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(a){let b=a.chunk;for(let a of(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunk=b,this._done=!0,this._requests))a.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(a){for(let b of(this._storedError??=cs(a,this._url),this._requests))b.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(a){this.isStreamingSupported||this.onProgress?.({loaded:a.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){let a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let a=Promise.withResolvers();return this._requests.push(a),a.promise}cancel(a){for(let a of(this._done=!0,this._requests))a.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}let cD=/^[a-z][a-z0-9\-+.]+:/i;class cE{constructor(a){this.source=a,this.url=function(a){return new URL(cD.test(a)?a:process.getBuiltinModule("url").pathToFileURL(a))}(a.url),S("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return S(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new cF(this),this._fullRequestReader}getRangeReader(a,b){if(b<=this._progressiveDataLength)return null;let c=new cG(this,a,b);return this._rangeRequestReaders.push(c),c}cancelAllRequests(a){for(let b of(this._fullRequestReader?.cancel(a),this._rangeRequestReaders.slice(0)))b.cancel(a)}}class cF{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null;let b=a.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();let c=process.getBuiltinModule("fs");c.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(c.createReadStream(this._url)),this._headersCapability.resolve()},a=>{"ENOENT"===a.code&&(a=cs(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let a=this._readableStream.read();return null===a?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=a.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",a=>{this._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new aa("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class cG{constructor(a,b,c){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let d=a.source;this._isStreamingSupported=!d.disableStream;let e=process.getBuiltinModule("fs");this._setReadableStream(e.createReadStream(this._url,{start:b,end:c-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let a=this._readableStream.read();return null===a?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=a.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){this._readableStream?this._readableStream.destroy(a):this._error(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",a=>{this._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}}let cH=Symbol("INITIAL_DATA");class cI{#dr=Object.create(null);#ds(a){return this.#dr[a]||={...Promise.withResolvers(),data:cH}}get(a,b=null){if(b){let c=this.#ds(a);return c.promise.then(()=>b(c.data)),null}let c=this.#dr[a];if(!c||c.data===cH)throw Error(`Requesting object that isn't resolved yet ${a}.`);return c.data}has(a){let b=this.#dr[a];return!!b&&b.data!==cH}delete(a){let b=this.#dr[a];return!(!b||b.data===cH)&&(delete this.#dr[a],!0)}resolve(a,b=null){let c=this.#ds(a);c.data=b,c.resolve()}clear(){for(let a in this.#dr){let{data:b}=this.#dr[a];b?.bitmap?.close()}this.#dr=Object.create(null)}*[Symbol.iterator](){for(let a in this.#dr){let{data:b}=this.#dr[a];b!==cH&&(yield[a,b])}}}class cJ{#dt=Promise.withResolvers();#av=null;#du=!1;#dv=!!globalThis.FontInspector?.enabled;#dw=null;#dx=null;#dy=0;#dz=0;#dA=null;#dB=null;#dC=0;#dD=0;#dE=Object.create(null);#dF=[];#dG=null;#dH=[];#dI=new WeakMap;#dJ=null;static #dK=new Map;static #dL=new Map;static #dM=new WeakMap;static #dN=null;static #dO=new Set;constructor({textContentSource:a,container:b,viewport:c}){if(a instanceof ReadableStream)this.#dG=a;else{if("object"!=typeof a)throw Error('No "textContentSource" parameter specified.');this.#dG=new ReadableStream({start(b){b.enqueue(a),b.close()}})}this.#av=this.#dB=b,this.#dD=c.scale*aI.pixelRatio,this.#dC=c.rotation,this.#dx={div:null,properties:null,ctx:null};let{pageWidth:d,pageHeight:e,pageX:f,pageY:g}=c.rawDims;this.#dJ=[1,0,0,-1,-f,g+e],this.#dz=d,this.#dy=e,cJ.#dP(),aH(b,c),this.#dt.promise.finally(()=>{cJ.#dO.delete(this),this.#dx=null,this.#dE=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:a,isFirefox:b}=ad.platform;return V(this,"fontFamilyMap",new Map([["sans-serif",(a&&b?"Calibri, ":"")+"sans-serif"],["monospace",(a&&b?"Lucida Console, ":"")+"monospace"]]))}render(){let a=()=>{this.#dA.read().then(({value:b,done:c})=>{c?this.#dt.resolve():(this.#dw??=b.lang,Object.assign(this.#dE,b.styles),this.#dQ(b.items),a())},this.#dt.reject)};return this.#dA=this.#dG.getReader(),cJ.#dO.add(this),a(),this.#dt.promise}update({viewport:a,onBefore:b=null}){let c=a.scale*aI.pixelRatio,d=a.rotation;if(d!==this.#dC&&(b?.(),this.#dC=d,aH(this.#dB,{rotation:d})),c!==this.#dD){b?.(),this.#dD=c;let a={div:null,properties:null,ctx:cJ.#dR(this.#dw)};for(let b of this.#dH)a.properties=this.#dI.get(b),a.div=b,this.#dS(a)}}cancel(){let a=new aa("TextLayer task cancelled.");this.#dA?.cancel(a).catch(()=>{}),this.#dA=null,this.#dt.reject(a)}get textDivs(){return this.#dH}get textContentItemsStr(){return this.#dF}#dQ(a){if(this.#du)return;this.#dx.ctx??=cJ.#dR(this.#dw);let b=this.#dH,c=this.#dF;for(let d of a){if(b.length>1e5)return Q("Ignoring additional textDivs for performance reasons."),void(this.#du=!0);if(void 0!==d.str)c.push(d.str),this.#dT(d);else if("beginMarkedContentProps"===d.type||"beginMarkedContent"===d.type){let a=this.#av;this.#av=document.createElement("span"),this.#av.classList.add("markedContent"),d.id&&this.#av.setAttribute("id",`${d.id}`),a.append(this.#av)}else"endMarkedContent"===d.type&&(this.#av=this.#av.parentNode)}}#dT(a){let b,c,d=document.createElement("span"),e={angle:0,canvasWidth:0,hasText:""!==a.str,hasEOL:a.hasEOL,fontSize:0};this.#dH.push(d);let f=af.transform(this.#dJ,a.transform),g=Math.atan2(f[1],f[0]),h=this.#dE[a.fontName];h.vertical&&(g+=Math.PI/2);let i=this.#dv&&h.fontSubstitution||h.fontFamily;i=cJ.fontFamilyMap.get(i)||i;let j=Math.hypot(f[2],f[3]),k=j*cJ.#dU(i,h,this.#dw);0===g?(b=f[4],c=f[5]-k):(b=f[4]+k*Math.sin(g),c=f[5]-k*Math.cos(g));let l="calc(var(--total-scale-factor) *",m=d.style;this.#av===this.#dB?(m.left=`${(100*b/this.#dz).toFixed(2)}%`,m.top=`${(100*c/this.#dy).toFixed(2)}%`):(m.left=`${l}${b.toFixed(2)}px)`,m.top=`${l}${c.toFixed(2)}px)`),m.fontSize=`${l}${(cJ.#dN*j).toFixed(2)}px)`,m.fontFamily=i,e.fontSize=j,d.setAttribute("role","presentation"),d.textContent=a.str,d.dir=a.dir,this.#dv&&(d.dataset.fontName=h.fontSubstitutionLoadedName||a.fontName),0!==g&&(e.angle=180/Math.PI*g);let n=!1;if(a.str.length>1)n=!0;else if(" "!==a.str&&a.transform[0]!==a.transform[3]){let b=Math.abs(a.transform[0]),c=Math.abs(a.transform[3]);b!==c&&Math.max(b,c)/Math.min(b,c)>1.5&&(n=!0)}if(n&&(e.canvasWidth=h.vertical?a.height:a.width),this.#dI.set(d,e),this.#dx.div=d,this.#dx.properties=e,this.#dS(this.#dx),e.hasText&&this.#av.append(d),e.hasEOL){let a=document.createElement("br");a.setAttribute("role","presentation"),this.#av.append(a)}}#dS(a){let{div:b,properties:c,ctx:d}=a,{style:e}=b,f="";if(cJ.#dN>1&&(f=`scale(${1/cJ.#dN})`),0!==c.canvasWidth&&c.hasText){let{fontFamily:a}=e,{canvasWidth:g,fontSize:h}=c;cJ.#dV(d,h*this.#dD,a);let{width:i}=d.measureText(b.textContent);i>0&&(f=`scaleX(${g*this.#dD/i}) ${f}`)}0!==c.angle&&(f=`rotate(${c.angle}deg) ${f}`),f.length>0&&(e.transform=f)}static cleanup(){if(!(this.#dO.size>0)){for(let{canvas:a}of(this.#dK.clear(),this.#dL.values()))a.remove();this.#dL.clear()}}static #dR(a=null){let b=this.#dL.get(a||="");if(!b){let c=document.createElement("canvas");c.className="hiddenCanvasElement",c.lang=a,document.body.append(c),b=c.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#dL.set(a,b),this.#dM.set(b,{size:0,family:""})}return b}static #dV(a,b,c){let d=this.#dM.get(a);b===d.size&&c===d.family||(a.font=`${b}px ${c}`,d.size=b,d.family=c)}static #dP(){if(null!==this.#dN)return;let a=document.createElement("div");a.style.opacity=0,a.style.lineHeight=1,a.style.fontSize="1px",a.style.position="absolute",a.textContent="X",document.body.append(a),this.#dN=a.getBoundingClientRect().height,a.remove()}static #dU(a,b,c){let d=this.#dK.get(a);if(d)return d;let e=this.#dR(c);e.canvas.width=e.canvas.height=30,this.#dV(e,30,a);let f=e.measureText(""),g=f.fontBoundingBoxAscent,h=Math.abs(f.fontBoundingBoxDescent);e.canvas.width=e.canvas.height=0;let i=.8;return g?i=g/(g+h):(ad.platform.isFirefox&&Q("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),b.ascent?i=b.ascent:b.descent&&(i=1+b.descent)),this.#dK.set(a,i),i}}function cK(a={}){"string"==typeof a||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});let b=new cL,{docId:c}=b,d=a.url?function(a){if(a instanceof URL)return a.href;if("string"==typeof a){if(C)return a;let b=URL.parse(a,window.location);if(b)return b.href}throw Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(a.url):null,e=a.data?function(a){if(C&&"undefined"!=typeof Buffer&&a instanceof Buffer)throw Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if("string"==typeof a)return ac(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||"object"==typeof a&&!isNaN(a?.length))return new Uint8Array(a);throw Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(a.data):null,f=a.httpHeaders||null,g=!0===a.withCredentials,h=a.password??null,i=a.range instanceof cM?a.range:null,j=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:65536,k=a.worker instanceof cQ?a.worker:null,l=a.verbosity,m="string"!=typeof a.docBaseUrl||au(a.docBaseUrl)?null:a.docBaseUrl,n=bc(a.cMapUrl),o=!1!==a.cMapPacked,p=a.CMapReaderFactory||(C?bw:bm),q=bc(a.iccUrl),r=bc(a.standardFontDataUrl),s=a.StandardFontDataFactory||(C?bx:bq),u=bc(a.wasmUrl),v=a.WasmFactory||(C?by:bs),w=!0!==a.stopAtErrors,x=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,y=!1!==a.isEvalSupported,z="boolean"==typeof a.isOffscreenCanvasSupported?a.isOffscreenCanvasSupported:!C,A="boolean"==typeof a.isImageDecoderSupported?a.isImageDecoderSupported:!C&&(ad.platform.isFirefox||!globalThis.chrome),B=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,D="boolean"==typeof a.disableFontFace?a.disableFontFace:C,E=!0===a.fontExtraProperties,F=!0===a.enableXfa,G=a.ownerDocument||globalThis.document,H=!0===a.disableRange,I=!0===a.disableStream,J=!0===a.disableAutoFetch,K=!0===a.pdfBug,L=a.CanvasFactory||(C?bv:bk),M=a.FilterFactory||(C?bu:bo),N=!0===a.enableHWA,P=!1!==a.useWasm,Q=i?i.length:a.length??NaN,R="boolean"==typeof a.useSystemFonts?a.useSystemFonts:!C&&!D,S="boolean"==typeof a.useWorkerFetch?a.useWorkerFetch:!!(p===bm&&s===bq&&v===bs&&n&&r&&u&&az(n,document.baseURI)&&az(r,document.baseURI)&&az(u,document.baseURI));Number.isInteger(l)&&(O=l);let T={canvasFactory:new L({ownerDocument:G,enableHWA:N}),filterFactory:new M({docId:c,ownerDocument:G}),cMapReaderFactory:S?null:new p({baseUrl:n,isCompressed:o}),standardFontDataFactory:S?null:new s({baseUrl:r}),wasmFactory:S?null:new v({baseUrl:u})};k||(b._worker=k=cQ.create({verbosity:l,port:cg.workerPort}));let U={docId:c,apiVersion:"5.4.296",data:e,password:h,disableAutoFetch:J,rangeChunkSize:j,length:Q,docBaseUrl:m,enableXfa:F,evaluatorOptions:{maxImageSize:x,disableFontFace:D,ignoreErrors:w,isEvalSupported:y,isOffscreenCanvasSupported:z,isImageDecoderSupported:A,canvasMaxAreaInBytes:B,fontExtraProperties:E,useSystemFonts:R,useWasm:P,useWorkerFetch:S,cMapUrl:n,iccUrl:q,standardFontDataUrl:r,wasmUrl:u}},V={ownerDocument:G,pdfBug:K,styleElement:null,loadingParams:{disableAutoFetch:J,enableXfa:F}};return k.promise.then(function(){let a;if(b.destroyed)throw Error("Loading aborted");if(k.destroyed)throw Error("Worker was destroyed");let h=k.messageHandler.sendWithPromise("GetDocRequest",U,e?[e.buffer]:null);if(i)a=new cl(i,{disableRange:H,disableStream:I});else if(!e){if(!d)throw Error("getDocument - no `url` parameter provided.");a=new(az(d)?cw:C?cE:cA)({url:d,length:Q,httpHeaders:f,withCredentials:g,rangeChunkSize:j,disableRange:H,disableStream:I})}return h.then(d=>{if(b.destroyed)throw Error("Loading aborted");if(k.destroyed)throw Error("Worker was destroyed");let e=new bi(c,d,k.port),f=new cR(e,b,a,V,T,N);b._transport=f,e.send("Ready",null)})}).catch(b._capability.reject),b}class cL{static #cp=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId="d"+cL.#cp++;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(a){throw this._worker?.port&&delete this._worker._pendingDestroy,a}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class cM{#dt=Promise.withResolvers();#dW=[];#dX=[];#dY=[];#dZ=[];constructor(a,b,c=!1,d=null){this.length=a,this.initialData=b,this.progressiveDone=c,this.contentDispositionFilename=d}addRangeListener(a){this.#dZ.push(a)}addProgressListener(a){this.#dY.push(a)}addProgressiveReadListener(a){this.#dX.push(a)}addProgressiveDoneListener(a){this.#dW.push(a)}onDataRange(a,b){for(let c of this.#dZ)c(a,b)}onDataProgress(a,b){this.#dt.promise.then(()=>{for(let c of this.#dY)c(a,b)})}onDataProgressiveRead(a){this.#dt.promise.then(()=>{for(let b of this.#dX)b(a)})}onDataProgressiveDone(){this.#dt.promise.then(()=>{for(let a of this.#dW)a()})}transportReady(){this.#dt.resolve()}requestDataRange(a,b){R("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class cN{constructor(a,b){this._pdfInfo=a,this._transport=b}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return V(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(a,b){return this._transport.getAnnotationsByType(a,b)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:a="display"}={}){let{renderingIntent:b}=this._transport.getRenderingIntent(a);return this._transport.getOptionalContentConfig(b)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(a=!1){return this._transport.startCleanup(a||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(a){return this._transport.cachedPageNumber(a)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class cO{#d$=!1;constructor(a,b,c,d=!1){this._pageIndex=a,this._pageInfo=b,this._transport=c,this._stats=d?new ay:null,this._pdfBug=d,this.commonObjs=c.commonObjs,this.objs=new cI,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:b=this.rotate,offsetX:c=0,offsetY:d=0,dontFlip:e=!1}={}){return new as({viewBox:this.view,userUnit:this.userUnit,scale:a,rotation:b,offsetX:c,offsetY:d,dontFlip:e})}getAnnotations({intent:a="display"}={}){let{renderingIntent:b}=this._transport.getRenderingIntent(a);return this._transport.getAnnotations(this._pageIndex,b)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return V(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:a,canvas:b=a.canvas,viewport:c,intent:d="display",annotationMode:e=E.ENABLE,transform:f=null,background:g=null,optionalContentConfigPromise:h=null,annotationCanvasMap:i=null,pageColors:j=null,printAnnotationStorage:k=null,isEditing:l=!1,recordOperations:m=!1,operationsFilter:n=null}){this._stats?.time("Overall");let o=this._transport.getRenderingIntent(d,e,k,l),{renderingIntent:p,cacheKey:q}=o;this.#d$=!1,h||=this._transport.getOptionalContentConfig(p);let r=this._intentStates.get(q);r||(r=Object.create(null),this._intentStates.set(q,r)),r.streamReaderCancelTimeout&&(clearTimeout(r.streamReaderCancelTimeout),r.streamReaderCancelTimeout=null);let s=!!(4&p);r.displayReadyCapability||(r.displayReadyCapability=Promise.withResolvers(),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o));let u=!!(this._pdfBug&&globalThis.StepperManager?.enabled),v=!this.recordedBBoxes&&(m||u),w=a=>{if(r.renderTasks.delete(x),v){let a=x.gfx?.dependencyTracker.take();a&&(x.stepper&&x.stepper.setOperatorBBoxes(a,x.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=a))}s&&(this.#d$=!0),this.#d_(),a?(x.capability.reject(a),this._abortOperatorList({intentState:r,reason:a instanceof Error?a:Error(a)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new cT({callback:w,params:{canvas:b,canvasContext:a,dependencyTracker:v?new bG(b,r.operatorList.length,u):null,viewport:c,transform:f,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:i,operatorList:r.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!s,pdfBug:this._pdfBug,pageColors:j,enableHWA:this._transport.enableHWA,operationsFilter:n});(r.renderTasks||=new Set).add(x);let y=x.task;return Promise.all([r.displayReadyCapability.promise,h]).then(([a,b])=>{if(this.destroyed)w();else{if(this._stats?.time("Rendering"),!(b.renderingIntent&p))throw Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:a,optionalContentConfig:b}),x.operatorListChanged()}}).catch(w),y}getOperatorList({intent:a="display",annotationMode:b=E.ENABLE,printAnnotationStorage:c=null,isEditing:d=!1}={}){let e=this._transport.getRenderingIntent(a,b,c,d,!0),f,g=this._intentStates.get(e.cacheKey);return g||(g=Object.create(null),this._intentStates.set(e.cacheKey,g)),g.opListReadCapability||((f=Object.create(null)).operatorListChanged=function(){g.operatorList.lastChunk&&(g.opListReadCapability.resolve(g.operatorList),g.renderTasks.delete(f))},g.opListReadCapability=Promise.withResolvers(),(g.renderTasks||=new Set).add(f),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(e)),g.opListReadCapability.promise}streamTextContent({includeMarkedContent:a=!1,disableNormalization:b=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===a,disableNormalization:!0===b},{highWaterMark:100,size:a=>a.items.length})}getTextContent(a={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>an.textContent(a));let b=this.streamTextContent(a);return new Promise(function(a,c){let d=b.getReader(),e={items:[],styles:Object.create(null),lang:null};!function b(){d.read().then(function({value:c,done:d}){d?a(e):(e.lang??=c.lang,Object.assign(e.styles,c.styles),e.items.push(...c.items),b())},c)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let a=[];for(let b of this._intentStates.values())if(this._abortOperatorList({intentState:b,reason:Error("Page was destroyed."),force:!0}),!b.opListReadCapability)for(let c of b.renderTasks)a.push(c.completed),c.cancel();return this.objs.clear(),this.#d$=!1,Promise.all(a)}cleanup(a=!1){this.#d$=!0;let b=this.#d_();return a&&b&&(this._stats&&=new ay),b}#d_(){if(!this.#d$||this.destroyed)return!1;for(let{renderTasks:a,operatorList:b}of this._intentStates.values())if(a.size>0||!b.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#d$=!1,!0}_startRenderPage(a,b){let c=this._intentStates.get(b);c&&(this._stats?.timeEnd("Page Request"),c.displayReadyCapability?.resolve(a))}_renderPageChunk(a,b){for(let c=0,d=a.length;c<d;c++)b.operatorList.fnArray.push(a.fnArray[c]),b.operatorList.argsArray.push(a.argsArray[c]);for(let c of(b.operatorList.lastChunk=a.lastChunk,b.operatorList.separateAnnots=a.separateAnnots,b.renderTasks))c.operatorListChanged();a.lastChunk&&this.#d_()}_pumpOperatorList({renderingIntent:a,cacheKey:b,annotationStorageSerializable:c,modifiedIds:d}){let{map:e,transfer:f}=c,g=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:a,cacheKey:b,annotationStorage:e,modifiedIds:d},f).getReader(),h=this._intentStates.get(b);h.streamReader=g;let i=()=>{g.read().then(({value:a,done:b})=>{b?h.streamReader=null:this._transport.destroyed||(this._renderPageChunk(a,h),i())},a=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){for(let a of(h.operatorList.lastChunk=!0,h.renderTasks))a.operatorListChanged();this.#d_()}if(h.displayReadyCapability)h.displayReadyCapability.reject(a);else{if(!h.opListReadCapability)throw a;h.opListReadCapability.reject(a)}}})};i()}_abortOperatorList({intentState:a,reason:b,force:c=!1}){if(a.streamReader){if(a.streamReaderCancelTimeout&&(clearTimeout(a.streamReaderCancelTimeout),a.streamReaderCancelTimeout=null),!c){if(a.renderTasks.size>0)return;if(b instanceof at){let c=100;return b.extraDelay>0&&b.extraDelay<1e3&&(c+=b.extraDelay),void(a.streamReaderCancelTimeout=setTimeout(()=>{a.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:a,reason:b,force:!0})},c))}}if(a.streamReader.cancel(new aa(b.message)).catch(()=>{}),a.streamReader=null,!this._transport.destroyed){for(let[b,c]of this._intentStates)if(c===a){this._intentStates.delete(b);break}this.cleanup()}}}get stats(){return this._stats}}let cP=class a{constructor({name:b=null,port:c=null,verbosity:h=O}={}){if(v(this,k),v(this,d,Promise.withResolvers()),v(this,e,null),v(this,f,null),v(this,g,null),this.name=b,this.destroyed=!1,this.verbosity=h,c){if(u(a,j).has(c))throw Error("Cannot use more than one PDFWorker per port.");u(a,j).set(c,this),x(this,k,m).call(this,c)}else x(this,k,n).call(this)}get promise(){return u(this,d).promise}get port(){return u(this,f)}get messageHandler(){return u(this,e)}destroy(){this.destroyed=!0,u(this,g)?.terminate(),w(this,g,null),u(a,j).delete(u(this,f)),w(this,f,null),u(this,e)?.destroy(),w(this,e,null)}static create(b){let c=u(this,j).get(b?.port);if(c){if(c._pendingDestroy)throw Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return c}return new a(b)}static get workerSrc(){if(cg.workerSrc)return cg.workerSrc;throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return V(this,"_setupFakeWorkerGlobal",(async()=>u(this,p,q)?u(this,p,q):(await c(34646)(this.workerSrc)).WorkerMessageHandler)())}};d=new WeakMap,e=new WeakMap,f=new WeakMap,g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakSet,l=function(){u(this,d).resolve(),u(this,e).send("configure",{verbosity:this.verbosity})},m=function(a){w(this,f,a),w(this,e,new bi("main","worker",a)),u(this,e).on("ready",()=>{}),x(this,k,l).call(this)},n=function(){if(u(cP,i)||u(cP,p,q))return void x(this,k,o).call(this);let{workerSrc:a}=cP;try{cP._isSameOrigin(window.location,a)||(a=cP._createCDNWrapper(new URL(a,window.location).href));let b=new Worker(a,{type:"module"}),c=new bi("main","worker",b),h=()=>{i.abort(),c.destroy(),b.terminate(),this.destroyed?u(this,d).reject(Error("Worker was destroyed")):x(this,k,o).call(this)},i=new AbortController;b.addEventListener("error",()=>{u(this,g)||h()},{signal:i.signal}),c.on("test",a=>{i.abort(),!this.destroyed&&a?(w(this,e,c),w(this,f,b),w(this,g,b),x(this,k,l).call(this)):h()}),c.on("ready",a=>{if(i.abort(),this.destroyed)h();else try{j()}catch{x(this,k,o).call(this)}});let j=()=>{let a=new Uint8Array;c.send("test",a,[a.buffer])};return void j()}catch{P("The worker has been disabled.")}x(this,k,o).call(this)},o=function(){u(cP,i)||(Q("Setting up fake worker."),w(cP,i,!0)),cP._setupFakeWorkerGlobal.then(a=>{var b,c;if(this.destroyed)return void u(this,d).reject(Error("Worker was destroyed"));let g=new bf;w(this,f,g);let i="fake"+({set _(t){w(cP,h,t,b)},get _(){return u(cP,h,c)}})._++,j=new bi(i+"_worker",i,g);a.setup(j,g),w(this,e,new bi(i,i+"_worker",g)),x(this,k,l).call(this)}).catch(a=>{u(this,d).reject(Error(`Setting up fake worker failed: "${a.message}".`))})},p=new WeakSet,q=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},v(cP,p),v(cP,h,0),v(cP,i,!1),v(cP,j,new WeakMap),C&&(w(cP,i,!0),cg.workerSrc||="./pdf.worker.mjs"),cP._isSameOrigin=(a,b)=>{let c=URL.parse(a);if(!c?.origin||"null"===c.origin)return!1;let d=new URL(b,c);return c.origin===d.origin},cP._createCDNWrapper=a=>{let b=`await import("${a}");`;return URL.createObjectURL(new Blob([b],{type:"text/javascript"}))},cP.fromPort=a=>{if(console.log("Deprecated API usage: `PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!a?.port)throw Error("PDFWorker.fromPort - invalid method signature.");return cP.create(a)};let cQ=cP;class cR{#d0=new Map;#d1=new Map;#d2=new Map;#d3=new Map;#d4=null;constructor(a,b,c,d,e,f){this.messageHandler=a,this.loadingTask=b,this.commonObjs=new cI,this.fontLoader=new ba({ownerDocument:d.ownerDocument,styleElement:d.styleElement}),this.loadingParams=d.loadingParams,this._params=d,this.canvasFactory=e.canvasFactory,this.filterFactory=e.filterFactory,this.cMapReaderFactory=e.cMapReaderFactory,this.standardFontDataFactory=e.standardFontDataFactory,this.wasmFactory=e.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=f,this.setupMessageHandler()}#d5(a,b=null){let c=this.#d0.get(a);if(c)return c;let d=this.messageHandler.sendWithPromise(a,b);return this.#d0.set(a,d),d}get annotationStorage(){return V(this,"annotationStorage",new a8)}getRenderingIntent(a,b=E.ENABLE,c=null,d=!1,e=!1){let f=2,g=a7;switch(a){case"any":f=1;break;case"display":break;case"print":f=4;break;default:Q(`getRenderingIntent - invalid intent: ${a}`)}let h=4&f&&c instanceof a9?c:this.annotationStorage;switch(b){case E.DISABLE:f+=64;break;case E.ENABLE:break;case E.ENABLE_FORMS:f+=16;break;case E.ENABLE_STORAGE:f+=32,g=h.serializable;break;default:Q(`getRenderingIntent - invalid annotationMode: ${b}`)}d&&(f+=128),e&&(f+=256);let{ids:i,hash:j}=h.modifiedIds;return{renderingIntent:f,cacheKey:[f,g.hash,j].join("_"),annotationStorageSerializable:g,modifiedIds:i}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#d4?.reject(Error("Worker was destroyed during onPassword callback"));let a=[];for(let b of this.#d1.values())a.push(b._destroy());this.#d1.clear(),this.#d2.clear(),this.#d3.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let b=this.messageHandler.sendWithPromise("Terminate",null);return a.push(b),Promise.all(a).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#d0.clear(),this.filterFactory.destroy(),cJ.cleanup(),this._networkStream?.cancelAllRequests(new aa("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:a,loadingTask:b}=this;a.on("GetReader",(a,b)=>{S(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},b.onPull=()=>{this._fullReader.read().then(function({value:a,done:c}){c?b.close():(S(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),b.enqueue(new Uint8Array(a),1,[a]))}).catch(a=>{b.error(a)})},b.onCancel=a=>{this._fullReader.cancel(a),b.ready.catch(a=>{if(!this.destroyed)throw a})}}),a.on("ReaderHeadersReady",async a=>{await this._fullReader.headersReady;let{isStreamingSupported:c,isRangeSupported:d,contentLength:e}=this._fullReader;return c&&d||(this._lastProgress&&b.onProgress?.(this._lastProgress),this._fullReader.onProgress=a=>{b.onProgress?.({loaded:a.loaded,total:a.total})}),{isStreamingSupported:c,isRangeSupported:d,contentLength:e}}),a.on("GetRangeReader",(a,b)=>{S(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let c=this._networkStream.getRangeReader(a.begin,a.end);c?(b.onPull=()=>{c.read().then(function({value:a,done:c}){c?b.close():(S(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),b.enqueue(new Uint8Array(a),1,[a]))}).catch(a=>{b.error(a)})},b.onCancel=a=>{c.cancel(a),b.ready.catch(a=>{if(!this.destroyed)throw a})}):b.close()}),a.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,b._capability.resolve(new cN(a,this))}),a.on("DocException",a=>{b._capability.reject(bh(a))}),a.on("PasswordRequest",a=>{this.#d4=Promise.withResolvers();try{if(!b.onPassword)throw bh(a);let c=a=>{a instanceof Error?this.#d4.reject(a):this.#d4.resolve({password:a})};b.onPassword(c,a.code)}catch(a){this.#d4.reject(a)}return this.#d4.promise}),a.on("DataLoaded",a=>{b.onProgress?.({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),a.on("StartRenderPage",a=>{this.destroyed||this.#d1.get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),a.on("commonobj",([b,c,d])=>{if(this.destroyed||this.commonObjs.has(b))return null;switch(c){case"Font":if("error"in d){let a=d.error;Q(`Error during font loading: ${a}`),this.commonObjs.resolve(b,a);break}let e=new bb(new cf(d),this._params.pdfBug&&globalThis.FontInspector?.enabled?(a,b)=>globalThis.FontInspector.fontAdded(a,b):null,d.extra,d.charProcOperatorList);this.fontLoader.bind(e).catch(()=>a.sendWithPromise("FontFallback",{id:b})).finally(()=>{!e.fontExtraProperties&&e.data&&e.clearData(),this.commonObjs.resolve(b,e)});break;case"CopyLocalImage":let{imageRef:f}=d;for(let a of(S(f,"The imageRef must be defined."),this.#d1.values()))for(let[,c]of a.objs)if(c?.ref===f)return c.dataLen?(this.commonObjs.resolve(b,structuredClone(c)),c.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(b,d);break;default:throw Error(`Got unknown common object type ${c}`)}return null}),a.on("obj",([a,b,c,d])=>{if(this.destroyed)return;let e=this.#d1.get(b);if(!e.objs.has(a))if(0!==e._intentStates.size)switch(c){case"Image":case"Pattern":e.objs.resolve(a,d);break;default:throw Error(`Got unknown object type ${c}`)}else d?.bitmap?.close()}),a.on("DocProgress",a=>{this.destroyed||b.onProgress?.({loaded:a.loaded,total:a.total})}),a.on("FetchBinaryData",async a=>{if(this.destroyed)throw Error("Worker was destroyed.");let b=this[a.type];if(!b)throw Error(`${a.type} not initialized, see the \`useWorkerFetch\` parameter.`);return b.fetch(a)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Q("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:a,transfer:b}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:a,filename:this._fullReader?.filename??null},b).finally(()=>{this.annotationStorage.resetModified()})}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(Error("Invalid page request."));let b=a-1,c=this.#d2.get(b);if(c)return c;let d=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(c=>{if(this.destroyed)throw Error("Transport destroyed");c.refStr&&this.#d3.set(c.refStr,a);let d=new cO(b,c,this,this._params.pdfBug);return this.#d1.set(b,d),d});return this.#d2.set(b,d),d}getPageIndex(a){return bd(a)?this.messageHandler.sendWithPromise("GetPageIndex",{num:a.num,gen:a.gen}):Promise.reject(Error("Invalid pageIndex request."))}getAnnotations(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}getFieldObjects(){return this.#d5("GetFieldObjects")}hasJSActions(){return this.#d5("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(a,b){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:a,pageIndexesToSkip:b})}getDocJSActions(){return this.#d5("GetDocJSActions")}getPageJSActions(a){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:a})}getStructTree(a){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:a})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(a){return this.#d5("GetOptionalContentConfig").then(b=>new ck(b,a))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let a="GetMetadata",b=this.#d0.get(a);if(b)return b;let c=this.messageHandler.sendWithPromise(a,null).then(a=>({info:a[0],metadata:a[1]?new ch(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#d0.set(a,c),c}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(a=!1){if(!this.destroyed){for(let a of(await this.messageHandler.sendWithPromise("Cleanup",null),this.#d1.values()))if(!a.cleanup())throw Error(`startCleanup: Page ${a.pageNumber} is currently rendering.`);this.commonObjs.clear(),a||this.fontLoader.clear(),this.#d0.clear(),this.filterFactory.destroy(!0),cJ.cleanup()}}cachedPageNumber(a){if(!bd(a))return null;let b=0===a.gen?`${a.num}R`:`${a.num}R${a.gen}`;return this.#d3.get(b)??null}}class cS{#d6=null;onContinue=null;onError=null;constructor(a){this.#d6=a}get promise(){return this.#d6.capability.promise}cancel(a=0){this.#d6.cancel(null,a)}get separateAnnots(){let{separateAnnots:a}=this.#d6.operatorList;if(!a)return!1;let{annotationCanvasMap:b}=this.#d6;return a.form||a.canvas&&b?.size>0}}class cT{#d7=null;static #d8=new WeakSet;constructor({callback:a,params:b,objs:c,commonObjs:d,annotationCanvasMap:e,operatorList:f,pageIndex:g,canvasFactory:h,filterFactory:i,useRequestAnimationFrame:j=!1,pdfBug:k=!1,pageColors:l=null,enableHWA:m=!1,operationsFilter:n=null}){this.callback=a,this.params=b,this.objs=c,this.commonObjs=d,this.annotationCanvasMap=e,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=g,this.canvasFactory=h,this.filterFactory=i,this._pdfBug=k,this.pageColors=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===j&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new cS(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvas,this._canvasContext=b.canvas?null:b.canvasContext,this._enableHWA=m,this._dependencyTracker=b.dependencyTracker,this._operationsFilter=n}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:a=!1,optionalContentConfig:b}){if(this.cancelled)return;if(this._canvas){if(cT.#d8.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");cT.#d8.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{viewport:c,transform:d,background:e,dependencyTracker:f}=this.params,g=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new cc(g,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:b},this.annotationCanvasMap,this.pageColors,f),this.gfx.beginDrawing({transform:d,viewport:c,transparency:a,background:e}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(a=null,b=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#d7&&(window.cancelAnimationFrame(this.#d7),this.#d7=null),cT.#d8.delete(this._canvas),a||=new at(`Rendering cancelled, page ${this._pageIndex+1}`,b),this.callback(a),this.task.onError?.(a)}operatorListChanged(){this.graphicsReady?(this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#d7=window.requestAnimationFrame(()=>{this.#d7=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),cT.#d8.delete(this._canvas),this.callback())))}}let cU="5.4.296",cV="f56dc8601";class cW{#d9=null;#ea=null;#eb;#ec=null;#ed=!1;#ee=!1;#f=null;#ef;#eg=null;#r=null;static #eh=null;static get _keyboardManager(){return V(this,"_keyboardManager",new a$([[["Escape","mac+Escape"],cW.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],cW.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],cW.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],cW.prototype._moveToPrevious],[["Home","mac+Home"],cW.prototype._moveToBeginning],[["End","mac+End"],cW.prototype._moveToEnd]]))}constructor({editor:a=null,uiManager:b=null}){a?(this.#ee=!1,this.#f=a):this.#ee=!0,this.#r=a?._uiManager||b,this.#ef=this.#r._eventBus,this.#eb=a?.color?.toUpperCase()||this.#r?.highlightColors.values().next().value||"#FFFF98",cW.#eh||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let a=this.#d9=document.createElement("button");a.className="colorPicker",a.tabIndex="0",a.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),a.ariaHasPopup="true",this.#f&&(a.ariaControls=`${this.#f.id}_colorpicker_dropdown`);let b=this.#r._signal;a.addEventListener("click",this.#ei.bind(this),{signal:b}),a.addEventListener("keydown",this.#ej.bind(this),{signal:b});let c=this.#ea=document.createElement("span");return c.className="swatch",c.ariaHidden="true",c.style.backgroundColor=this.#eb,a.append(c),a}renderMainDropdown(){let a=this.#ec=this.#ek();return a.ariaOrientation="horizontal",a.ariaLabelledBy="highlightColorPickerLabel",a}#ek(){let a=document.createElement("div"),b=this.#r._signal;for(let[c,d]of(a.addEventListener("contextmenu",aA,{signal:b}),a.className="dropdown",a.role="listbox",a.ariaMultiSelectable="false",a.ariaOrientation="vertical",a.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#f&&(a.id=`${this.#f.id}_colorpicker_dropdown`),this.#r.highlightColors)){let e=document.createElement("button");e.tabIndex="0",e.role="option",e.setAttribute("data-color",d),e.title=c,e.setAttribute("data-l10n-id",cW.#eh[c]);let f=document.createElement("span");e.append(f),f.className="swatch",f.style.backgroundColor=d,e.ariaSelected=d===this.#eb,e.addEventListener("click",this.#el.bind(this,d),{signal:b}),a.append(e)}return a.addEventListener("keydown",this.#ej.bind(this),{signal:b}),a}#el(a,b){b.stopPropagation(),this.#ef.dispatch("switchannotationeditorparams",{source:this,type:H.HIGHLIGHT_COLOR,value:a}),this.updateColor(a)}_colorSelectFromKeyboard(a){if(a.target===this.#d9)return void this.#ei(a);let b=a.target.getAttribute("data-color");b&&this.#el(b,a)}_moveToNext(a){this.#em?a.target!==this.#d9?a.target.nextSibling?.focus():this.#ec.firstChild?.focus():this.#ei(a)}_moveToPrevious(a){a.target!==this.#ec?.firstChild&&a.target!==this.#d9?(this.#em||this.#ei(a),a.target.previousSibling?.focus()):this.#em&&this._hideDropdownFromKeyboard()}_moveToBeginning(a){this.#em?this.#ec.firstChild?.focus():this.#ei(a)}_moveToEnd(a){this.#em?this.#ec.lastChild?.focus():this.#ei(a)}#ej(a){cW._keyboardManager.exec(this,a)}#ei(a){if(this.#em)return void this.hideDropdown();if(this.#ed=0===a.detail,this.#eg||(this.#eg=new AbortController,window.addEventListener("pointerdown",this.#m.bind(this),{signal:this.#r.combinedSignal(this.#eg)})),this.#d9.ariaExpanded="true",this.#ec)return void this.#ec.classList.remove("hidden");let b=this.#ec=this.#ek();this.#d9.append(b)}#m(a){this.#ec?.contains(a.target)||this.hideDropdown()}hideDropdown(){this.#ec?.classList.add("hidden"),this.#d9.ariaExpanded="false",this.#eg?.abort(),this.#eg=null}get #em(){return this.#ec&&!this.#ec.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#ee||(this.#em?(this.hideDropdown(),this.#d9.focus({preventScroll:!0,focusVisible:this.#ed})):this.#f?.unselect())}updateColor(a){if(this.#ea&&(this.#ea.style.backgroundColor=a),!this.#ec)return;let b=this.#r.highlightColors.values();for(let c of this.#ec.children)c.ariaSelected=b.next().value===a.toUpperCase()}destroy(){this.#d9?.remove(),this.#d9=null,this.#ea=null,this.#ec?.remove(),this.#ec=null}}class cX{#en=null;#f=null;#r=null;static #eh=null;constructor(a){this.#f=a,this.#r=a._uiManager,cX.#eh||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#en)return this.#en;let{editorType:a,colorType:b,colorValue:c}=this.#f,d=this.#en=document.createElement("input");return d.type="color",d.value=c||"#000000",d.className="basicColorPicker",d.tabIndex=0,d.setAttribute("data-l10n-id",cX.#eh[a]),d.addEventListener("input",()=>{this.#r.updateParams(b,d.value)},{signal:this.#r._signal}),d}update(a){this.#en&&(this.#en.value=a)}destroy(){this.#en?.remove(),this.#en=null}hideDropdown(){}}function cY(a){return Math.floor(255*Math.max(0,Math.min(1,a))).toString(16).padStart(2,"0")}function cZ(a){return Math.max(0,Math.min(255,255*a))}B(116),B(531);class c${static CMYK_G([a,b,c,d]){return["G",1-Math.min(1,.3*a+.59*c+.11*b+d)]}static G_CMYK([a]){return["CMYK",0,0,0,1-a]}static G_RGB([a]){return["RGB",a,a,a]}static G_rgb([a]){return[a=cZ(a),a,a]}static G_HTML([a]){let b=cY(a);return`#${b}${b}${b}`}static RGB_G([a,b,c]){return["G",.3*a+.59*b+.11*c]}static RGB_rgb(a){return a.map(cZ)}static RGB_HTML(a){return`#${a.map(cY).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([a,b,c,d]){return["RGB",1-Math.min(1,a+d),1-Math.min(1,c+d),1-Math.min(1,b+d)]}static CMYK_rgb([a,b,c,d]){return[cZ(1-Math.min(1,a+d)),cZ(1-Math.min(1,c+d)),cZ(1-Math.min(1,b+d))]}static CMYK_HTML(a){let b=this.CMYK_RGB(a).slice(1);return this.RGB_HTML(b)}static RGB_CMYK([a,b,c]){let d=1-a,e=1-b,f=1-c;return["CMYK",d,e,f,Math.min(d,e,f)]}}class c_{create(a,b,c=!1){if(a<=0||b<=0)throw Error("Invalid SVG dimensions");let d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),c||(d.setAttribute("width",`${a}px`),d.setAttribute("height",`${b}px`)),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox",`0 0 ${a} ${b}`),d}createElement(a){if("string"!=typeof a)throw Error("Invalid SVG element type");return this._createSVG(a)}_createSVG(a){R("Abstract method `_createSVG` called.")}}class c0 extends c_{_createSVG(a){return document.createElementNS(ap,a)}}let c1=new WeakSet,c2=60*(new Date).getTimezoneOffset()*1e3;class c3{static create(a){switch(a.data.annotationType){case K.LINK:return new c6(a);case K.TEXT:return new c7(a);case K.WIDGET:switch(a.data.fieldType){case"Tx":return new c9(a);case"Btn":return a.data.radioButton?new dc(a):a.data.checkBox?new db(a):new dd(a);case"Ch":return new de(a);case"Sig":return new da(a)}return new c8(a);case K.POPUP:return new df(a);case K.FREETEXT:return new dh(a);case K.LINE:return new di(a);case K.SQUARE:return new dj(a);case K.CIRCLE:return new dk(a);case K.POLYLINE:return new dl(a);case K.CARET:return new dn(a);case K.INK:return new dp(a);case K.POLYGON:return new dm(a);case K.HIGHLIGHT:return new dq(a);case K.UNDERLINE:return new dr(a);case K.SQUIGGLY:return new ds(a);case K.STRIKEOUT:return new dt(a);case K.STAMP:return new du(a);case K.FILEATTACHMENT:return new dv(a);default:return new c4(a)}}}class c4{#eo=null;#ep=!1;#eq=null;constructor(a,{isRenderable:b=!1,ignoreBorder:c=!1,createQuadrilaterals:d=!1}={}){this.isRenderable=b,this.data=a.data,this.layer=a.layer,this.linkService=a.linkService,this.downloadManager=a.downloadManager,this.imageResourcesPath=a.imageResourcesPath,this.renderForms=a.renderForms,this.svgFactory=a.svgFactory,this.annotationStorage=a.annotationStorage,this.enableComment=a.enableComment,this.enableScripting=a.enableScripting,this.hasJSActions=a.hasJSActions,this._fieldObjects=a.fieldObjects,this.parent=a.parent,b&&(this.container=this._createContainer(c)),d&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:a,richText:b}){return!(!a?.str&&!b?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return c4._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){let{data:a}=this,b=this.annotationStorage?.getEditor(a.id);return b?b.getData():a}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){let a=this.annotationStorage?.getEditor(this.data.id);if(a)return a.commentButtonPositionInPage;let{quadPoints:b,inkLists:c,rect:d}=this.data,e=-1/0,f=-1/0;if(b?.length>=8){for(let a=0;a<b.length;a+=8)b[a+1]>f?(f=b[a+1],e=b[a+2]):b[a+1]===f&&(e=Math.max(e,b[a+2]));return[e,f]}if(c?.length>=1){for(let a of c)for(let b=0,c=a.length;b<c;b+=2)a[b+1]>f?(f=a[b+1],e=a[b]):a[b+1]===f&&(e=Math.max(e,a[b]));if(e!==1/0)return[e,f]}return d?[d[2],d[3]]:null}_normalizePoint(a){let{page:{view:b},viewport:{rawDims:{pageWidth:c,pageHeight:d,pageX:e,pageY:f}}}=this.parent;return a[1]=b[3]-a[1]+b[1],a[0]=100*(a[0]-e)/c,a[1]=100*(a[1]-f)/d,a}get commentText(){let{data:a}=this;return this.annotationStorage.getRawValue(`${F}${a.id}`)?.popup?.contents||a.contentsObj?.str||""}set commentText(a){let{data:b}=this,c={deleted:!a,contents:a||""};this.annotationStorage.updateEditor(b.id,{popup:c})||this.annotationStorage.setValue(`${F}${b.id}`,{id:b.id,annotationType:b.annotationType,pageIndex:this.parent.page._pageIndex,popup:c,popupRef:b.popupRef,modificationDate:new Date}),a||this.removePopup()}removePopup(){(this.#eq?.popup||this.popup)?.remove(),this.#eq=this.popup=null}updateEdited(a){if(!this.container)return;a.rect&&(this.#eo||={rect:this.data.rect.slice(0)});let{rect:b,popup:c}=a;b&&this.#er(b);let d=this.#eq?.popup||this.popup;!d&&c?.text&&(this._createPopup(c),d=this.#eq.popup),d&&(d.updateEdited(a),c?.deleted&&(d.remove(),this.#eq=null,this.popup=null))}resetEdited(){this.#eo&&(this.#er(this.#eo.rect),this.#eq?.popup.resetEdited(),this.#eo=null)}#er(a){let{container:{style:b},data:{rect:c,rotation:d},parent:{viewport:{rawDims:{pageWidth:e,pageHeight:f,pageX:g,pageY:h}}}}=this;c?.splice(0,4,...a),b.left=100*(a[0]-g)/e+"%",b.top=100*(f-a[3]+h)/f+"%",0===d?(b.width=100*(a[2]-a[0])/e+"%",b.height=100*(a[3]-a[1])/f+"%"):this.setRotation(d)}_createContainer(a){let{data:b,parent:{page:c,viewport:d}}=this,e=document.createElement("section");e.setAttribute("data-annotation-id",b.id),this instanceof c8||this instanceof c6||(e.tabIndex=0);let{style:f}=e;if(f.zIndex=this.parent.zIndex,this.parent.zIndex+=2,b.alternativeText&&(e.title=b.alternativeText),b.noRotate&&e.classList.add("norotate"),!b.rect||this instanceof df){let{rotation:a}=b;return b.hasOwnCanvas||0===a||this.setRotation(a,e),e}let{width:g,height:h}=this;if(!a&&b.borderStyle.width>0){f.borderWidth=`${b.borderStyle.width}px`;let a=b.borderStyle.horizontalCornerRadius,c=b.borderStyle.verticalCornerRadius;switch(a>0||c>0?f.borderRadius=`calc(${a}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`:this instanceof dc&&(f.borderRadius=`calc(${g}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`),b.borderStyle.style){case 1:f.borderStyle="solid";break;case 2:f.borderStyle="dashed";break;case 3:Q("Unimplemented border style: beveled");break;case 4:Q("Unimplemented border style: inset");break;case 5:f.borderBottomStyle="solid"}let d=b.borderColor||null;d?(this.#ep=!0,f.borderColor=af.makeHexColor(0|d[0],0|d[1],0|d[2])):f.borderWidth=0}let i=af.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]),{pageWidth:j,pageHeight:k,pageX:l,pageY:m}=d.rawDims;f.left=100*(i[0]-l)/j+"%",f.top=100*(i[1]-m)/k+"%";let{rotation:n}=b;return b.hasOwnCanvas||0===n?(f.width=100*g/j+"%",f.height=100*h/k+"%"):this.setRotation(n,e),e}setRotation(a,b=this.container){if(!this.data.rect)return;let{pageWidth:c,pageHeight:d}=this.parent.viewport.rawDims,{width:e,height:f}=this;a%180!=0&&([e,f]=[f,e]),b.style.width=100*e/c+"%",b.style.height=100*f/d+"%",b.setAttribute("data-main-rotation",(360-a)%360)}get _commonActions(){let a=(a,b,c)=>{let d=c.detail[a],e=d[0],f=d.slice(1);c.target.style[b]=c$[`${e}_HTML`](f),this.annotationStorage.setValue(this.data.id,{[b]:c$[`${e}_rgb`](f)})};return V(this,"_commonActions",{display:a=>{let{display:b}=a.detail,c=b%2==1;this.container.style.visibility=c?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:c,noPrint:1===b||2===b})},print:a=>{this.annotationStorage.setValue(this.data.id,{noPrint:!a.detail.print})},hidden:a=>{let{hidden:b}=a.detail;this.container.style.visibility=b?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:b,noView:b})},focus:a=>{setTimeout(()=>a.target.focus({preventScroll:!1}),0)},userName:a=>{a.target.title=a.detail.userName},readonly:a=>{a.target.disabled=a.detail.readonly},required:a=>{this._setRequired(a.target,a.detail.required)},bgColor:b=>{a("bgColor","backgroundColor",b)},fillColor:b=>{a("fillColor","backgroundColor",b)},fgColor:b=>{a("fgColor","color",b)},textColor:b=>{a("textColor","color",b)},borderColor:b=>{a("borderColor","borderColor",b)},strokeColor:b=>{a("strokeColor","borderColor",b)},rotation:a=>{let b=a.detail.rotation;this.setRotation(b),this.annotationStorage.setValue(this.data.id,{rotation:b})}})}_dispatchEventFromSandbox(a,b){let c=this._commonActions;for(let d of Object.keys(b.detail)){let e=a[d]||c[d];e?.(b)}}_setDefaultPropertiesFromJS(a){if(!this.enableScripting)return;let b=this.annotationStorage.getRawValue(this.data.id);if(!b)return;let c=this._commonActions;for(let[d,e]of Object.entries(b)){let f=c[d];f&&(f({detail:{[d]:e},target:a}),delete b[d])}}_createQuadrilaterals(){let a;if(!this.container)return;let{quadPoints:b}=this.data;if(!b)return;let[c,d,e,f]=this.data.rect.map(a=>Math.fround(a));if(8===b.length){let[a,g,h,i]=b.subarray(2,6);if(e===a&&f===g&&c===h&&d===i)return}let{style:g}=this.container;if(this.#ep){let{borderColor:b,borderWidth:c}=g;g.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${c}">`],this.container.classList.add("hasBorder")}let h=e-c,i=f-d,{svgFactory:j}=this,k=j.createElement("svg");k.classList.add("quadrilateralsContainer"),k.setAttribute("width",0),k.setAttribute("height",0),k.role="none";let l=j.createElement("defs");k.append(l);let m=j.createElement("clipPath"),n=`clippath_${this.data.id}`;m.setAttribute("id",n),m.setAttribute("clipPathUnits","objectBoundingBox"),l.append(m);for(let d=2,e=b.length;d<e;d+=8){let e=b[d],g=b[d+1],k=b[d+2],l=b[d+3],n=j.createElement("rect"),o=(k-c)/h,p=(f-g)/i,q=(e-k)/h,r=(g-l)/i;n.setAttribute("x",o),n.setAttribute("y",p),n.setAttribute("width",q),n.setAttribute("height",r),m.append(n),a?.push(`<rect vector-effect="non-scaling-stroke" x="${o}" y="${p}" width="${q}" height="${r}"/>`)}this.#ep&&(a.push("</g></svg>')"),g.backgroundImage=a.join("")),this.container.append(k),this.container.style.clipPath=`url(#${n})`}_createPopup(a=null){let b,c,{data:d}=this;a?(b={str:a.text},c=a.date):(b=d.contentsObj,c=d.modificationDate);let e=this.#eq=new df({data:{color:d.color,titleObj:d.titleObj,modificationDate:c,contentsObj:b,richText:d.richText,parentRect:d.rect,borderStyle:0,id:`popup_${d.id}`,rotation:d.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(e.render())}get hasPopupElement(){return!!(this.#eq||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#eq}render(){R("Abstract method `AnnotationElement.render` called")}_getElementsByName(a,b=null){let c=[];if(this._fieldObjects){let d=this._fieldObjects[a];if(d)for(let{page:a,id:e,exportValues:f}of d){if(-1===a||e===b)continue;let d="string"==typeof f?f:null,g=document.querySelector(`[data-element-id="${e}"]`);!g||c1.has(g)?c.push({id:e,exportValue:d,domElement:g}):Q(`_getElementsByName - element not allowed: ${e}`)}return c}for(let d of document.getElementsByName(a)){let{exportValue:a}=d,e=d.getAttribute("data-element-id");e!==b&&c1.has(d)&&c.push({id:e,exportValue:a,domElement:d})}return c}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let a=this.getElementsToTriggerPopup();if(Array.isArray(a))for(let b of a)b.classList.add("highlightArea");else a.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:a,data:{id:b}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:a,editId:b,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class c5 extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0}),this.editor=a.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){let{editor:a}=this;a.hasComment&&(this._createPopup(a.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(a){this.editor.comment=a,a||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class c6 extends c4{constructor(a,b=null){super(a,{isRenderable:!0,ignoreBorder:!!b?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=a.data.isTooltipOnly}render(){let{data:a,linkService:b}=this,c=document.createElement("a");c.setAttribute("data-element-id",a.id);let d=!1;return a.url?(b.addLinkAttributes(c,a.url,a.newWindow),d=!0):a.action?(this._bindNamedAction(c,a.action,a.overlaidText),d=!0):a.attachment?(this.#es(c,a.attachment,a.overlaidText,a.attachmentDest),d=!0):a.setOCGState?(this.#et(c,a.setOCGState,a.overlaidText),d=!0):a.dest?(this._bindLink(c,a.dest,a.overlaidText),d=!0):(a.actions&&(a.actions.Action||a.actions["Mouse Up"]||a.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(c,a),d=!0),a.resetForm?(this._bindResetFormAction(c,a.resetForm),d=!0):this.isTooltipOnly&&!d&&(this._bindLink(c,""),d=!0)),this.container.classList.add("linkAnnotation"),d&&this.container.append(c),this.container}#eu(){this.container.setAttribute("data-internal-link","")}_bindLink(a,b,c=""){a.href=this.linkService.getDestinationHash(b),a.onclick=()=>(b&&this.linkService.goToDestination(b),!1),(b||""===b)&&this.#eu(),c&&(a.title=c)}_bindNamedAction(a,b,c=""){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeNamedAction(b),!1),c&&(a.title=c),this.#eu()}#es(a,b,c="",d=null){a.href=this.linkService.getAnchorUrl(""),b.description?a.title=b.description:c&&(a.title=c),a.onclick=()=>(this.downloadManager?.openOrDownloadData(b.content,b.filename,d),!1),this.#eu()}#et(a,b,c=""){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeSetOCGState(b),!1),c&&(a.title=c),this.#eu()}_bindJSAction(a,b){a.href=this.linkService.getAnchorUrl("");let c=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let d of Object.keys(b.actions)){let e=c.get(d);e&&(a[e]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:b.id,name:d}}),!1))}b.overlaidText&&(a.title=b.overlaidText),a.onclick||(a.onclick=()=>!1),this.#eu()}_bindResetFormAction(a,b){let c=a.onclick;if(c||(a.href=this.linkService.getAnchorUrl("")),this.#eu(),!this._fieldObjects)return Q('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(c||(a.onclick=()=>!1));a.onclick=()=>{c?.();let{fields:a,refs:d,include:e}=b,f=[];if(0!==a.length||0!==d.length){let b=new Set(d);for(let c of a)for(let{id:a}of this._fieldObjects[c]||[])b.add(a);for(let a of Object.values(this._fieldObjects))for(let c of a)b.has(c.id)===e&&f.push(c)}else for(let a of Object.values(this._fieldObjects))f.push(...a);let g=this.annotationStorage,h=[];for(let a of f){let{id:b}=a;switch(h.push(b),a.type){case"text":{let c=a.defaultValue||"";g.setValue(b,{value:c});break}case"checkbox":case"radiobutton":{let c=a.defaultValue===a.exportValues;g.setValue(b,{value:c});break}case"combobox":case"listbox":{let c=a.defaultValue||"";g.setValue(b,{value:c});break}default:continue}let c=document.querySelector(`[data-element-id="${b}"]`);c&&(c1.has(c)?c.dispatchEvent(new Event("resetform")):Q(`_bindResetFormAction - element not allowed: ${b}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class c7 extends c4{constructor(a){super(a,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let a=document.createElement("img");return a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),a.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(a),this.container}}class c8 extends c4{render(){return this.container}showElementAndHideCanvas(a){this.data.hasOwnCanvas&&("CANVAS"===a.previousSibling?.nodeName&&(a.previousSibling.hidden=!0),a.hidden=!1)}_getKeyModifier(a){return ad.platform.isMac?a.metaKey:a.ctrlKey}_setEventListener(a,b,c,d,e){c.includes("mouse")?a.addEventListener(c,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:e(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):a.addEventListener(c,a=>{if("blur"===c){if(!b.focused||!a.relatedTarget)return;b.focused=!1}else if("focus"===c){if(b.focused)return;b.focused=!0}e&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:d,value:e(a)}})})}_setEventListeners(a,b,c,d){for(let[e,f]of c)("Action"===f||this.data.actions?.[f])&&("Focus"!==f&&"Blur"!==f||(b||={focused:!1}),this._setEventListener(a,b,e,f,d),"Focus"!==f||this.data.actions?.Blur?"Blur"!==f||this.data.actions?.Focus||this._setEventListener(a,b,"focus","Focus",null):this._setEventListener(a,b,"blur","Blur",null))}_setBackgroundColor(a){let b=this.data.backgroundColor||null;a.style.backgroundColor=null===b?"transparent":af.makeHexColor(b[0],b[1],b[2])}_setTextStyle(a){let b,{fontColor:c}=this.data.defaultAppearanceData,d=this.data.defaultAppearanceData.fontSize||9,e=a.style,f=a=>Math.round(10*a)/10;if(this.data.multiLine){let a=Math.abs(this.data.rect[3]-this.data.rect[1]-2),c=a/(Math.round(a/(1.35*d))||1);b=Math.min(d,f(c/1.35))}else b=Math.min(d,f(Math.abs(this.data.rect[3]-this.data.rect[1]-2)/1.35));e.fontSize=`calc(${b}px * var(--total-scale-factor))`,e.color=af.makeHexColor(c[0],c[1],c[2]),null!==this.data.textAlignment&&(e.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(a,b){b?a.setAttribute("required",!0):a.removeAttribute("required"),a.setAttribute("aria-required",b)}}class c9 extends c8{constructor(a){super(a,{isRenderable:a.renderForms||a.data.hasOwnCanvas||!a.data.hasAppearance&&!!a.data.fieldValue})}setPropertyOnSiblings(a,b,c,d){let e=this.annotationStorage;for(let f of this._getElementsByName(a.name,a.id))f.domElement&&(f.domElement[b]=c),e.setValue(f.id,{[d]:c})}render(){let a=this.annotationStorage,b=this.data.id;this.container.classList.add("textWidgetAnnotation");let c=null;if(this.renderForms){let d=a.getValue(b,{value:this.data.fieldValue}),e=d.value||"",f=a.getValue(b,{charLimit:this.data.maxLen}).charLimit;f&&e.length>f&&(e=e.slice(0,f));let g=d.formattedValue||this.data.textContent?.join("\n")||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));let h={userValue:e,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?((c=document.createElement("textarea")).textContent=g??e,this.data.doNotScroll&&(c.style.overflowY="hidden")):((c=document.createElement("input")).type=this.data.password?"password":"text",c.setAttribute("value",g??e),this.data.doNotScroll&&(c.style.overflowX="hidden")),this.data.hasOwnCanvas&&(c.hidden=!0),c1.add(c),c.setAttribute("data-element-id",b),c.disabled=this.data.readOnly,c.name=this.data.fieldName,c.tabIndex=0;let{datetimeFormat:i,datetimeType:j,timeStep:k}=this.data,l=!!j&&this.enableScripting;i&&(c.title=i),this._setRequired(c,this.data.required),f&&(c.maxLength=f),c.addEventListener("input",d=>{a.setValue(b,{value:d.target.value}),this.setPropertyOnSiblings(c,"value",d.target.value,"value"),h.formattedValue=null}),c.addEventListener("resetform",a=>{let b=this.data.defaultFieldValue??"";c.value=h.userValue=b,h.formattedValue=null});let m=a=>{let{formattedValue:b}=h;null!=b&&(a.target.value=b),a.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){c.addEventListener("focus",a=>{if(h.focused)return;let{target:b}=a;if(l&&(b.type=j,k&&(b.step=k)),h.userValue){let a=h.userValue;if(l)if("time"===j){let c=new Date(a);b.value=[c.getHours(),c.getMinutes(),c.getSeconds()].map(a=>a.toString().padStart(2,"0")).join(":")}else b.value=new Date(a-c2).toISOString().split("date"===j?"T":".",1)[0];else b.value=a}h.lastCommittedValue=b.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),c.addEventListener("updatefromsandbox",c=>{this.showElementAndHideCanvas(c.target),this._dispatchEventFromSandbox({value(c){h.userValue=c.detail.value??"",l||a.setValue(b,{value:h.userValue.toString()}),c.target.value=h.userValue},formattedValue(c){let{formattedValue:d}=c.detail;h.formattedValue=d,null!=d&&c.target!==document.activeElement&&(c.target.value=d);let e={formattedValue:d};l&&(e.value=d),a.setValue(b,e)},selRange(a){a.target.setSelectionRange(...a.detail.selRange)},charLimit:c=>{let{charLimit:d}=c.detail,{target:e}=c;if(0===d)return void e.removeAttribute("maxLength");e.setAttribute("maxLength",d);let f=h.userValue;!f||f.length<=d||(e.value=h.userValue=f=f.slice(0,d),a.setValue(b,{value:f}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:b,name:"Keystroke",value:f,willCommit:!0,commitKey:1,selStart:e.selectionStart,selEnd:e.selectionEnd}}))}},c)}),c.addEventListener("keydown",a=>{h.commitKey=1;let c=-1;if("Escape"===a.key?c=0:"Enter"!==a.key||this.data.multiLine?"Tab"===a.key&&(h.commitKey=3):c=2,-1===c)return;let{value:d}=a.target;h.lastCommittedValue!==d&&(h.lastCommittedValue=d,h.userValue=d,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:b,name:"Keystroke",value:d,willCommit:!0,commitKey:c,selStart:a.target.selectionStart,selEnd:a.target.selectionEnd}}))});let d=m;m=null,c.addEventListener("blur",a=>{if(!h.focused||!a.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);let{target:c}=a,{value:e}=c;if(l){if(e&&"time"===j){let a=e.split(":").map(a=>parseInt(a,10));e=new Date(2e3,0,1,a[0],a[1],a[2]||0).valueOf(),c.step=""}else e.includes("T")||(e=`${e}T00:00`),e=new Date(e).valueOf();c.type="text"}h.userValue=e,h.lastCommittedValue!==e&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:b,name:"Keystroke",value:e,willCommit:!0,commitKey:h.commitKey,selStart:a.target.selectionStart,selEnd:a.target.selectionEnd}}),d(a)}),this.data.actions?.Keystroke&&c.addEventListener("beforeinput",a=>{h.lastCommittedValue=null;let{data:c,target:d}=a,{value:e,selectionStart:f,selectionEnd:g}=d,i=f,j=g;switch(a.inputType){case"deleteWordBackward":{let a=e.substring(0,f).match(/\w*[^\w]*$/);a&&(i-=a[0].length);break}case"deleteWordForward":{let a=e.substring(f).match(/^[^\w]*\w*/);a&&(j+=a[0].length);break}case"deleteContentBackward":f===g&&(i-=1);break;case"deleteContentForward":f===g&&(j+=1)}a.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:b,name:"Keystroke",value:e,change:c||"",willCommit:!1,selStart:i,selEnd:j}})}),this._setEventListeners(c,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.value)}if(m&&c.addEventListener("blur",m),this.data.comb){let a=(this.data.rect[2]-this.data.rect[0])/f;c.classList.add("comb"),c.style.letterSpacing=`calc(${a}px * var(--total-scale-factor) - 1ch)`}}else(c=document.createElement("div")).textContent=this.data.fieldValue,c.style.verticalAlign="middle",c.style.display="table-cell",this.data.hasOwnCanvas&&(c.hidden=!0);return this._setTextStyle(c),this._setBackgroundColor(c),this._setDefaultPropertiesFromJS(c),this.container.append(c),this.container}}class da extends c8{constructor(a){super(a,{isRenderable:!!a.data.hasOwnCanvas})}}class db extends c8{constructor(a){super(a,{isRenderable:a.renderForms})}render(){let a=this.annotationStorage,b=this.data,c=b.id,d=a.getValue(c,{value:b.exportValue===b.fieldValue}).value;"string"==typeof d&&(d="Off"!==d,a.setValue(c,{value:d})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let e=document.createElement("input");return c1.add(e),e.setAttribute("data-element-id",c),e.disabled=b.readOnly,this._setRequired(e,this.data.required),e.type="checkbox",e.name=b.fieldName,d&&e.setAttribute("checked",!0),e.setAttribute("exportValue",b.exportValue),e.tabIndex=0,e.addEventListener("change",d=>{let{name:e,checked:f}=d.target;for(let d of this._getElementsByName(e,c)){let c=f&&d.exportValue===b.exportValue;d.domElement&&(d.domElement.checked=c),a.setValue(d.id,{value:c})}a.setValue(c,{value:f})}),e.addEventListener("resetform",a=>{let c=b.defaultFieldValue||"Off";a.target.checked=c===b.exportValue}),this.enableScripting&&this.hasJSActions&&(e.addEventListener("updatefromsandbox",b=>{this._dispatchEventFromSandbox({value(b){b.target.checked="Off"!==b.detail.value,a.setValue(c,{value:b.target.checked})}},b)}),this._setEventListeners(e,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(e),this._setDefaultPropertiesFromJS(e),this.container.append(e),this.container}}class dc extends c8{constructor(a){super(a,{isRenderable:a.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let a=this.annotationStorage,b=this.data,c=b.id,d=a.getValue(c,{value:b.fieldValue===b.buttonValue}).value;if("string"==typeof d&&(d=d!==b.buttonValue,a.setValue(c,{value:d})),d)for(let d of this._getElementsByName(b.fieldName,c))a.setValue(d.id,{value:!1});let e=document.createElement("input");if(c1.add(e),e.setAttribute("data-element-id",c),e.disabled=b.readOnly,this._setRequired(e,this.data.required),e.type="radio",e.name=b.fieldName,d&&e.setAttribute("checked",!0),e.tabIndex=0,e.addEventListener("change",b=>{let{name:d,checked:e}=b.target;for(let b of this._getElementsByName(d,c))a.setValue(b.id,{value:!1});a.setValue(c,{value:e})}),e.addEventListener("resetform",a=>{let c=b.defaultFieldValue;a.target.checked=null!=c&&c===b.buttonValue}),this.enableScripting&&this.hasJSActions){let d=b.buttonValue;e.addEventListener("updatefromsandbox",b=>{this._dispatchEventFromSandbox({value:b=>{let e=d===b.detail.value;for(let d of this._getElementsByName(b.target.name)){let b=e&&d.id===c;d.domElement&&(d.domElement.checked=b),a.setValue(d.id,{value:b})}}},b)}),this._setEventListeners(e,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(e),this._setDefaultPropertiesFromJS(e),this.container.append(e),this.container}}class dd extends c6{constructor(a){super(a,{ignoreBorder:a.data.hasAppearance})}render(){let a=super.render();a.classList.add("buttonWidgetAnnotation","pushButton");let b=a.lastChild;return this.enableScripting&&this.hasJSActions&&b&&(this._setDefaultPropertiesFromJS(b),b.addEventListener("updatefromsandbox",a=>{this._dispatchEventFromSandbox({},a)})),a}}class de extends c8{constructor(a){super(a,{isRenderable:a.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let a=this.annotationStorage,b=this.data.id,c=a.getValue(b,{value:this.data.fieldValue}),d=document.createElement("select");c1.add(d),d.setAttribute("data-element-id",b),d.disabled=this.data.readOnly,this._setRequired(d,this.data.required),d.name=this.data.fieldName,d.tabIndex=0;let e=this.data.combo&&this.data.options.length>0;for(let a of(this.data.combo||(d.size=this.data.options.length,this.data.multiSelect&&(d.multiple=!0)),d.addEventListener("resetform",a=>{let b=this.data.defaultFieldValue;for(let a of d.options)a.selected=a.value===b}),this.data.options)){let b=document.createElement("option");b.textContent=a.displayValue,b.value=a.exportValue,c.value.includes(a.exportValue)&&(b.setAttribute("selected",!0),e=!1),d.append(b)}let f=null;if(e){let a=document.createElement("option");a.value=" ",a.setAttribute("hidden",!0),a.setAttribute("selected",!0),d.prepend(a),f=()=>{a.remove(),d.removeEventListener("input",f),f=null},d.addEventListener("input",f)}let g=a=>{let b=a?"value":"textContent",{options:c,multiple:e}=d;return e?Array.prototype.filter.call(c,a=>a.selected).map(a=>a[b]):-1===c.selectedIndex?null:c[c.selectedIndex][b]},h=g(!1),i=a=>{let b=a.target.options;return Array.prototype.map.call(b,a=>({displayValue:a.textContent,exportValue:a.value}))};return this.enableScripting&&this.hasJSActions?(d.addEventListener("updatefromsandbox",c=>{this._dispatchEventFromSandbox({value(c){f?.();let e=c.detail.value,i=new Set(Array.isArray(e)?e:[e]);for(let a of d.options)a.selected=i.has(a.value);a.setValue(b,{value:g(!0)}),h=g(!1)},multipleSelection(a){d.multiple=!0},remove(c){let e=d.options,f=c.detail.remove;e[f].selected=!1,d.remove(f),e.length>0&&-1===Array.prototype.findIndex.call(e,a=>a.selected)&&(e[0].selected=!0),a.setValue(b,{value:g(!0),items:i(c)}),h=g(!1)},clear(c){for(;0!==d.length;)d.remove(0);a.setValue(b,{value:null,items:[]}),h=g(!1)},insert(c){let{index:e,displayValue:f,exportValue:j}=c.detail.insert,k=d.children[e],l=document.createElement("option");l.textContent=f,l.value=j,k?k.before(l):d.append(l),a.setValue(b,{value:g(!0),items:i(c)}),h=g(!1)},items(c){let{items:e}=c.detail;for(;0!==d.length;)d.remove(0);for(let a of e){let{displayValue:b,exportValue:c}=a,e=document.createElement("option");e.textContent=b,e.value=c,d.append(e)}d.options.length>0&&(d.options[0].selected=!0),a.setValue(b,{value:g(!0),items:i(c)}),h=g(!1)},indices(c){let d=new Set(c.detail.indices);for(let a of c.target.options)a.selected=d.has(a.index);a.setValue(b,{value:g(!0)}),h=g(!1)},editable(a){a.target.disabled=!a.detail.editable}},c)}),d.addEventListener("input",c=>{let d=g(!0),e=g(!1);a.setValue(b,{value:d}),c.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:b,name:"Keystroke",value:h,change:e,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(d,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],a=>a.target.value)):d.addEventListener("input",function(c){a.setValue(b,{value:g(!0)})}),this.data.combo&&this._setTextStyle(d),this._setBackgroundColor(d),this._setDefaultPropertiesFromJS(d),this.container.append(d),this.container}}class df extends c4{constructor(a){let{data:b,elements:c,parent:d}=a,e=!!d._commentManager;if(super(a,{isRenderable:!e&&c4._hasPopupData(b)}),this.elements=c,e&&c4._hasPopupData(b)){let a=this.popup=this.#ev();for(let b of c)b.popup=a}else this.popup=null}#ev(){return new dg({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){let{container:a}=this;a.classList.add("popupAnnotation"),a.role="comment";let b=this.popup=this.#ev(),c=[];for(let a of this.elements)a.popup=b,a.container.ariaHasPopup="dialog",c.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",c.map(a=>`${ak}${a}`).join(",")),this.container}}class dg{#N=null;#ew=this.#ej.bind(this);#ex=this.#ey.bind(this);#ez=this.#eA.bind(this);#eB=this.#eC.bind(this);#eD=null;#av=null;#eE=null;#eF=null;#eG=null;#eH=null;#eI=null;#eJ=!1;#eK=null;#eL=null;#C=null;#eM=null;#eN=null;#bd=null;#eO=null;#a9=null;#eP=null;#eo=null;#eQ=!1;#eR=null;#eS=null;constructor({container:a,color:b,elements:c,titleObj:d,modificationDate:e,contentsObj:f,richText:g,parent:h,rect:i,parentRect:j,open:k,commentManager:l=null}){this.#av=a,this.#eP=d,this.#eE=f,this.#a9=g,this.#eH=h,this.#eD=b,this.#eO=i,this.#eI=j,this.#eG=c,this.#N=l,this.#eR=c[0],this.#eF=aC.toDateObject(e),this.trigger=c.flatMap(a=>a.getElementsToTriggerPopup()),l?this.renderCommentButton():(this.#eT(),this.#av.hidden=!0,k&&this.#eC())}#eT(){if(this.#eL)return;this.#eL=new AbortController;let{signal:a}=this.#eL;for(let b of this.trigger)b.addEventListener("click",this.#eB,{signal:a}),b.addEventListener("pointerenter",this.#ez,{signal:a}),b.addEventListener("pointerleave",this.#ex,{signal:a}),b.classList.add("popupTriggerArea");for(let b of this.#eG)b.container?.addEventListener("keydown",this.#ew,{signal:a})}#eU(){let a=this.#eG.find(a=>a.hasCommentButton);a&&(this.#eN=a._normalizePoint(a.commentButtonPosition))}renderCommentButton(){if(this.#eM||(this.#eN||this.#eU(),!this.#eN))return;let{signal:a}=this.#eL=new AbortController,b=!!this.#eR.extraPopupElement,c=()=>{this.#N.toggleCommentPopup(this,!0,void 0,!b)},d=()=>{this.#N.toggleCommentPopup(this,!1,!0,!b)},e=()=>{this.#N.toggleCommentPopup(this,!1,!1)};if(b)for(let b of(this.#eM=this.#eR.container,this.trigger))b.ariaHasPopup="dialog",b.ariaControls="commentPopup",b.addEventListener("keydown",this.#ew,{signal:a}),b.addEventListener("click",c,{signal:a}),b.addEventListener("pointerenter",d,{signal:a}),b.addEventListener("pointerleave",e,{signal:a}),b.classList.add("popupTriggerArea");else{let b=this.#eM=document.createElement("button");b.className="annotationCommentButton";let f=this.#eR.container;b.style.zIndex=f.style.zIndex+1,b.tabIndex=0,b.ariaHasPopup="dialog",b.ariaControls="commentPopup",b.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#eV(),this.#eW(),b.addEventListener("keydown",this.#ew,{signal:a}),b.addEventListener("click",c,{signal:a}),b.addEventListener("pointerenter",d,{signal:a}),b.addEventListener("pointerleave",e,{signal:a}),f.after(b)}}#eW(){if(this.#eR.extraPopupElement&&!this.#eR.editor)return;this.renderCommentButton();let[a,b]=this.#eN,{style:c}=this.#eM;c.left=`calc(${a}%)`,c.top=`calc(${b}% - var(--comment-button-dim))`}#eV(){this.#eR.extraPopupElement||(this.renderCommentButton(),this.#eM.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){let{color:a,opacity:b}=this.#eR.commentData;return a?this.#eH._commentManager.makeCommentColor(a,b):null}focusCommentButton(){setTimeout(()=>{this.#eM?.focus()},0)}getData(){let{richText:a,color:b,opacity:c,creationDate:d,modificationDate:e}=this.#eR.commentData;return{contentsObj:{str:this.comment},richText:a,color:b,opacity:c,creationDate:d,modificationDate:e}}get elementBeforePopup(){return this.#eM}get comment(){return this.#eS||=this.#eR.commentText,this.#eS}set comment(a){a!==this.comment&&(this.#eR.commentText=this.#eS=a)}get parentBoundingClientRect(){return this.#eR.layer.getBoundingClientRect()}setCommentButtonStates({selected:a,hasPopup:b}){this.#eM&&(this.#eM.classList.toggle("selected",a),this.#eM.ariaExpanded=b)}setSelectedCommentButton(a){this.#eM.classList.toggle("selected",a)}get commentPopupPosition(){if(this.#bd)return this.#bd;let{x:a,y:b,height:c}=this.#eM.getBoundingClientRect(),{x:d,y:e,width:f,height:g}=this.#eR.layer.getBoundingClientRect();return[(a-d)/f,(b+c-e)/g]}set commentPopupPosition(a){this.#bd=a}hasDefaultPopupPosition(){return null===this.#bd}get commentButtonPosition(){return this.#eN}get commentButtonWidth(){return this.#eM.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(a){let[b,c]=this.#bd||this.commentButtonPosition.map(a=>a/100),d=this.parentBoundingClientRect,{x:e,y:f,width:g,height:h}=d;this.#N.showDialog(null,this,e+b*g,f+c*h,{...a,parentDimensions:d})}render(){if(this.#eK)return;let a=this.#eK=document.createElement("div");if(a.className="popup",this.#eD){let b=a.style.outlineColor=af.makeHexColor(...this.#eD);a.style.backgroundColor=`color-mix(in srgb, ${b} 30%, white)`}let b=document.createElement("span");if(b.className="header",this.#eP?.str){let a=document.createElement("span");a.className="title",b.append(a),{dir:a.dir,str:a.textContent}=this.#eP}if(a.append(b),this.#eF){let a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#eF.valueOf()})),a.dateTime=this.#eF.toISOString(),b.append(a)}aT({html:this.#eX||this.#eE.str,dir:this.#eE?.dir,className:"popupContent"},a),this.#av.append(a)}get #eX(){let a=this.#a9,b=this.#eE;return!a?.str||b?.str&&b.str!==a.str?null:this.#a9.html||null}get #eY(){return this.#eX?.attributes?.style?.fontSize||0}get #eZ(){return this.#eX?.attributes?.style?.color||null}#e$(a){let b=[],c={style:{color:this.#eZ,fontSize:this.#eY?`calc(${this.#eY}px * var(--total-scale-factor))`:""}};for(let d of a.split("\n"))b.push({name:"span",value:d,attributes:c});return{str:a,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:b}]}}}#ej(a){a.altKey||a.shiftKey||a.ctrlKey||a.metaKey||("Enter"===a.key||"Escape"===a.key&&this.#eJ)&&this.#eC()}updateEdited({rect:a,popup:b,deleted:c}){if(this.#N)return c?(this.remove(),this.#eS=null):b&&(b.deleted?this.remove():(this.#eV(),this.#eS=b.text)),void(a&&(this.#eN=null,this.#eU(),this.#eW()));c||b?.deleted?this.remove():(this.#eT(),this.#eo||={contentsObj:this.#eE,richText:this.#a9},a&&(this.#C=null),b&&b.text&&(this.#a9=this.#e$(b.text),this.#eF=aC.toDateObject(b.date),this.#eE=null),this.#eK?.remove(),this.#eK=null)}resetEdited(){this.#eo&&({contentsObj:this.#eE,richText:this.#a9}=this.#eo,this.#eo=null,this.#eK?.remove(),this.#eK=null,this.#C=null)}remove(){if(this.#eL?.abort(),this.#eL=null,this.#eK?.remove(),this.#eK=null,this.#eQ=!1,this.#eJ=!1,this.#eM?.remove(),this.#eM=null,this.trigger)for(let a of this.trigger)a.classList.remove("popupTriggerArea")}#e_(){if(null!==this.#C)return;let{page:{view:a},viewport:{rawDims:{pageWidth:b,pageHeight:c,pageX:d,pageY:e}}}=this.#eH,f=!!this.#eI,g=f?this.#eI:this.#eO;for(let a of this.#eG)if(!g||null!==af.intersect(a.data.rect,g)){g=a.data.rect,f=!0;break}let h=af.normalizeRect([g[0],a[3]-g[1]+a[1],g[2],a[3]-g[3]+a[1]]),i=f?g[2]-g[0]+5:0,j=h[0]+i,k=h[1];this.#C=[100*(j-d)/b,100*(k-e)/c];let{style:l}=this.#av;l.left=`${this.#C[0]}%`,l.top=`${this.#C[1]}%`}#eC(){this.#N?this.#N.toggleCommentPopup(this,!1):(this.#eJ=!this.#eJ,this.#eJ?(this.#eA(),this.#av.addEventListener("click",this.#eB),this.#av.addEventListener("keydown",this.#ew)):(this.#ey(),this.#av.removeEventListener("click",this.#eB),this.#av.removeEventListener("keydown",this.#ew)))}#eA(){this.#eK||this.render(),this.isVisible?this.#eJ&&this.#av.classList.add("focused"):(this.#e_(),this.#av.hidden=!1,this.#av.style.zIndex=parseInt(this.#av.style.zIndex)+1e3)}#ey(){this.#av.classList.remove("focused"),!this.#eJ&&this.isVisible&&(this.#av.hidden=!0,this.#av.style.zIndex=parseInt(this.#av.style.zIndex)-1e3)}forceHide(){this.#eQ=this.isVisible,this.#eQ&&(this.#av.hidden=!0)}maybeShow(){this.#N||(this.#eT(),this.#eQ&&(this.#eK||this.#eA(),this.#eQ=!1,this.#av.hidden=!1))}get isVisible(){return!this.#N&&!1===this.#av.hidden}}class dh extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0}),this.textContent=a.data.textContent,this.textPosition=a.data.textPosition,this.annotationEditorType=G.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let a=document.createElement("div");for(let b of(a.classList.add("annotationTextContent"),a.setAttribute("role","comment"),this.textContent)){let c=document.createElement("span");c.textContent=b,a.append(c)}this.container.append(a)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class di extends c4{#e0=null;constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let{data:a,width:b,height:c}=this,d=this.svgFactory.create(b,c,!0),e=this.#e0=this.svgFactory.createElement("svg:line");return e.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),e.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),e.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),e.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),e.setAttribute("stroke-width",a.borderStyle.width||1),e.setAttribute("stroke","transparent"),e.setAttribute("fill","transparent"),d.append(e),this.container.append(d),!a.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e0}addHighlightArea(){this.container.classList.add("highlightArea")}}class dj extends c4{#e1=null;constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let{data:a,width:b,height:c}=this,d=this.svgFactory.create(b,c,!0),e=a.borderStyle.width,f=this.#e1=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",e/2),f.setAttribute("y",e/2),f.setAttribute("width",b-e),f.setAttribute("height",c-e),f.setAttribute("stroke-width",e||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.append(f),this.container.append(d),!a.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e1}addHighlightArea(){this.container.classList.add("highlightArea")}}class dk extends c4{#e2=null;constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let{data:a,width:b,height:c}=this,d=this.svgFactory.create(b,c,!0),e=a.borderStyle.width,f=this.#e2=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",b/2),f.setAttribute("cy",c/2),f.setAttribute("rx",b/2-e/2),f.setAttribute("ry",c/2-e/2),f.setAttribute("stroke-width",e||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.append(f),this.container.append(d),!a.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e2}addHighlightArea(){this.container.classList.add("highlightArea")}}class dl extends c4{#e3=null;constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:a,vertices:b,borderStyle:c,popupRef:d},width:e,height:f}=this;if(!b)return this.container;let g=this.svgFactory.create(e,f,!0),h=[];for(let c=0,d=b.length;c<d;c+=2){let d=b[c]-a[0],e=a[3]-b[c+1];h.push(`${d},${e}`)}h=h.join(" ");let i=this.#e3=this.svgFactory.createElement(this.svgElementName);return i.setAttribute("points",h),i.setAttribute("stroke-width",c.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),g.append(i),this.container.append(g),!d&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e3}addHighlightArea(){this.container.classList.add("highlightArea")}}class dm extends dl{constructor(a){super(a),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class dn extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class dp extends c4{#e4=null;#e5=[];constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?G.HIGHLIGHT:G.INK}#e6(a,b){switch(a){case 90:return{transform:`rotate(90) translate(${-b[0]},${b[1]}) scale(1,-1)`,width:b[3]-b[1],height:b[2]-b[0]};case 180:return{transform:`rotate(180) translate(${-b[2]},${b[1]}) scale(1,-1)`,width:b[2]-b[0],height:b[3]-b[1]};case 270:return{transform:`rotate(270) translate(${-b[2]},${b[3]}) scale(1,-1)`,width:b[3]-b[1],height:b[2]-b[0]};default:return{transform:`translate(${-b[0]},${b[3]}) scale(1,-1)`,width:b[2]-b[0],height:b[3]-b[1]}}}render(){this.container.classList.add(this.containerClassName);let{data:{rect:a,rotation:b,inkLists:c,borderStyle:d,popupRef:e}}=this,{transform:f,width:g,height:h}=this.#e6(b,a),i=this.svgFactory.create(g,h,!0),j=this.#e4=this.svgFactory.createElement("svg:g");i.append(j),j.setAttribute("stroke-width",d.width||1),j.setAttribute("stroke-linecap","round"),j.setAttribute("stroke-linejoin","round"),j.setAttribute("stroke-miterlimit",10),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),j.setAttribute("transform",f);for(let a=0,b=c.length;a<b;a++){let b=this.svgFactory.createElement(this.svgElementName);this.#e5.push(b),b.setAttribute("points",c[a].join(",")),j.append(b)}return!e&&this.hasPopupData&&this._createPopup(),this.container.append(i),this._editOnDoubleClick(),this.container}updateEdited(a){super.updateEdited(a);let{thickness:b,points:c,rect:d}=a,e=this.#e4;if(b>=0&&e.setAttribute("stroke-width",b||1),c)for(let a=0,b=this.#e5.length;a<b;a++)this.#e5[a].setAttribute("points",c[a].join(","));if(d){let{transform:a,width:b,height:c}=this.#e6(this.data.rotation,d);e.parentElement.setAttribute("viewBox",`0 0 ${b} ${c}`),e.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#e5}addHighlightArea(){this.container.classList.add("highlightArea")}}class dq extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=G.HIGHLIGHT}render(){let{data:{overlaidText:a,popupRef:b}}=this;if(!b&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),a){let b=document.createElement("mark");b.classList.add("overlaidText"),b.textContent=a,this.container.append(b)}return this.container}}class dr extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){let{data:{overlaidText:a,popupRef:b}}=this;if(!b&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),a){let b=document.createElement("u");b.classList.add("overlaidText"),b.textContent=a,this.container.append(b)}return this.container}}class ds extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){let{data:{overlaidText:a,popupRef:b}}=this;if(!b&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),a){let b=document.createElement("u");b.classList.add("overlaidText"),b.textContent=a,this.container.append(b)}return this.container}}class dt extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){let{data:{overlaidText:a,popupRef:b}}=this;if(!b&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),a){let b=document.createElement("s");b.classList.add("overlaidText"),b.textContent=a,this.container.append(b)}return this.container}}class du extends c4{constructor(a){super(a,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=G.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class dv extends c4{#e7=null;constructor(a){super(a,{isRenderable:!0});let{file:b}=this.data;this.filename=b.filename,this.content=b.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...b})}render(){let a;this.container.classList.add("fileAttachmentAnnotation");let{container:b,data:c}=this;c.hasAppearance||0===c.fillAlpha?a=document.createElement("div"):((a=document.createElement("img")).src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(c.name)?"paperclip":"pushpin"}.svg`,c.fillAlpha&&c.fillAlpha<1&&(a.style=`filter: opacity(${Math.round(100*c.fillAlpha)}%);`)),a.addEventListener("dblclick",this.#e8.bind(this)),this.#e7=a;let{isMac:d}=ad.platform;return b.addEventListener("keydown",a=>{"Enter"===a.key&&(d?a.metaKey:a.ctrlKey)&&this.#e8()}),!c.popupRef&&this.hasPopupData?this._createPopup():a.classList.add("popupTriggerArea"),b.append(a),b}getElementsToTriggerPopup(){return this.#e7}addHighlightArea(){this.container.classList.add("highlightArea")}#e8(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class dw{#e9=null;#fa=null;#K=null;#fb=new Map;#fc=null;#fd=null;constructor({div:a,accessibilityManager:b,annotationCanvasMap:c,annotationEditorUIManager:d,page:e,viewport:f,structTreeLayer:g,commentManager:h,linkService:i,annotationStorage:j}){this.div=a,this.#e9=b,this.#fa=c,this.#fc=g||null,this.#fd=i||null,this.#K=j||new a8,this.page=e,this.viewport=f,this.zIndex=0,this._annotationEditorUIManager=d,this._commentManager=h||null}hasEditableAnnotations(){return this.#fb.size>0}async #fe(a,b,c){let d=a.firstChild||a,e=d.id=`${ak}${b}`,f=await this.#fc?.getAriaAttributes(e);if(f)for(let[a,b]of f)d.setAttribute(a,b);c?c.at(-1).container.after(a):(this.div.append(a),this.#e9?.moveElementInDOM(this.div,a,d,!1))}async render(a){let{annotations:b}=a,c=this.div;aH(c,this.viewport);let d=new Map,e={data:null,layer:c,linkService:this.#fd,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderForms:!1!==a.renderForms,svgFactory:new c0,annotationStorage:this.#K,enableComment:!0===a.enableComment,enableScripting:!0===a.enableScripting,hasJSActions:a.hasJSActions,fieldObjects:a.fieldObjects,parent:this,elements:null};for(let a of b){if(a.noHTML)continue;let b=a.annotationType===K.POPUP;if(b){let b=d.get(a.id);if(!b)continue;e.elements=b}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;e.data=a;let c=c3.create(e);if(!c.isRenderable)continue;if(!b&&a.popupRef){let b=d.get(a.popupRef);b?b.push(c):d.set(a.popupRef,[c])}let f=c.render();a.hidden&&(f.style.visibility="hidden"),await this.#fe(f,a.id,e.elements),c.extraPopupElement?.popup?.renderCommentButton(),c._isEditable&&(this.#fb.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}this.#ff()}async addLinkAnnotations(a){let b={data:null,layer:this.div,linkService:this.#fd,svgFactory:new c0,parent:this};for(let c of a){c.borderStyle||=dw._defaultBorderStyle,b.data=c;let a=c3.create(b);if(!a.isRenderable)continue;let d=a.render();await this.#fe(d,c.id,null)}}update({viewport:a}){let b=this.div;this.viewport=a,aH(b,{rotation:a.rotation}),this.#ff(),b.hidden=!1}#ff(){if(!this.#fa)return;let a=this.div;for(let[b,c]of this.#fa){let d=a.querySelector(`[data-annotation-id="${b}"]`);if(!d)continue;c.className="annotationContent";let{firstChild:e}=d;e?"CANVAS"===e.nodeName?e.replaceWith(c):e.classList.contains("annotationContent")?e.after(c):e.before(c):d.append(c);let f=this.#fb.get(b);f&&(f._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(b,d.id,c),f._hasNoCanvas=!1):f.canvas=c)}this.#fa.clear()}getEditableAnnotations(){return Array.from(this.#fb.values())}getEditableAnnotation(a){return this.#fb.get(a)}addFakeAnnotation(a){let{div:b}=this,{id:c,rotation:d}=a,e=new c5({data:{id:c,rect:a.getPDFRect(),rotation:d},editor:a,layer:b,parent:this,enableComment:!!this._commentManager,linkService:this.#fd,annotationStorage:this.#K}),f=e.render();return b.append(f),this.#e9?.moveElementInDOM(b,f,f,!1),e.createOrUpdatePopup(),e}static get _defaultBorderStyle(){return V(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:1,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}let dx=/\r\n?|\n/g;class dy extends a4{#fg="";#fh=`${this.id}-editor`;#fi=null;#eY;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let a=dy.prototype,b=a=>a.isEmpty(),c=a0.TRANSLATE_SMALL,d=a0.TRANSLATE_BIG;return V(this,"_keyboardManager",new a$([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],a.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],a._translateEmpty,{args:[-c,0],checker:b}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],a._translateEmpty,{args:[-d,0],checker:b}],[["ArrowRight","mac+ArrowRight"],a._translateEmpty,{args:[c,0],checker:b}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],a._translateEmpty,{args:[d,0],checker:b}],[["ArrowUp","mac+ArrowUp"],a._translateEmpty,{args:[0,-c],checker:b}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],a._translateEmpty,{args:[0,-d],checker:b}],[["ArrowDown","mac+ArrowDown"],a._translateEmpty,{args:[0,c],checker:b}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],a._translateEmpty,{args:[0,d],checker:b}]]))}static _type="freetext";static _editorType=G.FREETEXT;constructor(a){super({...a,name:"freeTextEditor"}),this.color=a.color||dy._defaultColor||a4._defaultLineColor,this.#eY=a.fontSize||dy._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(a,b){a4.initialize(a,b);let c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(a,b){switch(a){case H.FREETEXT_SIZE:dy._defaultFontSize=b;break;case H.FREETEXT_COLOR:dy._defaultColor=b}}updateParams(a,b){switch(a){case H.FREETEXT_SIZE:this.#fj(b);break;case H.FREETEXT_COLOR:this.#eV(b)}}static get defaultPropertiesToUpdate(){return[[H.FREETEXT_SIZE,dy._defaultFontSize],[H.FREETEXT_COLOR,dy._defaultColor||a4._defaultLineColor]]}get propertiesToUpdate(){return[[H.FREETEXT_SIZE,this.#eY],[H.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new cX(this),[["colorPicker",this._colorPicker]]}get colorType(){return H.FREETEXT_COLOR}#fj(a){let b=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#eY)*this.parentScale),this.#eY=a,this.#fk()},c=this.#eY;this.addCommands({cmd:b.bind(this,a),undo:b.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:H.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#eV(a){let b=a=>{this.color=a,this.onUpdatedColor()},c=this.color;this.addCommands({cmd:b.bind(this,a),undo:b.bind(this,c),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:H.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(a,b){this._uiManager.translateSelectedEditors(a,b,!0)}getInitialTranslation(){let a=this.parentScale;return[-dy._internalPadding*a,-(dy._internalPadding+this.#eY)*a]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#fi=new AbortController;let a=this._uiManager.combinedSignal(this.#fi);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:a}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:a}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:a}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:a}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:a}),!0}disableEditMode(){return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#fh),this._isDraggable=!0,this.#fi?.abort(),this.#fi=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(a){this._focusEventsAllowed&&(super.focusin(a),a.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(a){this.width||(this.enableEditMode(),a&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#fl(){let a=[];this.editorDiv.normalize();let b=null;for(let c of this.editorDiv.childNodes)b?.nodeType===Node.TEXT_NODE&&"BR"===c.nodeName||(a.push(dy.#fm(c)),b=c);return a.join("\n")}#fk(){let a,[b,c]=this.parentDimensions;if(this.isAttachedToDOM)a=this.div.getBoundingClientRect();else{let{currentLayer:b,div:c}=this,d=c.style.display,e=c.classList.contains("hidden");c.classList.remove("hidden"),c.style.display="hidden",b.div.append(this.div),a=c.getBoundingClientRect(),c.remove(),c.style.display=d,c.classList.toggle("hidden",e)}this.rotation%180==this.parentRotation%180?(this.width=a.width/b,this.height=a.height/c):(this.width=a.height/b,this.height=a.width/c),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let a=this.#fg,b=this.#fg=this.#fl().trimEnd();if(a===b)return;let c=a=>{this.#fg=a,a?(this.#fn(),this._uiManager.rebuild(this),this.#fk()):this.remove()};this.addCommands({cmd:()=>{c(b)},undo:()=>{c(a)},mustExec:!1}),this.#fk()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(a){a.target===this.div&&"Enter"===a.key&&(this.enterInEditMode(),a.preventDefault())}editorDivKeydown(a){dy._keyboardManager.exec(this,a)}editorDivFocus(a){this.isEditing=!0}editorDivBlur(a){this.isEditing=!1}editorDivInput(a){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){let a,b;if(this.div)return this.div;(this._isCopy||this.annotationElementId)&&(a=this.x,b=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#fh),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:c}=this.editorDiv;if(c.fontSize=`calc(${this.#eY}px * var(--total-scale-factor))`,c.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){let[c,d]=this.parentDimensions;if(this.annotationElementId){let e,f,{position:g}=this._initialData,[h,i]=this.getInitialTranslation();[h,i]=this.pageTranslationToScreen(h,i);let[j,k]=this.pageDimensions,[l,m]=this.pageTranslation;switch(this.rotation){case 0:e=a+(g[0]-l)/j,f=b+this.height-(g[1]-m)/k;break;case 90:e=a+(g[0]-l)/j,f=b-(g[1]-m)/k,[h,i]=[i,-h];break;case 180:e=a-this.width+(g[0]-l)/j,f=b-(g[1]-m)/k,[h,i]=[-h,-i];break;case 270:e=a+(g[0]-l-this.height*k)/j,f=b+(g[1]-m-this.width*j)/k,[h,i]=[-i,h]}this.setAt(e*c,f*d,h,i)}else this._moveAfterPaste(a,b);this.#fn(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static #fm(a){return(a.nodeType===Node.TEXT_NODE?a.nodeValue:a.innerText).replaceAll(dx,"")}editorDivPaste(a){let b=a.clipboardData||window.clipboardData,{types:c}=b;if(1===c.length&&"text/plain"===c[0])return;a.preventDefault();let d=dy.#fo(b.getData("text")||"").replaceAll(dx,"\n");if(!d)return;let e=window.getSelection();if(!e.rangeCount)return;this.editorDiv.normalize(),e.deleteFromDocument();let f=e.getRangeAt(0);if(!d.includes("\n"))return f.insertNode(document.createTextNode(d)),this.editorDiv.normalize(),void e.collapseToStart();let{startContainer:g,startOffset:h}=f,i=[],j=[];if(g.nodeType===Node.TEXT_NODE){let a=g.parentElement;if(j.push(g.nodeValue.slice(h).replaceAll(dx,"")),a!==this.editorDiv){let b=i;for(let c of this.editorDiv.childNodes)c!==a?b.push(dy.#fm(c)):b=j}i.push(g.nodeValue.slice(0,h).replaceAll(dx,""))}else if(g===this.editorDiv){let a=i,b=0;for(let c of this.editorDiv.childNodes)b++===h&&(a=j),a.push(dy.#fm(c))}this.#fg=`${i.join("\n")}${d}${j.join("\n")}`,this.#fn();let k=new Range,l=Math.sumPrecise(i.map(a=>a.length));for(let{firstChild:a}of this.editorDiv.childNodes)if(a.nodeType===Node.TEXT_NODE){let b=a.nodeValue.length;if(l<=b){k.setStart(a,l),k.setEnd(a,l);break}l-=b}e.removeAllRanges(),e.addRange(k)}#fn(){if(this.editorDiv.replaceChildren(),this.#fg)for(let a of this.#fg.split("\n")){let b=document.createElement("div");b.append(a?document.createTextNode(a):document.createElement("br")),this.editorDiv.append(b)}}#fp(){return this.#fg.replaceAll("\xa0"," ")}static #fo(a){return a.replaceAll(" ","\xa0")}get contentDiv(){return this.editorDiv}getPDFRect(){let a=dy._internalPadding*this.parentScale;return this.getRect(a,a)}static async deserialize(a,b,c){let d=null;if(a instanceof dh){let{data:{defaultAppearanceData:{fontSize:b,fontColor:c},rect:e,rotation:f,id:g,popupRef:h,richText:i,contentsObj:j,creationDate:k,modificationDate:l},textContent:m,textPosition:n,parent:{page:{pageNumber:o}}}=a;if(!m||0===m.length)return null;d=a={annotationType:G.FREETEXT,color:Array.from(c),fontSize:b,value:m.join("\n"),position:n,pageIndex:o-1,rect:e.slice(0),rotation:f,annotationElementId:g,id:g,deleted:!1,popupRef:h,comment:j?.str||null,richText:i,creationDate:k,modificationDate:l}}let e=await super.deserialize(a,b,c);return e.#eY=a.fontSize,e.color=af.makeHexColor(...a.color),e.#fg=dy.#fo(a.value),e._initialData=d,a.comment&&e.setCommentData(a),e}serialize(a=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let b=a4._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),c=Object.assign(super.serialize(a),{color:b,fontSize:this.#eY,value:this.#fp()});return this.addComment(c),a?(c.isCopy=!0,c):this.annotationElementId&&!this.#fq(c)?null:(c.id=this.annotationElementId,c)}#fq(a){let{value:b,fontSize:c,color:d,pageIndex:e}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||a.value!==b||a.fontSize!==c||a.color.some((a,b)=>a!==d[b])||a.pageIndex!==e}renderAnnotationElement(a){let b=super.renderAnnotationElement(a);if(!b)return null;let{style:c}=b;for(let a of(c.fontSize=`calc(${this.#eY}px * var(--total-scale-factor))`,c.color=this.color,b.replaceChildren(),this.#fg.split("\n"))){let c=document.createElement("div");c.append(a?document.createTextNode(a):document.createElement("br")),b.append(c)}return a.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#fg}}),b}resetAnnotationElement(a){super.resetAnnotationElement(a),a.resetEdited()}}class dz{static PRECISION=1e-4;toSVGPath(){R("Abstract method `toSVGPath` must be implemented.")}get box(){R("Abstract getter `box` must be implemented.")}serialize(a,b){R("Abstract method `serialize` must be implemented.")}static _rescale(a,b,c,d,e,f){f||=new Float32Array(a.length);for(let g=0,h=a.length;g<h;g+=2)f[g]=b+a[g]*d,f[g+1]=c+a[g+1]*e;return f}static _rescaleAndSwap(a,b,c,d,e,f){f||=new Float32Array(a.length);for(let g=0,h=a.length;g<h;g+=2)f[g]=b+a[g+1]*d,f[g+1]=c+a[g]*e;return f}static _translate(a,b,c,d){d||=new Float32Array(a.length);for(let e=0,f=a.length;e<f;e+=2)d[e]=b+a[e],d[e+1]=c+a[e+1];return d}static svgRound(a){return Math.round(1e4*a)}static _normalizePoint(a,b,c,d,e){switch(e){case 90:return[1-b/c,a/d];case 180:return[1-a/c,1-b/d];case 270:return[b/c,1-a/d];default:return[a/c,b/d]}}static _normalizePagePoint(a,b,c){switch(c){case 90:return[1-b,a];case 180:return[1-a,1-b];case 270:return[b,1-a];default:return[a,b]}}static createBezierPoints(a,b,c,d,e,f){return[(a+5*c)/6,(b+5*d)/6,(5*c+e)/6,(5*d+f)/6,(c+e)/2,(d+f)/2]}}class dA{#fr;#fs=[];#ft;#fu;#fv=[];#fw=new Float32Array(18);#fx;#fy;#fz;#fA;#fB;#fC;#fD=[];static #fE=8;static #fF=2;static #fG=dA.#fE+dA.#fF;constructor({x:a,y:b},c,d,e,f,g=0){this.#fr=c,this.#fC=e*d,this.#fu=f,this.#fw.set([NaN,NaN,NaN,NaN,a,b],6),this.#ft=g,this.#fA=dA.#fE*d,this.#fz=dA.#fG*d,this.#fB=d,this.#fD.push(a,b)}isEmpty(){return isNaN(this.#fw[8])}#fH(){let a=this.#fw.subarray(4,6),b=this.#fw.subarray(16,18),[c,d,e,f]=this.#fr;return[(this.#fx+(a[0]-b[0])/2-c)/e,(this.#fy+(a[1]-b[1])/2-d)/f,(this.#fx+(b[0]-a[0])/2-c)/e,(this.#fy+(b[1]-a[1])/2-d)/f]}add({x:a,y:b}){this.#fx=a,this.#fy=b;let[c,d,e,f]=this.#fr,[g,h,i,j]=this.#fw.subarray(8,12),k=a-i,l=b-j,m=Math.hypot(k,l);if(m<this.#fz)return!1;let n=m-this.#fA,o=n/m,p=o*k,q=o*l,r=g,s=h;g=i,h=j,i+=p,j+=q,this.#fD?.push(a,b);let u=-q/n*this.#fC,v=p/n*this.#fC;return(this.#fw.set(this.#fw.subarray(2,8),0),this.#fw.set([i+u,j+v],4),this.#fw.set(this.#fw.subarray(14,18),12),this.#fw.set([i-u,j-v],16),isNaN(this.#fw[6]))?(0===this.#fv.length&&(this.#fw.set([g+u,h+v],2),this.#fv.push(NaN,NaN,NaN,NaN,(g+u-c)/e,(h+v-d)/f),this.#fw.set([g-u,h-v],14),this.#fs.push(NaN,NaN,NaN,NaN,(g-u-c)/e,(h-v-d)/f)),this.#fw.set([r,s,g,h,i,j],6),!this.isEmpty()):(this.#fw.set([r,s,g,h,i,j],6),Math.abs(Math.atan2(s-h,r-g)-Math.atan2(q,p))<Math.PI/2?([g,h,i,j]=this.#fw.subarray(2,6),this.#fv.push(NaN,NaN,NaN,NaN,((g+i)/2-c)/e,((h+j)/2-d)/f),[g,h,r,s]=this.#fw.subarray(14,18),this.#fs.push(NaN,NaN,NaN,NaN,((r+g)/2-c)/e,((s+h)/2-d)/f)):([r,s,g,h,i,j]=this.#fw.subarray(0,6),this.#fv.push(((r+5*g)/6-c)/e,((s+5*h)/6-d)/f,((5*g+i)/6-c)/e,((5*h+j)/6-d)/f,((g+i)/2-c)/e,((h+j)/2-d)/f),[i,j,g,h,r,s]=this.#fw.subarray(12,18),this.#fs.push(((r+5*g)/6-c)/e,((s+5*h)/6-d)/f,((5*g+i)/6-c)/e,((5*h+j)/6-d)/f,((g+i)/2-c)/e,((h+j)/2-d)/f)),!0)}toSVGPath(){if(this.isEmpty())return"";let a=this.#fv,b=this.#fs;if(isNaN(this.#fw[6])&&!this.isEmpty())return this.#fI();let c=[];c.push(`M${a[4]} ${a[5]}`);for(let b=6;b<a.length;b+=6)isNaN(a[b])?c.push(`L${a[b+4]} ${a[b+5]}`):c.push(`C${a[b]} ${a[b+1]} ${a[b+2]} ${a[b+3]} ${a[b+4]} ${a[b+5]}`);this.#fJ(c);for(let a=b.length-6;a>=6;a-=6)isNaN(b[a])?c.push(`L${b[a+4]} ${b[a+5]}`):c.push(`C${b[a]} ${b[a+1]} ${b[a+2]} ${b[a+3]} ${b[a+4]} ${b[a+5]}`);return this.#fK(c),c.join(" ")}#fI(){let[a,b,c,d]=this.#fr,[e,f,g,h]=this.#fH();return`M${(this.#fw[2]-a)/c} ${(this.#fw[3]-b)/d} L${(this.#fw[4]-a)/c} ${(this.#fw[5]-b)/d} L${e} ${f} L${g} ${h} L${(this.#fw[16]-a)/c} ${(this.#fw[17]-b)/d} L${(this.#fw[14]-a)/c} ${(this.#fw[15]-b)/d} Z`}#fK(a){let b=this.#fs;a.push(`L${b[4]} ${b[5]} Z`)}#fJ(a){let[b,c,d,e]=this.#fr,f=this.#fw.subarray(4,6),g=this.#fw.subarray(16,18),[h,i,j,k]=this.#fH();a.push(`L${(f[0]-b)/d} ${(f[1]-c)/e} L${h} ${i} L${j} ${k} L${(g[0]-b)/d} ${(g[1]-c)/e}`)}newFreeDrawOutline(a,b,c,d,e,f){return new dB(a,b,c,d,e,f)}getOutlines(){let a=this.#fv,b=this.#fs,c=this.#fw,[d,e,f,g]=this.#fr,h=new Float32Array((this.#fD?.length??0)+2);for(let a=0,b=h.length-2;a<b;a+=2)h[a]=(this.#fD[a]-d)/f,h[a+1]=(this.#fD[a+1]-e)/g;if(h[h.length-2]=(this.#fx-d)/f,h[h.length-1]=(this.#fy-e)/g,isNaN(c[6])&&!this.isEmpty())return this.#fL(h);let i=new Float32Array(this.#fv.length+24+this.#fs.length),j=a.length;for(let b=0;b<j;b+=2)isNaN(a[b])?i[b]=i[b+1]=NaN:(i[b]=a[b],i[b+1]=a[b+1]);j=this.#fM(i,j);for(let a=b.length-6;a>=6;a-=6)for(let c=0;c<6;c+=2)isNaN(b[a+c])?i[j]=i[j+1]=NaN:(i[j]=b[a+c],i[j+1]=b[a+c+1]),j+=2;return this.#fN(i,j),this.newFreeDrawOutline(i,h,this.#fr,this.#fB,this.#ft,this.#fu)}#fL(a){let b=this.#fw,[c,d,e,f]=this.#fr,[g,h,i,j]=this.#fH(),k=new Float32Array(36);return k.set([NaN,NaN,NaN,NaN,(b[2]-c)/e,(b[3]-d)/f,NaN,NaN,NaN,NaN,(b[4]-c)/e,(b[5]-d)/f,NaN,NaN,NaN,NaN,g,h,NaN,NaN,NaN,NaN,i,j,NaN,NaN,NaN,NaN,(b[16]-c)/e,(b[17]-d)/f,NaN,NaN,NaN,NaN,(b[14]-c)/e,(b[15]-d)/f],0),this.newFreeDrawOutline(k,a,this.#fr,this.#fB,this.#ft,this.#fu)}#fN(a,b){let c=this.#fs;return a.set([NaN,NaN,NaN,NaN,c[4],c[5]],b),b+6}#fM(a,b){let c=this.#fw.subarray(4,6),d=this.#fw.subarray(16,18),[e,f,g,h]=this.#fr,[i,j,k,l]=this.#fH();return a.set([NaN,NaN,NaN,NaN,(c[0]-e)/g,(c[1]-f)/h,NaN,NaN,NaN,NaN,i,j,NaN,NaN,NaN,NaN,k,l,NaN,NaN,NaN,NaN,(d[0]-e)/g,(d[1]-f)/h],b),b+24}}class dB extends dz{#fr;#fO=new Float32Array(4);#ft;#fu;#fD;#fB;#fP;constructor(a,b,c,d,e,f){super(),this.#fP=a,this.#fD=b,this.#fr=c,this.#fB=d,this.#ft=e,this.#fu=f,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#fQ(f);let[g,h,i,j]=this.#fO;for(let b=0,c=a.length;b<c;b+=2)a[b]=(a[b]-g)/i,a[b+1]=(a[b+1]-h)/j;for(let a=0,c=b.length;a<c;a+=2)b[a]=(b[a]-g)/i,b[a+1]=(b[a+1]-h)/j}toSVGPath(){let a=[`M${this.#fP[4]} ${this.#fP[5]}`];for(let b=6,c=this.#fP.length;b<c;b+=6)isNaN(this.#fP[b])?a.push(`L${this.#fP[b+4]} ${this.#fP[b+5]}`):a.push(`C${this.#fP[b]} ${this.#fP[b+1]} ${this.#fP[b+2]} ${this.#fP[b+3]} ${this.#fP[b+4]} ${this.#fP[b+5]}`);return a.push("Z"),a.join(" ")}serialize([a,b,c,d],e){let f,g,h=c-a,i=d-b;switch(e){case 0:f=dz._rescale(this.#fP,a,d,h,-i),g=dz._rescale(this.#fD,a,d,h,-i);break;case 90:f=dz._rescaleAndSwap(this.#fP,a,b,h,i),g=dz._rescaleAndSwap(this.#fD,a,b,h,i);break;case 180:f=dz._rescale(this.#fP,c,b,-h,i),g=dz._rescale(this.#fD,c,b,-h,i);break;case 270:f=dz._rescaleAndSwap(this.#fP,c,d,-h,-i),g=dz._rescaleAndSwap(this.#fD,c,d,-h,-i)}return{outline:Array.from(f),points:[Array.from(g)]}}#fQ(a){let b=this.#fP,c=b[4],d=b[5],e=[c,d,c,d],f=c,g=d,h=c,i=d,j=a?Math.max:Math.min,k=new Float32Array(4);for(let a=6,l=b.length;a<l;a+=6){let l=b[a+4],m=b[a+5];isNaN(b[a])?(af.pointBoundingBox(l,m,e),g>m?(f=l,g=m):g===m&&(f=j(f,l)),i<m?(h=l,i=m):i===m&&(h=j(h,l))):(k[0]=k[1]=1/0,k[2]=k[3]=-1/0,af.bezierBoundingBox(c,d,...b.slice(a,a+6),k),af.rectBoundingBox(k[0],k[1],k[2],k[3],e),g>k[1]?(f=k[0],g=k[1]):g===k[1]&&(f=j(f,k[0])),i<k[3]?(h=k[2],i=k[3]):i===k[3]&&(h=j(h,k[2]))),c=l,d=m}let l=this.#fO;l[0]=e[0]-this.#ft,l[1]=e[1]-this.#ft,l[2]=e[2]-e[0]+2*this.#ft,l[3]=e[3]-e[1]+2*this.#ft,this.firstPoint=[f,g],this.lastPoint=[h,i]}get box(){return this.#fO}newOutliner(a,b,c,d,e,f=0){return new dA(a,b,c,d,e,f)}getNewOutline(a,b){let[c,d,e,f]=this.#fO,[g,h,i,j]=this.#fr,k=e*i,l=f*j,m=c*i+g,n=d*j+h,o=this.newOutliner({x:this.#fD[0]*k+m,y:this.#fD[1]*l+n},this.#fr,this.#fB,a,this.#fu,b??this.#ft);for(let a=2;a<this.#fD.length;a+=2)o.add({x:this.#fD[a]*k+m,y:this.#fD[a+1]*l+n});return o.getOutlines()}}class dC{#fr;#fR;#fS;#fT=[];#fU=[];constructor(a,b=0,c=0,d=!0){let e=[1/0,1/0,-1/0,-1/0];for(let{x:c,y:d,width:f,height:g}of a){let a=1e-4*Math.floor((c-b)/1e-4),h=1e-4*Math.ceil((c+f+b)/1e-4),i=1e-4*Math.floor((d-b)/1e-4),j=1e-4*Math.ceil((d+g+b)/1e-4),k=[a,i,j,!0],l=[h,i,j,!1];this.#fT.push(k,l),af.rectBoundingBox(a,i,h,j,e)}let f=e[2]-e[0]+2*c,g=e[3]-e[1]+2*c,h=e[0]-c,i=e[1]-c,j=d?-1/0:1/0,k=1/0,l=this.#fT.at(d?-1:-2),m=[l[0],l[2]];for(let a of this.#fT){let[b,c,e,l]=a;!l&&d?c<k?(k=c,j=b):c===k&&(j=Math.max(j,b)):l&&!d&&(c<k?(k=c,j=b):c===k&&(j=Math.min(j,b))),a[0]=(b-h)/f,a[1]=(c-i)/g,a[2]=(e-i)/g}this.#fr=new Float32Array([h,i,f,g]),this.#fR=[j,k],this.#fS=m}getOutlines(){this.#fT.sort((a,b)=>a[0]-b[0]||a[1]-b[1]||a[2]-b[2]);let a=[];for(let b of this.#fT)b[3]?(a.push(...this.#fV(b)),this.#fW(b)):(this.#fX(b),a.push(...this.#fV(b)));return this.#fY(a)}#fY(a){let b,c=[],d=new Set;for(let b of a){let[a,d,e]=b;c.push([a,d,b],[a,e,b])}c.sort((a,b)=>a[1]-b[1]||a[0]-b[0]);for(let a=0,b=c.length;a<b;a+=2){let b=c[a][2],e=c[a+1][2];b.push(e),e.push(b),d.add(b),d.add(e)}let e=[];for(;d.size>0;){let a=d.values().next().value,[c,f,g,h,i]=a;d.delete(a);let j=c,k=f;for(b=[c,g],e.push(b);;){let a;if(d.has(h))a=h;else{if(!d.has(i))break;a=i}d.delete(a),[c,f,g,h,i]=a,j!==c&&(b.push(j,k,c,k===f?f:g),j=c),k=k===f?g:f}b.push(j,k)}return new dD(e,this.#fr,this.#fR,this.#fS)}#fZ(a){let b=this.#fU,c=0,d=b.length-1;for(;c<=d;){let e=c+d>>1,f=b[e][0];if(f===a)return e;f<a?c=e+1:d=e-1}return d+1}#fW([,a,b]){let c=this.#fZ(a);this.#fU.splice(c,0,[a,b])}#fX([,a,b]){let c=this.#fZ(a);for(let d=c;d<this.#fU.length;d++){let[c,e]=this.#fU[d];if(c!==a)break;if(c===a&&e===b)return void this.#fU.splice(d,1)}for(let d=c-1;d>=0;d--){let[c,e]=this.#fU[d];if(c!==a)break;if(c===a&&e===b)return void this.#fU.splice(d,1)}}#fV(a){let[b,c,d]=a,e=[[b,c,d]],f=this.#fZ(d);for(let a=0;a<f;a++){let[c,d]=this.#fU[a];for(let a=0,f=e.length;a<f;a++){let[,g,h]=e[a];if(!(d<=g||h<=c))if(g>=c)if(h>d)e[a][1]=d;else{if(1===f)return[];e.splice(a,1),a--,f--}else e[a][2]=c,h>d&&e.push([b,d,h])}}return e}}class dD extends dz{#fr;#f$;constructor(a,b,c,d){super(),this.#f$=a,this.#fr=b,this.firstPoint=c,this.lastPoint=d}toSVGPath(){let a=[];for(let b of this.#f$){let[c,d]=b;a.push(`M${c} ${d}`);for(let e=2;e<b.length;e+=2){let f=b[e],g=b[e+1];f===c?(a.push(`V${g}`),d=g):g===d&&(a.push(`H${f}`),c=f)}a.push("Z")}return a.join(" ")}serialize([a,b,c,d],e){let f=[],g=c-a,h=d-b;for(let b of this.#f$){let c=Array(b.length);for(let e=0;e<b.length;e+=2)c[e]=a+b[e]*g,c[e+1]=d-b[e+1]*h;f.push(c)}return f}get box(){return this.#fr}get classNamesForOutlining(){return["highlightOutline"]}}class dE extends dA{newFreeDrawOutline(a,b,c,d,e,f){return new dF(a,b,c,d,e,f)}}class dF extends dB{newOutliner(a,b,c,d,e,f=0){return new dE(a,b,c,d,e,f)}}class dG extends a4{#f_=null;#f0=0;#f1;#f2=null;#e=null;#f3=null;#f4=null;#f5=0;#f6=null;#f7=null;#v=null;#f8=!1;#fR=null;#fS=null;#f9=null;#ba="";#fC;#ga="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=G.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let a=dG.prototype;return V(this,"_keyboardManager",new a$([[["ArrowLeft","mac+ArrowLeft"],a._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],a._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],a._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],a._moveCaret,{args:[3]}]]))}constructor(a){super({...a,name:"highlightEditor"}),this.color=a.color||dG._defaultColor,this.#fC=a.thickness||dG._defaultThickness,this.opacity=a.opacity||dG._defaultOpacity,this.#f1=a.boxes||null,this.#ga=a.methodOfCreation||"",this.#ba=a.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",a.highlightId>-1?(this.#f8=!0,this.#gb(a),this.#gc()):this.#f1&&(this.#f_=a.anchorNode,this.#f0=a.anchorOffset,this.#f4=a.focusNode,this.#f5=a.focusOffset,this.#gd(),this.#gc(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#f8?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#fC,methodOfCreation:this.#ga}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(a){return{numberOfColors:a.get("color").size}}#gd(){let a=new dC(this.#f1,.001);this.#f7=a.getOutlines(),[this.x,this.y,this.width,this.height]=this.#f7.box;let b=new dC(this.#f1,.0025,.001,"ltr"===this._uiManager.direction);this.#f3=b.getOutlines();let{firstPoint:c}=this.#f7;this.#fR=[(c[0]-this.x)/this.width,(c[1]-this.y)/this.height];let{lastPoint:d}=this.#f3;this.#fS=[(d[0]-this.x)/this.width,(d[1]-this.y)/this.height]}#gb({highlightOutlines:a,highlightId:b,clipPathId:c}){if(this.#f7=a,this.#f3=a.getNewOutline(this.#fC/2+1.5,.0025),b>=0)this.#v=b,this.#f2=c,this.parent.drawLayer.finalizeDraw(b,{bbox:a.box,path:{d:a.toSVGPath()}}),this.#f9=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#f3.box,path:{d:this.#f3.toSVGPath()}},!0);else if(this.parent){let b=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#v,{bbox:dG.#ge(this.#f7.box,(b-this.rotation+360)%360),path:{d:a.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#f9,{bbox:dG.#ge(this.#f3.box,b),path:{d:this.#f3.toSVGPath()}})}let[d,e,f,g]=a.box;switch(this.rotation){case 0:this.x=d,this.y=e,this.width=f,this.height=g;break;case 90:{let[a,b]=this.parentDimensions;this.x=e,this.y=1-d,this.width=f*b/a,this.height=g*a/b;break}case 180:this.x=1-d,this.y=1-e,this.width=f,this.height=g;break;case 270:{let[a,b]=this.parentDimensions;this.x=1-e,this.y=d,this.width=f*b/a,this.height=g*a/b}}let{firstPoint:h}=a;this.#fR=[(h[0]-d)/f,(h[1]-e)/g];let{lastPoint:i}=this.#f3;this.#fS=[(i[0]-d)/f,(i[1]-e)/g]}static initialize(a,b){a4.initialize(a,b),dG._defaultColor||=b.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(a,b){switch(a){case H.HIGHLIGHT_COLOR:dG._defaultColor=b;break;case H.HIGHLIGHT_THICKNESS:dG._defaultThickness=b}}translateInPage(a,b){}get toolbarPosition(){return this.#fS}get commentButtonPosition(){return this.#fR}updateParams(a,b){switch(a){case H.HIGHLIGHT_COLOR:this.#eV(b);break;case H.HIGHLIGHT_THICKNESS:this.#gf(b)}}static get defaultPropertiesToUpdate(){return[[H.HIGHLIGHT_COLOR,dG._defaultColor],[H.HIGHLIGHT_THICKNESS,dG._defaultThickness]]}get propertiesToUpdate(){return[[H.HIGHLIGHT_COLOR,this.color||dG._defaultColor],[H.HIGHLIGHT_THICKNESS,this.#fC||dG._defaultThickness],[H.HIGHLIGHT_FREE,this.#f8]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#v,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#e?.updateColor(this.color),super.onUpdatedColor()}#eV(a){let b=(a,b)=>{this.color=a,this.opacity=b,this.onUpdatedColor()},c=this.color,d=this.opacity;this.addCommands({cmd:b.bind(this,a,dG._defaultOpacity),undo:b.bind(this,c,d),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:H.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(a)},!0)}#gf(a){let b=this.#fC,c=a=>{this.#fC=a,this.#gg(a)};this.addCommands({cmd:c.bind(this,a),undo:c.bind(this,b),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:H.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:a},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#e=new cW({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#gh())}getBaseTranslation(){return[0,0]}getRect(a,b){return super.getRect(a,b,this.#gh())}onceAdded(a){this.annotationElementId||this.parent.addUndoableEditor(this),a&&this.div.focus()}remove(){this.#gi(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#gc(),this.isAttachedToDOM||this.parent.add(this)))}setParent(a){let b=!1;this.parent&&!a?this.#gi():a&&(this.#gc(a),b=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(a),this.show(this._isVisible),b&&this.select()}#gg(a){this.#f8&&(this.#gb({highlightOutlines:this.#f7.getNewOutline(a/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#gi(){null!==this.#v&&this.parent&&(this.parent.drawLayer.remove(this.#v),this.#v=null,this.parent.drawLayer.remove(this.#f9),this.#f9=null)}#gc(a=this.parent){null===this.#v&&({id:this.#v,clipPathId:this.#f2}=a.drawLayer.draw({bbox:this.#f7.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#f8},path:{d:this.#f7.toSVGPath()}},!1,!0),this.#f9=a.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#f8},bbox:this.#f3.box,path:{d:this.#f3.toSVGPath()}},this.#f8),this.#f6&&(this.#f6.style.clipPath=this.#f2))}static #ge([a,b,c,d],e){switch(e){case 90:return[1-b-d,a,d,c];case 180:return[1-a-c,1-b-d,c,d];case 270:return[b,1-a-c,d,c]}return[a,b,c,d]}rotate(a){let b,{drawLayer:c}=this.parent;this.#f8?(a=(a-this.rotation+360)%360,b=dG.#ge(this.#f7.box,a)):b=dG.#ge([this.x,this.y,this.width,this.height],a),c.updateProperties(this.#v,{bbox:b,root:{"data-main-rotation":a}}),c.updateProperties(this.#f9,{bbox:dG.#ge(this.#f3.box,a),root:{"data-main-rotation":a}})}render(){if(this.div)return this.div;let a=super.render();this.#ba&&(a.setAttribute("aria-label",this.#ba),a.setAttribute("role","mark")),this.#f8?a.classList.add("free"):this.div.addEventListener("keydown",this.#gj.bind(this),{signal:this._uiManager._signal});let b=this.#f6=document.createElement("div");return a.append(b),b.setAttribute("aria-hidden","true"),b.className="internal",b.style.clipPath=this.#f2,this.setDims(this.width,this.height),aW(this,this.#f6,["pointerover","pointerleave"]),this.enableEditing(),a}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f9,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#f9,{rootClass:{hovered:!1}})}#gj(a){dG._keyboardManager.exec(this,a)}_moveCaret(a){switch(this.parent.unselect(this),a){case 0:case 2:this.#gk(!0);break;case 1:case 3:this.#gk(!1)}}#gk(a){if(!this.#f_)return;let b=window.getSelection();a?b.setPosition(this.#f_,this.#f0):b.setPosition(this.#f4,this.#f5)}select(){super.select(),this.#f9&&this.parent?.drawLayer.updateProperties(this.#f9,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#f9&&(this.parent?.drawLayer.updateProperties(this.#f9,{rootClass:{selected:!1}}),this.#f8||this.#gk(!1))}get _mustFixPosition(){return!this.#f8}show(a=this._isVisible){super.show(a),this.parent&&(this.parent.drawLayer.updateProperties(this.#v,{rootClass:{hidden:!a}}),this.parent.drawLayer.updateProperties(this.#f9,{rootClass:{hidden:!a}}))}#gh(){return this.#f8?this.rotation:0}#gl(){if(this.#f8)return null;let[a,b]=this.pageDimensions,[c,d]=this.pageTranslation,e=this.#f1,f=new Float32Array(8*e.length),g=0;for(let{x:h,y:i,width:j,height:k}of e){let e=h*a+c,l=(1-i)*b+d;f[g]=f[g+4]=e,f[g+1]=f[g+3]=l,f[g+2]=f[g+6]=e+j*a,f[g+5]=f[g+7]=l-k*b,g+=8}return f}#gm(a){return this.#f7.serialize(a,this.#gh())}static startHighlighting(a,b,{target:c,x:d,y:e}){let{x:f,y:g,width:h,height:i}=c.getBoundingClientRect(),j=new AbortController,k=a.combinedSignal(j),l=b=>{j.abort(),this.#gn(a,b)};window.addEventListener("blur",l,{signal:k}),window.addEventListener("pointerup",l,{signal:k}),window.addEventListener("pointerdown",aB,{capture:!0,passive:!1,signal:k}),window.addEventListener("contextmenu",aA,{signal:k}),c.addEventListener("pointermove",this.#go.bind(this,a),{signal:k}),this._freeHighlight=new dE({x:d,y:e},[f,g,h,i],a.scale,this._defaultThickness/2,b,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=a.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static #go(a,b){this._freeHighlight.add(b)&&a.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static #gn(a,b){this._freeHighlight.isEmpty()?a.drawLayer.remove(this._freeHighlightId):a.createAndAddNewEditor(b,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(a,b,c){let d=null;if(a instanceof dq){let{data:{quadPoints:b,rect:c,rotation:e,id:f,color:g,opacity:h,popupRef:i,richText:j,contentsObj:k,creationDate:l,modificationDate:m},parent:{page:{pageNumber:n}}}=a;d=a={annotationType:G.HIGHLIGHT,color:Array.from(g),opacity:h,quadPoints:b,boxes:null,pageIndex:n-1,rect:c.slice(0),rotation:e,annotationElementId:f,id:f,deleted:!1,popupRef:i,richText:j,comment:k?.str||null,creationDate:l,modificationDate:m}}else if(a instanceof dp){let{data:{inkLists:b,rect:c,rotation:e,id:f,color:g,borderStyle:{rawWidth:h},popupRef:i,richText:j,contentsObj:k,creationDate:l,modificationDate:m},parent:{page:{pageNumber:n}}}=a;d=a={annotationType:G.HIGHLIGHT,color:Array.from(g),thickness:h,inkLists:b,boxes:null,pageIndex:n-1,rect:c.slice(0),rotation:e,annotationElementId:f,id:f,deleted:!1,popupRef:i,richText:j,comment:k?.str||null,creationDate:l,modificationDate:m}}let{color:e,quadPoints:f,inkLists:g,opacity:h}=a,i=await super.deserialize(a,b,c);i.color=af.makeHexColor(...e),i.opacity=h||1,g&&(i.#fC=a.thickness),i._initialData=d,a.comment&&i.setCommentData(a);let[j,k]=i.pageDimensions,[l,m]=i.pageTranslation;if(f){let a=i.#f1=[];for(let b=0;b<f.length;b+=8)a.push({x:(f[b]-l)/j,y:1-(f[b+1]-m)/k,width:(f[b+2]-f[b])/j,height:(f[b+1]-f[b+5])/k});i.#gd(),i.#gc(),i.rotate(i.rotation)}else if(g){i.#f8=!0;let a=g[0],c={x:a[0]-l,y:k-(a[1]-m)},d=new dE(c,[0,0,j,k],1,i.#fC/2,!0,.001);for(let b=0,e=a.length;b<e;b+=2)c.x=a[b]-l,c.y=k-(a[b+1]-m),d.add(c);let{id:e,clipPathId:f}=b.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:i.color,"fill-opacity":i._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:d.toSVGPath()}},!0,!0);i.#gb({highlightOutlines:d.getOutlines(),highlightId:e,clipPathId:f}),i.#gc(),i.rotate(i.parentRotation)}return i}serialize(a=!1){if(this.isEmpty()||a)return null;if(this.deleted)return this.serializeDeleted();let b=a4._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),c=super.serialize(a);return Object.assign(c,{color:b,opacity:this.opacity,thickness:this.#fC,quadPoints:this.#gl(),outlines:this.#gm(c.rect)}),this.addComment(c),this.annotationElementId&&!this.#fq(c)?null:(c.id=this.annotationElementId,c)}#fq(a){let{color:b}=this._initialData;return this.hasEditedComment||a.color.some((a,c)=>a!==b[c])}renderAnnotationElement(a){return this.deleted?a.hide():a.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null}static canCreateNewEmptyEditor(){return!1}}class dH{#gp=Object.create(null);updateProperty(a,b){this[a]=b,this.updateSVGProperty(a,b)}updateProperties(a){if(a)for(let[b,c]of Object.entries(a))b.startsWith("_")||this.updateProperty(b,c)}updateSVGProperty(a,b){this.#gp[a]=b}toSVGProperties(){let a=this.#gp;return this.#gp=Object.create(null),{root:a}}reset(){this.#gp=Object.create(null)}updateAll(a=this){this.updateProperties(a)}clone(){R("Not implemented")}}class dI extends a4{#gq=null;#gr;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static #gs=null;static #gt=null;static #gu=null;static #gv=NaN;static #gw=null;static #gx=null;static #gy=NaN;static _INNER_MARGIN=3;constructor(a){super(a),this.#gr=a.mustBeCommitted||!1,this._addOutlines(a)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(a){a.drawOutlines&&(this.#gz(a),this.#gc())}#gz({drawOutlines:a,drawId:b,drawingOptions:c}){this.#gq=a,this._drawingOptions||=c,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),b>=0?(this._drawId=b,this.parent.drawLayer.finalizeDraw(b,a.defaultProperties)):this._drawId=this.#gA(a,this.parent),this.#gB(a.box)}#gA(a,b){let{id:c}=b.drawLayer.draw(dI._mergeSVGProperties(this._drawingOptions.toSVGProperties(),a.defaultSVGProperties),!1,!1);return c}static _mergeSVGProperties(a,b){let c=new Set(Object.keys(a));for(let[d,e]of Object.entries(b))c.has(d)?Object.assign(a[d],e):a[d]=e;return a}static getDefaultDrawingOptions(a){R("Not implemented")}static get typesMap(){R("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(a,b){let c=this.typesMap.get(a);c&&this._defaultDrawingOptions.updateProperty(c,b),this._currentParent&&(dI.#gs.updateProperty(c,b),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(a,b){let c=this.constructor.typesMap.get(a);c&&this._updateProperty(a,c,b)}static get defaultPropertiesToUpdate(){let a=[],b=this._defaultDrawingOptions;for(let[c,d]of this.typesMap)a.push([c,b[d]]);return a}get propertiesToUpdate(){let a=[],{_drawingOptions:b}=this;for(let[c,d]of this.constructor.typesMap)a.push([c,b[d]]);return a}_updateProperty(a,b,c){let d=this._drawingOptions,e=d[b],f=c=>{d.updateProperty(b,c);let e=this.#gq.updateProperty(b,c);e&&this.#gB(e),this.parent?.drawLayer.updateProperties(this._drawId,d.toSVGProperties()),a===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:f.bind(this,c),undo:f.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:a,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,dI._mergeSVGProperties(this.#gq.getPathResizingSVGProperties(this.#gC()),{bbox:this.#gD()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,dI._mergeSVGProperties(this.#gq.getPathResizedSVGProperties(this.#gC()),{bbox:this.#gD()}))}_onTranslating(a,b){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#gD()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,dI._mergeSVGProperties(this.#gq.getPathTranslatedSVGProperties(this.#gC(),this.parentDimensions),{bbox:this.#gD()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(a){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#gr&&(this.#gr=!1,this.commit(),this.parent.setSelected(this),a&&this.isOnScreen&&this.div.focus())}remove(){this.#gi(),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#gc(),this.#gB(this.#gq.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(a){let b=!1;this.parent&&!a?(this._uiManager.removeShouldRescale(this),this.#gi()):a&&(this._uiManager.addShouldRescale(this),this.#gc(a),b=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(a),b&&this.select()}#gi(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#gc(a=this.parent){null!==this._drawId&&this.parent===a||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=this.#gA(this.#gq,a)):this.parent.drawLayer.updateParent(this._drawId,a.drawLayer))}#gE([a,b,c,d]){let{parentDimensions:[e,f],rotation:g}=this;switch(g){case 90:return[b,1-a,f/e*c,e/f*d];case 180:return[1-a,1-b,c,d];case 270:return[1-b,a,f/e*c,e/f*d];default:return[a,b,c,d]}}#gC(){let{x:a,y:b,width:c,height:d,parentDimensions:[e,f],rotation:g}=this;switch(g){case 90:return[1-b,a,e/f*c,f/e*d];case 180:return[1-a,1-b,c,d];case 270:return[b,1-a,e/f*c,f/e*d];default:return[a,b,c,d]}}#gB(a){[this.x,this.y,this.width,this.height]=this.#gE(a),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#gD(){let{x:a,y:b,width:c,height:d,rotation:e,parentRotation:f,parentDimensions:[g,h]}=this;switch((4*e+f)/90){case 1:return[1-b-d,a,d,c];case 2:return[1-a-c,1-b-d,c,d];case 3:return[b,1-a-c,d,c];case 4:return[a,b-g/h*c,h/g*d,g/h*c];case 5:return[1-b,a,g/h*c,h/g*d];case 6:return[1-a-h/g*d,1-b,h/g*d,g/h*c];case 7:return[b-g/h*c,1-a-h/g*d,g/h*c,h/g*d];case 8:return[a-c,b-d,c,d];case 9:return[1-b,a-c,d,c];case 10:return[1-a,1-b,c,d];case 11:return[b-d,1-a,d,c];case 12:return[a-h/g*d,b,h/g*d,g/h*c];case 13:return[1-b-g/h*c,a-h/g*d,g/h*c,h/g*d];case 14:return[1-a,1-b-g/h*c,h/g*d,g/h*c];case 15:return[b,1-a,g/h*c,h/g*d];default:return[a,b,c,d]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,dI._mergeSVGProperties({bbox:this.#gD()},this.#gq.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#gB(this.#gq.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){let a,b;if(this.div)return this.div;this._isCopy&&(a=this.x,b=this.y);let c=super.render();c.classList.add("draw");let d=document.createElement("div");return c.append(d),d.setAttribute("aria-hidden","true"),d.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(a,b),c}static createDrawerInstance(a,b,c,d,e){R("Not implemented")}static startDrawing(a,b,c,d){let{target:e,offsetX:f,offsetY:g,pointerId:h,pointerType:i}=d;if(dI.#gw&&dI.#gw!==i)return;let{viewport:{rotation:j}}=a,{width:k,height:l}=e.getBoundingClientRect(),m=dI.#gt=new AbortController,n=a.combinedSignal(m);dI.#gv||=h,dI.#gw??=i,window.addEventListener("pointerup",a=>{dI.#gv===a.pointerId?this._endDraw(a):dI.#gx?.delete(a.pointerId)},{signal:n}),window.addEventListener("pointercancel",a=>{dI.#gv===a.pointerId?this._currentParent.endDrawingSession():dI.#gx?.delete(a.pointerId)},{signal:n}),window.addEventListener("pointerdown",a=>{dI.#gw===a.pointerType&&((dI.#gx||=new Set).add(a.pointerId),dI.#gs.isCancellable()&&(dI.#gs.removeLastElement(),dI.#gs.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:n}),window.addEventListener("contextmenu",aA,{signal:n}),e.addEventListener("pointermove",this._drawMove.bind(this),{signal:n}),e.addEventListener("touchmove",a=>{a.timeStamp===dI.#gy&&aB(a)},{signal:n}),a.toggleDrawing(),b._editorUndoBar?.hide(),dI.#gs?a.drawLayer.updateProperties(this._currentDrawId,dI.#gs.startNew(f,g,k,l,j)):(b.updateUIForDefaultProperties(this),dI.#gs=this.createDrawerInstance(f,g,k,l,j),dI.#gu=this.getDefaultDrawingOptions(),this._currentParent=a,{id:this._currentDrawId}=a.drawLayer.draw(this._mergeSVGProperties(dI.#gu.toSVGProperties(),dI.#gs.defaultSVGProperties),!0,!1))}static _drawMove(a){if(dI.#gy=-1,!dI.#gs)return;let{offsetX:b,offsetY:c,pointerId:d}=a;dI.#gv===d&&(dI.#gx?.size>=1?this._endDraw(a):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,dI.#gs.add(b,c)),dI.#gy=a.timeStamp,aB(a)))}static _cleanup(a){a&&(this._currentDrawId=-1,this._currentParent=null,dI.#gs=null,dI.#gu=null,dI.#gw=null,dI.#gy=NaN),dI.#gt&&(dI.#gt.abort(),dI.#gt=null,dI.#gv=NaN,dI.#gx=null)}static _endDraw(a){let b=this._currentParent;if(b){if(b.toggleDrawing(!0),this._cleanup(!1),a?.target===b.div&&b.drawLayer.updateProperties(this._currentDrawId,dI.#gs.end(a.offsetX,a.offsetY)),this.supportMultipleDrawings){let a=dI.#gs,c=this._currentDrawId,d=a.getLastElement();return void b.addCommands({cmd:()=>{b.drawLayer.updateProperties(c,a.setLastElement(d))},undo:()=>{b.drawLayer.updateProperties(c,a.removeLastElement())},mustExec:!1,type:H.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(a){let b=this._currentParent;if(!b)return null;if(b.toggleDrawing(!0),b.cleanUndoStack(H.DRAW_STEP),!dI.#gs.isEmpty()){let{pageDimensions:[c,d],scale:e}=b,f=b.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:dI.#gs.getOutlines(c*e,d*e,e,this._INNER_MARGIN),drawingOptions:dI.#gu,mustBeCommitted:!a});return this._cleanup(!0),f}return b.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(a){}static deserializeDraw(a,b,c,d,e,f){R("Not implemented")}static async deserialize(a,b,c){let{rawDims:{pageWidth:d,pageHeight:e,pageX:f,pageY:g}}=b.viewport,h=this.deserializeDraw(f,g,d,e,this._INNER_MARGIN,a),i=await super.deserialize(a,b,c);return i.createDrawingOptions(a),i.#gz({drawOutlines:h}),i.#gc(),i.onScaleChanging(),i.rotate(),i}serializeDraw(a){let[b,c]=this.pageTranslation,[d,e]=this.pageDimensions;return this.#gq.serialize([b,c,d,e],a)}renderAnnotationElement(a){return a.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class dJ{#fw=new Float64Array(6);#e0;#gF;#dC;#fC;#fD;#gG="";#gH=0;#f$=new dK;#gI;#gJ;constructor(a,b,c,d,e,f){this.#gI=c,this.#gJ=d,this.#dC=e,this.#fC=f,[a,b]=this.#gK(a,b);let g=this.#e0=[NaN,NaN,NaN,NaN,a,b];this.#fD=[a,b],this.#gF=[{line:g,points:this.#fD}],this.#fw.set(g,0)}updateProperty(a,b){"stroke-width"===a&&(this.#fC=b)}#gK(a,b){return dz._normalizePoint(a,b,this.#gI,this.#gJ,this.#dC)}isEmpty(){return!this.#gF||0===this.#gF.length}isCancellable(){return this.#fD.length<=10}add(a,b){[a,b]=this.#gK(a,b);let[c,d,e,f]=this.#fw.subarray(2,6),g=a-e,h=b-f;return 2>=Math.hypot(this.#gI*g,this.#gJ*h)?null:(this.#fD.push(a,b),isNaN(c)?(this.#fw.set([e,f,a,b],2),this.#e0.push(NaN,NaN,NaN,NaN,a,b)):(isNaN(this.#fw[0])&&this.#e0.splice(6,6),this.#fw.set([c,d,e,f,a,b],0),this.#e0.push(...dz.createBezierPoints(c,d,e,f,a,b))),{path:{d:this.toSVGPath()}})}end(a,b){return this.add(a,b)||(2===this.#fD.length?{path:{d:this.toSVGPath()}}:null)}startNew(a,b,c,d,e){this.#gI=c,this.#gJ=d,this.#dC=e,[a,b]=this.#gK(a,b);let f=this.#e0=[NaN,NaN,NaN,NaN,a,b];this.#fD=[a,b];let g=this.#gF.at(-1);return g&&(g.line=new Float32Array(g.line),g.points=new Float32Array(g.points)),this.#gF.push({line:f,points:this.#fD}),this.#fw.set(f,0),this.#gH=0,this.toSVGPath(),null}getLastElement(){return this.#gF.at(-1)}setLastElement(a){return this.#gF?(this.#gF.push(a),this.#e0=a.line,this.#fD=a.points,this.#gH=0,{path:{d:this.toSVGPath()}}):this.#f$.setLastElement(a)}removeLastElement(){if(!this.#gF)return this.#f$.removeLastElement();this.#gF.pop(),this.#gG="";for(let a=0,b=this.#gF.length;a<b;a++){let{line:b,points:c}=this.#gF[a];this.#e0=b,this.#fD=c,this.#gH=0,this.toSVGPath()}return{path:{d:this.#gG}}}toSVGPath(){let a=dz.svgRound(this.#e0[4]),b=dz.svgRound(this.#e0[5]);if(2===this.#fD.length)return this.#gG=`${this.#gG} M ${a} ${b} Z`,this.#gG;if(this.#fD.length<=6){let c=this.#gG.lastIndexOf("M");this.#gG=`${this.#gG.slice(0,c)} M ${a} ${b}`,this.#gH=6}if(4===this.#fD.length){let a=dz.svgRound(this.#e0[10]),b=dz.svgRound(this.#e0[11]);return this.#gG=`${this.#gG} L ${a} ${b}`,this.#gH=12,this.#gG}let c=[];0===this.#gH&&(c.push(`M ${a} ${b}`),this.#gH=6);for(let a=this.#gH,b=this.#e0.length;a<b;a+=6){let[b,d,e,f,g,h]=this.#e0.slice(a,a+6).map(dz.svgRound);c.push(`C${b} ${d} ${e} ${f} ${g} ${h}`)}return this.#gG+=c.join(" "),this.#gH=this.#e0.length,this.#gG}getOutlines(a,b,c,d){let e=this.#gF.at(-1);return e.line=new Float32Array(e.line),e.points=new Float32Array(e.points),this.#f$.build(this.#gF,a,b,c,this.#dC,this.#fC,d),this.#fw=null,this.#e0=null,this.#gF=null,this.#gG=null,this.#f$}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class dK extends dz{#fO;#gL=0;#ft;#gF;#gI;#gJ;#gM;#dC;#fC;build(a,b,c,d,e,f,g){this.#gI=b,this.#gJ=c,this.#gM=d,this.#dC=e,this.#fC=f,this.#ft=g??0,this.#gF=a,this.#gN()}get thickness(){return this.#fC}setLastElement(a){return this.#gF.push(a),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#gF.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){let a=[];for(let{line:b}of this.#gF)if(a.push(`M${dz.svgRound(b[4])} ${dz.svgRound(b[5])}`),6!==b.length)if(12===b.length&&isNaN(b[6]))a.push(`L${dz.svgRound(b[10])} ${dz.svgRound(b[11])}`);else for(let c=6,d=b.length;c<d;c+=6){let[d,e,f,g,h,i]=b.subarray(c,c+6).map(dz.svgRound);a.push(`C${d} ${e} ${f} ${g} ${h} ${i}`)}else a.push("Z");return a.join("")}serialize([a,b,c,d],e){let f,g,h,i,j,k,l,m,n,o=[],p=[],[q,r,s,u]=this.#gO();switch(this.#dC){case 0:n=dz._rescale,f=a,g=b+d,h=c,i=-d,j=a+q*c,k=b+(1-r-u)*d,l=a+(q+s)*c,m=b+(1-r)*d;break;case 90:n=dz._rescaleAndSwap,f=a,g=b,h=c,i=d,j=a+r*c,k=b+q*d,l=a+(r+u)*c,m=b+(q+s)*d;break;case 180:n=dz._rescale,f=a+c,g=b,h=-c,i=d,j=a+(1-q-s)*c,k=b+r*d,l=a+(1-q)*c,m=b+(r+u)*d;break;case 270:n=dz._rescaleAndSwap,f=a+c,g=b+d,h=-c,i=-d,j=a+(1-r-u)*c,k=b+(1-q-s)*d,l=a+(1-r)*c,m=b+(1-q)*d}for(let{line:a,points:b}of this.#gF)o.push(n(a,f,g,h,i,e?Array(a.length):null)),p.push(n(b,f,g,h,i,e?Array(b.length):null));return{lines:o,points:p,rect:[j,k,l,m]}}static deserialize(a,b,c,d,e,{paths:{lines:f,points:g},rotation:h,thickness:i}){let j,k,l,m,n,o=[];switch(h){case 0:n=dz._rescale,j=-a/c,k=b/d+1,l=1/c,m=-1/d;break;case 90:n=dz._rescaleAndSwap,j=-b/d,k=-a/c,l=1/d,m=1/c;break;case 180:n=dz._rescale,j=a/c+1,k=-b/d,l=-1/c,m=1/d;break;case 270:n=dz._rescaleAndSwap,j=b/d+1,k=a/c+1,l=-1/d,m=-1/c}if(!f)for(let a of(f=[],g)){let b=a.length;if(2===b){f.push(new Float32Array([NaN,NaN,NaN,NaN,a[0],a[1]]));continue}if(4===b){f.push(new Float32Array([NaN,NaN,NaN,NaN,a[0],a[1],NaN,NaN,NaN,NaN,a[2],a[3]]));continue}let c=new Float32Array(3*(b-2));f.push(c);let[d,e,g,h]=a.subarray(0,4);c.set([NaN,NaN,NaN,NaN,d,e],0);for(let f=4;f<b;f+=2){let b=a[f],i=a[f+1];c.set(dz.createBezierPoints(d,e,g,h,b,i),3*(f-2)),[d,e,g,h]=[g,h,b,i]}}for(let a=0,b=f.length;a<b;a++)o.push({line:n(f[a].map(a=>a??NaN),j,k,l,m),points:n(g[a].map(a=>a??NaN),j,k,l,m)});let p=new this.prototype.constructor;return p.build(o,c,d,1,h,i,e),p}#gP(a=this.#fC){let b=this.#ft+a/2*this.#gM;return this.#dC%180==0?[b/this.#gI,b/this.#gJ]:[b/this.#gJ,b/this.#gI]}#gO(){let[a,b,c,d]=this.#fO,[e,f]=this.#gP(0);return[a+e,b+f,c-2*e,d-2*f]}#gN(){let a=this.#fO=new Float32Array([1/0,1/0,-1/0,-1/0]);for(let{line:b}of this.#gF){if(b.length<=12){for(let c=4,d=b.length;c<d;c+=6)af.pointBoundingBox(b[c],b[c+1],a);continue}let c=b[4],d=b[5];for(let e=6,f=b.length;e<f;e+=6){let[f,g,h,i,j,k]=b.subarray(e,e+6);af.bezierBoundingBox(c,d,f,g,h,i,j,k,a),c=j,d=k}}let[b,c]=this.#gP();a[0]=al(a[0]-b,0,1),a[1]=al(a[1]-c,0,1),a[2]=al(a[2]+b,0,1),a[3]=al(a[3]+c,0,1),a[2]-=a[0],a[3]-=a[1]}get box(){return this.#fO}updateProperty(a,b){return"stroke-width"===a?this.#gf(b):null}#gf(a){let[b,c]=this.#gP();this.#fC=a;let[d,e]=this.#gP(),[f,g]=[d-b,e-c],h=this.#fO;return h[0]-=f,h[1]-=g,h[2]+=2*f,h[3]+=2*g,h}updateParentDimensions([a,b],c){let[d,e]=this.#gP();this.#gI=a,this.#gJ=b,this.#gM=c;let[f,g]=this.#gP(),h=f-d,i=g-e,j=this.#fO;return j[0]-=h,j[1]-=i,j[2]+=2*h,j[3]+=2*i,j}updateRotation(a){return this.#gL=a,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#fO.map(dz.svgRound).join(" ")}get defaultProperties(){let[a,b]=this.#fO;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dz.svgRound(a)} ${dz.svgRound(b)}`}}}get rotationTransform(){let[,,a,b]=this.#fO,c=0,d=0,e=0,f=0,g=0,h=0;switch(this.#gL){case 90:d=b/a,e=-a/b,g=a;break;case 180:c=-1,f=-1,g=a,h=b;break;case 270:d=-b/a,e=a/b,h=b;break;default:return""}return`matrix(${c} ${d} ${e} ${f} ${dz.svgRound(g)} ${dz.svgRound(h)})`}getPathResizingSVGProperties([a,b,c,d]){let[e,f]=this.#gP(),[g,h,i,j]=this.#fO;if(Math.abs(i-e)<=dz.PRECISION||Math.abs(j-f)<=dz.PRECISION){let e=a+c/2-(g+i/2),f=b+d/2-(h+j/2);return{path:{"transform-origin":`${dz.svgRound(a)} ${dz.svgRound(b)}`,transform:`${this.rotationTransform} translate(${e} ${f})`}}}let k=(c-2*e)/(i-2*e),l=(d-2*f)/(j-2*f);return{path:{"transform-origin":`${dz.svgRound(g)} ${dz.svgRound(h)}`,transform:`${this.rotationTransform} scale(${i/c} ${j/d}) translate(${dz.svgRound(e)} ${dz.svgRound(f)}) scale(${k} ${l}) translate(${dz.svgRound(-e)} ${dz.svgRound(-f)})`}}}getPathResizedSVGProperties([a,b,c,d]){let[e,f]=this.#gP(),g=this.#fO,[h,i,j,k]=g;if(g[0]=a,g[1]=b,g[2]=c,g[3]=d,Math.abs(j-e)<=dz.PRECISION||Math.abs(k-f)<=dz.PRECISION){let e=a+c/2-(h+j/2),f=b+d/2-(i+k/2);for(let{line:a,points:b}of this.#gF)dz._translate(a,e,f,a),dz._translate(b,e,f,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dz.svgRound(a)} ${dz.svgRound(b)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}let l=(c-2*e)/(j-2*e),m=(d-2*f)/(k-2*f),n=-l*(h+e)+a+e,o=-m*(i+f)+b+f;if(1!==l||1!==m||0!==n||0!==o)for(let{line:a,points:b}of this.#gF)dz._rescale(a,n,o,l,m,a),dz._rescale(b,n,o,l,m,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dz.svgRound(a)} ${dz.svgRound(b)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([a,b],c){let[d,e]=c,f=this.#fO,g=a-f[0],h=b-f[1];if(this.#gI===d&&this.#gJ===e)for(let{line:a,points:b}of this.#gF)dz._translate(a,g,h,a),dz._translate(b,g,h,b);else{let a=this.#gI/d,b=this.#gJ/e;for(let{line:c,points:f}of(this.#gI=d,this.#gJ=e,this.#gF))dz._rescale(c,g,h,a,b,c),dz._rescale(f,g,h,a,b,f);f[2]*=a,f[3]*=b}return f[0]=a,f[1]=b,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${dz.svgRound(a)} ${dz.svgRound(b)}`}}}get defaultSVGProperties(){let a=this.#fO;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${dz.svgRound(a[0])} ${dz.svgRound(a[1])}`,transform:this.rotationTransform||null},bbox:a}}}class dL extends dH{constructor(a){super(),this._viewParameters=a,super.updateProperties({fill:"none",stroke:a4._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(a,b){"stroke-width"===a&&(b??=this["stroke-width"],b*=this._viewParameters.realScale),super.updateSVGProperty(a,b)}clone(){let a=new dL(this._viewParameters);return a.updateAll(this),a}}class dM extends dI{static _type="ink";static _editorType=G.INK;static _defaultDrawingOptions=null;constructor(a){super({...a,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(a,b){a4.initialize(a,b),this._defaultDrawingOptions=new dL(b.viewParameters)}static getDefaultDrawingOptions(a){let b=this._defaultDrawingOptions.clone();return b.updateProperties(a),b}static get supportMultipleDrawings(){return!0}static get typesMap(){return V(this,"typesMap",new Map([[H.INK_THICKNESS,"stroke-width"],[H.INK_COLOR,"stroke"],[H.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(a,b,c,d,e){return new dJ(a,b,c,d,e,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(a,b,c,d,e,f){return dK.deserialize(a,b,c,d,e,f)}static async deserialize(a,b,c){let d=null;if(a instanceof dp){let{data:{inkLists:b,rect:c,rotation:e,id:f,color:g,opacity:h,borderStyle:{rawWidth:i},popupRef:j,richText:k,contentsObj:l,creationDate:m,modificationDate:n},parent:{page:{pageNumber:o}}}=a;d=a={annotationType:G.INK,color:Array.from(g),thickness:i,opacity:h,paths:{points:b},boxes:null,pageIndex:o-1,rect:c.slice(0),rotation:e,annotationElementId:f,id:f,deleted:!1,popupRef:j,richText:k,comment:l?.str||null,creationDate:m,modificationDate:n}}let e=await super.deserialize(a,b,c);return e._initialData=d,a.comment&&e.setCommentData(a),e}get toolbarButtons(){return this._colorPicker||=new cX(this),[["colorPicker",this._colorPicker]]}get colorType(){return H.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();let{_drawId:a,_drawingOptions:b,parent:c}=this;b.updateSVGProperty("stroke-width"),c.drawLayer.updateProperties(a,b.toSVGProperties())}static onScaleChangingWhenDrawing(){let a=this._currentParent;a&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),a.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:a,thickness:b,opacity:c}){this._drawingOptions=dM.getDefaultDrawingOptions({stroke:af.makeHexColor(...a),"stroke-width":b,"stroke-opacity":c})}serialize(a=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let{lines:b,points:c}=this.serializeDraw(a),{_drawingOptions:{stroke:d,"stroke-opacity":e,"stroke-width":f}}=this,g=Object.assign(super.serialize(a),{color:a4._colorManager.convert(d),opacity:e,thickness:f,paths:{lines:b,points:c}});return this.addComment(g),a?(g.isCopy=!0,g):this.annotationElementId&&!this.#fq(g)?null:(g.id=this.annotationElementId,g)}#fq(a){let{color:b,thickness:c,opacity:d,pageIndex:e}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||a.color.some((a,c)=>a!==b[c])||a.thickness!==c||a.opacity!==d||a.pageIndex!==e}renderAnnotationElement(a){if(this.deleted)return a.hide(),null;let{points:b,rect:c}=this.serializeDraw(!1);return a.updateEdited({rect:c,thickness:this._drawingOptions["stroke-width"],points:b,popup:this.comment}),null}}class dN extends dK{toSVGPath(){let a=super.toSVGPath();return a.endsWith("Z")||(a+="Z"),a}}class dO{static #gQ={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static #gR(a,b,c,d){return d-=b,0==(c-=a)?d>0?0:4:1===c?d+6:2-d}static #gS=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static #gT(a,b,c,d,e,f,g){let h=this.#gR(c,d,e,f);for(let e=0;e<8;e++){let f=(-e+h-g+16)%8;if(0!==a[(c+this.#gS[2*f])*b+(d+this.#gS[2*f+1])])return f}return -1}static #gU(a,b,c,d,e,f,g){let h=this.#gR(c,d,e,f);for(let e=0;e<8;e++){let f=(e+h+g+16)%8;if(0!==a[(c+this.#gS[2*f])*b+(d+this.#gS[2*f+1])])return f}return -1}static #gV(a,b,c,d){let e=a.length,f=new Int32Array(e);for(let b=0;b<e;b++)f[b]=+(a[b]<=d);for(let a=1;a<c-1;a++)f[a*b]=f[a*b+b-1]=0;for(let a=0;a<b;a++)f[a]=f[b*c-1-a]=0;let g,h=1,i=[];for(let a=1;a<c-1;a++){g=1;for(let c=1;c<b-1;c++){let d,e=a*b+c,j=f[e];if(0===j)continue;let k=a,l=c;if(1===j&&0===f[e-1])h+=1,l-=1;else{if(!(j>=1&&0===f[e+1])){1!==j&&(g=Math.abs(j));continue}h+=1,l+=1,j>1&&(g=j)}let m=[c,a],n=l===c+1,o={isHole:n,points:m,id:h,parent:0};for(let a of(i.push(o),i))if(a.id===g){d=a;break}d?d.isHole?o.parent=n?d.parent:g:o.parent=n?g:d.parent:o.parent=n?g:0;let p=this.#gT(f,b,a,c,k,l,0);if(-1===p){f[e]=-h,1!==f[e]&&(g=Math.abs(f[e]));continue}let q=this.#gS[2*p],r=this.#gS[2*p+1],s=a+q,u=c+r;k=s,l=u;let v=a,w=c;for(;;){let d=this.#gU(f,b,v,w,k,l,1);q=this.#gS[2*d],r=this.#gS[2*d+1];let i=v+q,j=w+r;m.push(j,i);let n=v*b+w;if(0===f[n+1]?f[n]=-h:1===f[n]&&(f[n]=h),i===a&&j===c&&v===s&&w===u){1!==f[e]&&(g=Math.abs(f[e]));break}k=v,l=w,v=i,w=j}}}return i}static #gW(a,b,c,d){if(c-b<=4){for(let e=b;e<c-2;e+=2)d.push(a[e],a[e+1]);return}let e=a[b],f=a[b+1],g=a[c-4]-e,h=a[c-3]-f,i=Math.hypot(g,h),j=g/i,k=h/i,l=j*f-k*e,m=1/i,n=Math.atan(h/g),o=Math.cos(n),p=Math.sin(n),q=m*(Math.abs(o)+Math.abs(p)),r=m*(1-q+q**2),s=Math.max(Math.atan(Math.abs(p+o)*r),Math.atan(Math.abs(p-o)*r)),u=0,v=b;for(let d=b+2;d<c-2;d+=2){let b=Math.abs(l-j*a[d+1]+k*a[d]);b>u&&(v=d,u=b)}u>(i*s)**2?(this.#gW(a,b,v+2,d),this.#gW(a,v,c,d)):d.push(e,f)}static #gX(a){let b=[],c=a.length;return this.#gW(a,0,c,b),b.push(a[c-2],a[c-1]),b.length<=4?null:b}static #gY(a,b,c,d,e,f){let g=new Float32Array(f**2),h=-2*d**2,i=f>>1;for(let a=0;a<f;a++){let b=(a-i)**2;for(let c=0;c<f;c++)g[a*f+c]=Math.exp((b+(c-i)**2)/h)}let j=new Float32Array(256),k=-2*e**2;for(let a=0;a<256;a++)j[a]=Math.exp(a**2/k);let l=new Uint8Array(a.length),m=new Uint32Array(256);for(let d=0;d<c;d++)for(let e=0;e<b;e++){let h=d*b+e,k=a[h],n=0,o=0;for(let h=0;h<f;h++){let l=d+h-i;if(!(l<0||l>=c))for(let c=0;c<f;c++){let d=e+c-i;if(d<0||d>=b)continue;let m=a[l*b+d],p=g[h*f+c]*j[Math.abs(m-k)];n+=m*p,o+=p}}m[l[h]=Math.round(n/o)]++}return[l,m]}static #gZ(a){let b=new Uint32Array(256);for(let c of a)b[c]++;return b}static #g$(a){let b=new Uint8ClampedArray(a.length>>2),c=-1/0,d=1/0;for(let e=0,f=b.length;e<f;e++){let f=b[e]=a[e<<2];c=Math.max(c,f),d=Math.min(d,f)}let e=255/(c-d);for(let a=0,c=b.length;a<c;a++)b[a]=(b[a]-d)*e;return b}static #g_(a){let b,c=-1/0,d=-1/0,e=a.findIndex(a=>0!==a),f=e,g=e;for(b=e;b<256;b++){let e=a[b];e>c&&(b-f>d&&(d=b-f,g=b-1),c=e,f=b)}for(b=g-1;b>=0&&!(a[b]>a[b+1]);b--);return b}static #g0(a){let b=a,{width:c,height:d}=a,{maxDim:e}=this.#gQ,f=c,g=d;if(c>e||d>e){let h=c,i=d,j=Math.log2(Math.max(c,d)/e),k=Math.floor(j);j=j===k?k-1:k;for(let c=0;c<j;c++){let c=new OffscreenCanvas(f=Math.ceil(h/2),g=Math.ceil(i/2));c.getContext("2d").drawImage(a,0,0,h,i,0,0,f,g),h=f,i=g,a!==b&&a.close(),a=c.transferToImageBitmap()}let l=Math.min(e/f,e/g);f=Math.round(f*l),g=Math.round(g*l)}let h=new OffscreenCanvas(f,g).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,f,g),h.filter="grayscale(1)",h.drawImage(a,0,0,a.width,a.height,0,0,f,g);let i=h.getImageData(0,0,f,g).data;return[this.#g$(i),f,g]}static extractContoursFromText(a,{fontFamily:b,fontStyle:c,fontWeight:d},e,f,g,h){let i=new OffscreenCanvas(1,1),j=i.getContext("2d",{alpha:!1}),k=j.font=`${c} ${d} 200px ${b}`,{actualBoundingBoxLeft:l,actualBoundingBoxRight:m,actualBoundingBoxAscent:n,actualBoundingBoxDescent:o,fontBoundingBoxAscent:p,fontBoundingBoxDescent:q,width:r}=j.measureText(a),s=Math.ceil(1.5*Math.max(Math.abs(l)+Math.abs(m)||0,r)),u=Math.ceil(1.5*Math.max(Math.abs(n)+Math.abs(o)||200,Math.abs(p)+Math.abs(q)||200));(j=(i=new OffscreenCanvas(s,u)).getContext("2d",{alpha:!0,willReadFrequently:!0})).font=k,j.filter="grayscale(1)",j.fillStyle="white",j.fillRect(0,0,s,u),j.fillStyle="black",j.fillText(a,.5*s/2,1.5*u/2);let v=this.#g$(j.getImageData(0,0,s,u).data),w=this.#gZ(v),x=this.#g_(w),y=this.#gV(v,s,u,x);return this.processDrawnLines({lines:{curves:y,width:s,height:u},pageWidth:e,pageHeight:f,rotation:g,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(a,b,c,d,e){let[f,g,h]=this.#g0(a),[i,j]=this.#gY(f,g,h,Math.hypot(g,h)*this.#gQ.sigmaSFactor,this.#gQ.sigmaR,this.#gQ.kernelSize),k=this.#g_(j),l=this.#gV(i,g,h,k);return this.processDrawnLines({lines:{curves:l,width:g,height:h},pageWidth:b,pageHeight:c,rotation:d,innerMargin:e,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:a,pageWidth:b,pageHeight:c,rotation:d,innerMargin:e,mustSmooth:f,areContours:g}){d%180!=0&&([b,c]=[c,b]);let{curves:h,width:i,height:j}=a,k=a.thickness??0,l=[],m=Math.min(b/i,c/j),n=m/b,o=m/c,p=[];for(let{points:a}of h){let b=f?this.#gX(a):a;if(!b)continue;p.push(b);let c=b.length,d=new Float32Array(c),e=new Float32Array(3*(2===c?2:c-2));if(l.push({line:e,points:d}),2===c){d[0]=b[0]*n,d[1]=b[1]*o,e.set([NaN,NaN,NaN,NaN,d[0],d[1]],0);continue}let[g,h,i,j]=b;g*=n,h*=o,i*=n,j*=o,d.set([g,h,i,j],0),e.set([NaN,NaN,NaN,NaN,g,h],0);for(let a=4;a<c;a+=2){let c=d[a]=b[a]*n,f=d[a+1]=b[a+1]*o;e.set(dz.createBezierPoints(g,h,i,j,c,f),3*(a-2)),[g,h,i,j]=[i,j,c,f]}}if(0===l.length)return null;let q=g?new dN:new dK;return q.build(l,b,c,1,d,g?0:k,e),{outline:q,newCurves:p,areContours:g,thickness:k,width:i,height:j}}static async compressSignature({outlines:a,areContours:b,thickness:c,width:d,height:e}){let f,g=1/0,h=-1/0,i=0;for(let b of a){i+=b.length;for(let a=2,c=b.length;a<c;a++){let c=b[a]-b[a-2];g=Math.min(g,c),h=Math.max(h,c)}}f=g>=-128&&h<=127?Int8Array:g>=-32768&&h<=32767?Int16Array:Int32Array;let j=a.length,k=8+3*j,l=new Uint32Array(k),m=0;for(let g of(l[m++]=k*Uint32Array.BYTES_PER_ELEMENT+(i-2*j)*f.BYTES_PER_ELEMENT,l[m++]=0,l[m++]=d,l[m++]=e,l[m++]=+!b,l[m++]=Math.max(0,Math.floor(c??0)),l[m++]=j,l[m++]=f.BYTES_PER_ELEMENT,a))l[m++]=g.length-2,l[m++]=g[0],l[m++]=g[1];let n=new CompressionStream("deflate-raw"),o=n.writable.getWriter();await o.ready,o.write(l);let p=f.prototype.constructor;for(let b of a){let a=new p(b.length-2);for(let c=2,d=b.length;c<d;c++)a[c-2]=b[c]-b[c-2];o.write(a)}return o.close(),am(new Uint8Array(await new Response(n.readable).arrayBuffer()))}static async decompressSignature(a){try{let b,c=Uint8Array.fromBase64?Uint8Array.fromBase64(a):ac(atob(a)),{readable:d,writable:e}=new DecompressionStream("deflate-raw"),f=e.getWriter();await f.ready,f.write(c).then(async()=>{await f.ready,await f.close()}).catch(()=>{});let g=null,h=0;for await(let a of d)(g||=new Uint8Array(new Uint32Array(a.buffer,0,4)[0])).set(a,h),h+=a.length;let i=new Uint32Array(g.buffer,0,g.length>>2),j=i[1];if(0!==j)throw Error(`Invalid version: ${j}`);let k=i[2],l=i[3],m=0===i[4],n=i[5],o=i[6],p=i[7],q=[],r=(8+3*o)*Uint32Array.BYTES_PER_ELEMENT;switch(p){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(g.buffer,r);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(g.buffer,r);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(g.buffer,r)}h=0;for(let a=0;a<o;a++){let c=i[3*a+8],d=new Float32Array(c+2);q.push(d);for(let b=0;b<2;b++)d[b]=i[3*a+8+b+1];for(let a=0;a<c;a++)d[a+2]=d[a]+b[h++]}return{areContours:m,thickness:n,outlines:q,width:k,height:l}}catch(a){return Q(`decompressSignature: ${a}`),null}}}class dP extends dH{constructor(){super(),super.updateProperties({fill:a4._defaultLineColor,"stroke-width":0})}clone(){let a=new dP;return a.updateAll(this),a}}class dQ extends dL{constructor(a){super(a),super.updateProperties({stroke:a4._defaultLineColor,"stroke-width":1})}clone(){let a=new dQ(this._viewParameters);return a.updateAll(this),a}}class dR extends dI{#g1=!1;#g2=null;#g3=null;#g4=null;static _type="signature";static _editorType=G.SIGNATURE;static _defaultDrawingOptions=null;constructor(a){super({...a,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#g3=a.signatureData||null,this.#g2=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(a,b){a4.initialize(a,b),this._defaultDrawingOptions=new dP,this._defaultDrawnSignatureOptions=new dQ(b.viewParameters)}static getDefaultDrawingOptions(a){let b=this._defaultDrawingOptions.clone();return b.updateProperties(a),b}static get supportMultipleDrawings(){return!1}static get typesMap(){return V(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#g2}}static computeTelemetryFinalData(a){let b=a.get("hasDescription");return{hasAltText:b.get(!0)??0,hasNoAltText:b.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){let a,b;if(this.div)return this.div;let{_isCopy:c}=this;if(c&&(this._isCopy=!1,a=this.x,b=this.y),super.render(),null===this._drawId)if(this.#g3){let{lines:a,mustSmooth:b,areContours:c,description:d,uuid:e,heightInPage:f}=this.#g3,{rawDims:{pageWidth:g,pageHeight:h},rotation:i}=this.parent.viewport,j=dO.processDrawnLines({lines:a,pageWidth:g,pageHeight:h,rotation:i,innerMargin:dR._INNER_MARGIN,mustSmooth:b,areContours:c});this.addSignature(j,f,d,e)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#g2||""}));return c&&(this._isCopy=!0,this._moveAfterPaste(a,b)),this.div}setUuid(a){this.#g4=a,this.addEditToolbar()}getUuid(){return this.#g4}get description(){return this.#g2}set description(a){this.#g2=a,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:a})),super.addEditToolbar().then(b=>{b?.updateEditSignatureButton(a)}))}getSignaturePreview(){let{newCurves:a,areContours:b,thickness:c,width:d,height:e}=this.#g3,f=Math.max(d,e);return{areContours:b,outline:dO.processDrawnLines({lines:{curves:a.map(a=>({points:a})),thickness:c,width:d,height:e},pageWidth:f,pageHeight:f,rotation:0,innerMargin:0,mustSmooth:!1,areContours:b}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(a,b,c,d){let e,{x:f,y:g}=this,{outline:h}=this.#g3=a;this.#g1=h instanceof dN,this.description=c,this.#g1?e=dR.getDefaultDrawingOptions():(e=dR._defaultDrawnSignatureOptions.clone()).updateProperties({"stroke-width":h.thickness}),this._addOutlines({drawOutlines:h,drawingOptions:e});let[,i]=this.pageDimensions,j=b/i;j=j>=1?.5:j,this.width*=j/this.height,this.width>=1&&(j*=.9/this.width,this.width=.9),this.height=j,this.setDims(),this.x=f,this.y=g,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(d),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!d,hasDescription:!!c}}),this.div.hidden=!1}getFromImage(a){let{rawDims:{pageWidth:b,pageHeight:c},rotation:d}=this.parent.viewport;return dO.process(a,b,c,d,dR._INNER_MARGIN)}getFromText(a,b){let{rawDims:{pageWidth:c,pageHeight:d},rotation:e}=this.parent.viewport;return dO.extractContoursFromText(a,b,c,d,e,dR._INNER_MARGIN)}getDrawnSignature(a){let{rawDims:{pageWidth:b,pageHeight:c},rotation:d}=this.parent.viewport;return dO.processDrawnLines({lines:a,pageWidth:b,pageHeight:c,rotation:d,innerMargin:dR._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:a,thickness:b}){a?this._drawingOptions=dR.getDefaultDrawingOptions():(this._drawingOptions=dR._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":b}))}serialize(a=!1){if(this.isEmpty())return null;let{lines:b,points:c}=this.serializeDraw(a),{_drawingOptions:{"stroke-width":d}}=this,e=Object.assign(super.serialize(a),{isSignature:!0,areContours:this.#g1,color:[0,0,0],thickness:this.#g1?0:d});return this.addComment(e),a?(e.paths={lines:b,points:c},e.uuid=this.#g4,e.isCopy=!0):e.lines=b,this.#g2&&(e.accessibilityData={type:"Figure",alt:this.#g2}),e}static deserializeDraw(a,b,c,d,e,f){return f.areContours?dN.deserialize(a,b,c,d,e,f):dK.deserialize(a,b,c,d,e,f)}static async deserialize(a,b,c){let d=await super.deserialize(a,b,c);return d.#g1=a.areContours,d.description=a.accessibilityData?.alt||"",d.#g4=a.uuid,d}}class dS extends a4{#g5=null;#g6=null;#g7=null;#g8=null;#g9=null;#ha="";#hb=null;#hc=!1;#hd=null;#he=!1;#hf=!1;static _type="stamp";static _editorType=G.STAMP;constructor(a){super({...a,name:"stampEditor"}),this.#g8=a.bitmapUrl,this.#g9=a.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(a,b){a4.initialize(a,b)}static isHandlingMimeForPasting(a){return aJ.includes(a)}static paste(a,b){b.pasteEditor({mode:G.STAMP},{bitmapFile:a.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(a){let b=a.get("hasAltText");return{hasAltText:b.get(!0)??0,hasNoAltText:b.get(!1)??0}}#hg(a,b=!1){a?(this.#g5=a.bitmap,b||(this.#g6=a.id,this.#he=a.isSvg),a.file&&(this.#ha=a.file.name),this.#hh()):this.remove()}#hi(){if(this.#g7=null,this._uiManager.enableWaiting(!1),this.#hb)if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#g5)this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#g5){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(a=null,b=!0){if(this.hasAltTextData())return null;let{mlManager:c}=this._uiManager;if(!c)throw Error("No ML.");if(!await c.isEnabledFor("altText"))throw Error("ML isn't enabled for alt text.");let{data:d,width:e,height:f}=a||this.copyCanvas(null,null,!0).imageData,g=await c.guess({name:"altText",request:{data:d,width:e,height:f,channels:d.length/(e*f)}});if(!g)throw Error("No response from the AI service.");if(g.error)throw Error("Error from the AI service.");if(g.cancel)return null;if(!g.output)throw Error("No valid response from the AI service.");let h=g.output;return await this.setGuessedAltText(h),b&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#hj(){if(this.#g6)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#g6).then(a=>this.#hg(a,!0)).finally(()=>this.#hi());if(this.#g8){let a=this.#g8;return this.#g8=null,this._uiManager.enableWaiting(!0),void(this.#g7=this._uiManager.imageManager.getFromUrl(a).then(a=>this.#hg(a)).finally(()=>this.#hi()))}if(this.#g9){let a=this.#g9;return this.#g9=null,this._uiManager.enableWaiting(!0),void(this.#g7=this._uiManager.imageManager.getFromFile(a).then(a=>this.#hg(a)).finally(()=>this.#hi()))}let a=document.createElement("input");a.type="file",a.accept=aJ.join(",");let b=this._uiManager._signal;this.#g7=new Promise(c=>{a.addEventListener("change",async()=>{if(a.files&&0!==a.files.length){this._uiManager.enableWaiting(!0);let b=await this._uiManager.imageManager.getFromFile(a.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#hg(b)}else this.remove();c()},{signal:b}),a.addEventListener("cancel",()=>{this.remove(),c()},{signal:b})}).finally(()=>this.#hi()),a.click()}remove(){this.#g6&&(this.#g5=null,this._uiManager.imageManager.deleteId(this.#g6),this.#hb?.remove(),this.#hb=null,this.#hd&&(clearTimeout(this.#hd),this.#hd=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#g6&&null===this.#hb&&this.#hj(),this.isAttachedToDOM||this.parent.add(this))):this.#g6&&this.#hj()}onceAdded(a){this._isDraggable=!0,a&&this.div.focus()}isEmpty(){return!(this.#g7||this.#g5||this.#g8||this.#g9||this.#g6||this.#hc)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){let a,b;return this.div||(this._isCopy&&(a=this.x,b=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#hc||(this.#g5?this.#hh():this.#hj()),this._isCopy&&this._moveAfterPaste(a,b),this._uiManager.addShouldRescale(this)),this.div}setCanvas(a,b){let{id:c,bitmap:d}=this._uiManager.imageManager.getFromCanvas(a,b);b.remove(),c&&this._uiManager.imageManager.isValidId(c)&&(this.#g6=c,d&&(this.#g5=d),this.#hc=!1,this.#hh())}_onResized(){this.onScaleChanging()}onScaleChanging(){this.parent&&(null!==this.#hd&&clearTimeout(this.#hd),this.#hd=setTimeout(()=>{this.#hd=null,this.#hk()},200))}#hh(){let{div:a}=this,{width:b,height:c}=this.#g5,[d,e]=this.pageDimensions;if(this.width)b=this.width*d,c=this.height*e;else if(b>.75*d||c>.75*e){let a=Math.min(.75*d/b,.75*e/c);b*=a,c*=a}this._uiManager.enableWaiting(!1);let f=this.#hb=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=b/d,this.height=c/e,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(a.hidden=!1),this.#hk(),this.#hf||(this.parent.addUndoableEditor(this),this.#hf=!0),this._reportTelemetry({action:"inserted_image"}),this.#ha&&this.div.setAttribute("aria-description",this.#ha),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(a,b,c=!1){a||(a=224);let{width:d,height:e}=this.#g5,f=new aI,g=this.#g5,h=d,i=e,j=null;if(b){if(d>b||e>b){let a=Math.min(b/d,b/e);h=Math.floor(d*a),i=Math.floor(e*a)}let a=(j=document.createElement("canvas")).width=Math.ceil(h*f.sx),c=j.height=Math.ceil(i*f.sy);this.#he||(g=this.#hl(a,c));let k=j.getContext("2d");k.filter=this._uiManager.hcmFilter;let l="white",m="#cfcfd8";"none"!==this._uiManager.hcmFilter?m="black":aK.isDarkMode&&(l="#8f8f9d",m="#42414d");let n=15*f.sx,o=15*f.sy,p=new OffscreenCanvas(2*n,2*o),q=p.getContext("2d");q.fillStyle=l,q.fillRect(0,0,2*n,2*o),q.fillStyle=m,q.fillRect(0,0,n,o),q.fillRect(n,o,n,o),k.fillStyle=k.createPattern(p,"repeat"),k.fillRect(0,0,a,c),k.drawImage(g,0,0,g.width,g.height,0,0,a,c)}let k=null;if(c){let b,c;if(f.symmetric&&g.width<a&&g.height<a)b=g.width,c=g.height;else if(g=this.#g5,d>a||e>a){let f=Math.min(a/d,a/e);b=Math.floor(d*f),c=Math.floor(e*f),this.#he||(g=this.#hl(b,c))}let h=new OffscreenCanvas(b,c).getContext("2d",{willReadFrequently:!0});h.drawImage(g,0,0,g.width,g.height,0,0,b,c),k={width:b,height:c,data:h.getImageData(0,0,b,c).data}}return{canvas:j,width:h,height:i,imageData:k}}#hl(a,b){let{width:c,height:d}=this.#g5,e=c,f=d,g=this.#g5;for(;e>2*a||f>2*b;){let c=e,d=f;e>2*a&&(e=e>=16384?Math.floor(e/2)-1:Math.ceil(e/2)),f>2*b&&(f=f>=16384?Math.floor(f/2)-1:Math.ceil(f/2));let h=new OffscreenCanvas(e,f);h.getContext("2d").drawImage(g,0,0,c,d,0,0,e,f),g=h.transferToImageBitmap()}return g}#hk(){let[a,b]=this.parentDimensions,{width:c,height:d}=this,e=new aI,f=Math.ceil(c*a*e.sx),g=Math.ceil(d*b*e.sy),h=this.#hb;if(!h||h.width===f&&h.height===g)return;h.width=f,h.height=g;let i=this.#he?this.#g5:this.#hl(f,g),j=h.getContext("2d");j.filter=this._uiManager.hcmFilter,j.drawImage(i,0,0,i.width,i.height,0,0,f,g)}#hm(a){if(a){if(this.#he){let a=this._uiManager.imageManager.getSvgUrl(this.#g6);if(a)return a}let a=document.createElement("canvas");return{width:a.width,height:a.height}=this.#g5,a.getContext("2d").drawImage(this.#g5,0,0),a.toDataURL()}if(this.#he){let[a,b]=this.pageDimensions,c=Math.round(this.width*a*aq.PDF_TO_CSS_UNITS),d=Math.round(this.height*b*aq.PDF_TO_CSS_UNITS),e=new OffscreenCanvas(c,d);return e.getContext("2d").drawImage(this.#g5,0,0,this.#g5.width,this.#g5.height,0,0,c,d),e.transferToImageBitmap()}return structuredClone(this.#g5)}static async deserialize(a,b,c){let d=null,e=!1;if(a instanceof du){let f,g,{data:{rect:h,rotation:i,id:j,structParent:k,popupRef:l,richText:m,contentsObj:n,creationDate:o,modificationDate:p},container:q,parent:{page:{pageNumber:r}},canvas:s}=a;s?(delete a.canvas,{id:f,bitmap:g}=c.imageManager.getFromCanvas(q.id,s),s.remove()):(e=!0,a._hasNoCanvas=!0);let u=(await b._structTree.getAriaAttributes(`${ak}${j}`))?.get("aria-label")||"";d=a={annotationType:G.STAMP,bitmapId:f,bitmap:g,pageIndex:r-1,rect:h.slice(0),rotation:i,annotationElementId:j,id:j,deleted:!1,accessibilityData:{decorative:!1,altText:u},isSvg:!1,structParent:k,popupRef:l,richText:m,comment:n?.str||null,creationDate:o,modificationDate:p}}let f=await super.deserialize(a,b,c),{rect:g,bitmap:h,bitmapUrl:i,bitmapId:j,isSvg:k,accessibilityData:l}=a;e?(c.addMissingCanvas(a.id,f),f.#hc=!0):j&&c.imageManager.isValidId(j)?(f.#g6=j,h&&(f.#g5=h)):f.#g8=i,f.#he=k;let[m,n]=f.pageDimensions;return f.width=(g[2]-g[0])/m,f.height=(g[3]-g[1])/n,l&&(f.altTextData=l),f._initialData=d,a.comment&&f.setCommentData(a),f.#hf=!!d,f}serialize(a=!1,b=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let c=Object.assign(super.serialize(a),{bitmapId:this.#g6,isSvg:this.#he});if(this.addComment(c),a)return c.bitmapUrl=this.#hm(!0),c.accessibilityData=this.serializeAltText(!0),c.isCopy=!0,c;let{decorative:d,altText:e}=this.serializeAltText(!1);if(!d&&e&&(c.accessibilityData={type:"Figure",alt:e}),this.annotationElementId){let a=this.#fq(c);return a.isSame?null:(a.isSameAltText?delete c.accessibilityData:c.accessibilityData.structParent=this._initialData.structParent??-1,c.id=this.annotationElementId,delete c.bitmapId,c)}if(null===b)return c;b.stamps||=new Map;let f=this.#he?(c.rect[2]-c.rect[0])*(c.rect[3]-c.rect[1]):null;if(b.stamps.has(this.#g6)){if(this.#he){let a=b.stamps.get(this.#g6);f>a.area&&(a.area=f,a.serialized.bitmap.close(),a.serialized.bitmap=this.#hm(!1))}}else b.stamps.set(this.#g6,{area:f,serialized:c}),c.bitmap=this.#hm(!1);return c}#fq(a){let{pageIndex:b,accessibilityData:{altText:c}}=this._initialData,d=a.pageIndex===b,e=(a.accessibilityData?.alt||"")===c;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&d&&e,isSameAltText:e}}renderAnnotationElement(a){return this.deleted?a.hide():a.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null}}class dT{#e9;#hn=!1;#ho=null;#hp=null;#hq=null;#hr=new Map;#hs=!1;#ht=!1;#hu=!1;#hv=null;#hw=null;#hx=null;#hy=null;#hz=null;#hA=-1;#r;static _initialized=!1;static #T=new Map([dy,dM,dS,dG,dR].map(a=>[a._editorType,a]));constructor({uiManager:a,pageIndex:b,div:c,structTreeLayer:d,accessibilityManager:e,annotationLayer:f,drawLayer:g,textLayer:h,viewport:i,l10n:j}){let k=[...dT.#T.values()];if(!dT._initialized)for(let b of(dT._initialized=!0,k))b.initialize(j,a);a.registerEditorTypes(k),this.#r=a,this.pageIndex=b,this.div=c,this.#e9=e,this.#ho=f,this.viewport=i,this.#hx=h,this.drawLayer=g,this._structTree=d,this.#r.addLayer(this)}get isEmpty(){return 0===this.#hr.size}get isInvisible(){return this.isEmpty&&this.#r.getMode()===G.NONE}updateToolbar(a){this.#r.updateToolbar(a)}updateMode(a=this.#r.getMode()){switch(this.#hB(),a){case G.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case G.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case G.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:b}=this.div;if(b.toggle("nonEditing",!1),a===G.POPUP)b.toggle("commentEditing",!0);else for(let c of(b.toggle("commentEditing",!1),dT.#T.values()))b.toggle(`${c._type}Editing`,a===c._editorType);this.div.hidden=!1}hasTextLayer(a){return a===this.#hx?.div}setEditingState(a){this.#r.setEditingState(a)}addCommands(a){this.#r.addCommands(a)}cleanUndoStack(a){this.#r.cleanUndoStack(a)}toggleDrawing(a=!1){this.div.classList.toggle("drawing",!a)}togglePointerEvents(a=!1){this.div.classList.toggle("disabled",!a)}toggleAnnotationLayerPointerEvents(a=!1){this.#ho?.div.classList.toggle("disabled",!a)}get #hC(){return 0!==this.#hr.size?this.#hr.values():this.#r.getEditors(this.pageIndex)}async enable(){this.#hu=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#hz?.abort(),this.#hz=null;let a=new Set;for(let b of this.#hC)b.enableEditing(),b.show(!0),b.annotationElementId&&(this.#r.removeChangedExistingAnnotation(b),a.add(b.annotationElementId));let b=this.#ho;if(b)for(let c of b.getEditableAnnotations()){if(c.hide(),this.#r.isDeletedAnnotationElement(c.data.id)||a.has(c.data.id))continue;let b=await this.deserialize(c);b&&(this.addOrRebuild(b),b.enableEditing())}this.#hu=!1,this.#r._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#ht=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#hx&&!this.#hz){this.#hz=new AbortController;let a=this.#r.combinedSignal(this.#hz);this.#hx.div.addEventListener("pointerdown",a=>{let b,{clientX:c,clientY:d,timeStamp:e}=a;if(e-this.#hA>500)return void(this.#hA=e);this.#hA=-1;let{classList:f}=this.div;f.toggle("getElements",!0);let g=document.elementsFromPoint(c,d);if(f.toggle("getElements",!1),!this.div.contains(g[0]))return;let h=RegExp(`^${F}[0-9]+$`);for(let a of g)if(h.test(a.id)){b=a.id;break}if(!b)return;let i=this.#hr.get(b);null===i?.annotationElementId&&(a.stopPropagation(),a.preventDefault(),i.dblclick(a))},{signal:a,capture:!0})}let a=this.#ho;if(a){let b=new Map,c=new Map;for(let d of this.#hC)d.disableEditing(),d.annotationElementId?null===d.serialize()?(c.set(d.annotationElementId,d),this.getEditableAnnotation(d.annotationElementId)?.show(),d.remove()):b.set(d.annotationElementId,d):d.updateFakeAnnotationElement(a);for(let d of a.getEditableAnnotations()){let{id:a}=d.data;if(this.#r.isDeletedAnnotationElement(a)){d.updateEdited({deleted:!0});continue}let e=c.get(a);e?(e.resetAnnotationElement(d),e.show(!1)):(e=b.get(a))&&(this.#r.addChangedExistingAnnotation(e),e.renderAnnotationElement(d)&&e.show(!1)),d.show()}}this.#hB(),this.isEmpty&&(this.div.hidden=!0);let{classList:b}=this.div;for(let a of dT.#T.values())b.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#ht=!1}getEditableAnnotation(a){return this.#ho?.getEditableAnnotation(a)||null}setActiveEditor(a){this.#r.getActive()!==a&&this.#r.setActiveEditor(a)}enableTextSelection(){if(this.div.tabIndex=-1,this.#hx?.div&&!this.#hy){this.#hy=new AbortController;let a=this.#r.combinedSignal(this.#hy);this.#hx.div.addEventListener("pointerdown",this.#hD.bind(this),{signal:a}),this.#hx.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#hx?.div&&this.#hy&&(this.#hy.abort(),this.#hy=null,this.#hx.div.classList.remove("highlighting"))}#hD(a){this.#r.unselectAll();let{target:b}=a;if(b===this.#hx.div||("img"===b.getAttribute("role")||b.classList.contains("endOfContent"))&&this.#hx.div.contains(b)){let{isMac:b}=ad.platform;if(0!==a.button||a.ctrlKey&&b)return;this.#r.showAllEditors("highlight",!0,!0),this.#hx.div.classList.add("free"),this.toggleDrawing(),dG.startHighlighting(this,"ltr"===this.#r.direction,{target:this.#hx.div,x:a.x,y:a.y}),this.#hx.div.addEventListener("pointerup",()=>{this.#hx.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),a.preventDefault()}}enableClick(){if(this.#hp)return;this.#hp=new AbortController;let a=this.#r.combinedSignal(this.#hp);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:a});let b=this.pointerup.bind(this);this.div.addEventListener("pointerup",b,{signal:a}),this.div.addEventListener("pointercancel",b,{signal:a})}disableClick(){this.#hp?.abort(),this.#hp=null}attach(a){this.#hr.set(a.id,a);let{annotationElementId:b}=a;b&&this.#r.isDeletedAnnotationElement(b)&&this.#r.removeDeletedAnnotationElement(a)}detach(a){this.#hr.delete(a.id),this.#e9?.removePointerInTextLayer(a.contentDiv),!this.#ht&&a.annotationElementId&&this.#r.addDeletedAnnotationElement(a)}remove(a){this.detach(a),this.#r.removeEditor(a),a.div.remove(),a.isAttachedToDOM=!1}changeParent(a){a.parent!==this&&(a.parent&&a.annotationElementId&&(this.#r.addDeletedAnnotationElement(a.annotationElementId),a4.deleteAnnotationElement(a),a.annotationElementId=null),this.attach(a),a.parent?.detach(a),a.setParent(this),a.div&&a.isAttachedToDOM&&(a.div.remove(),this.div.append(a.div)))}add(a){if(a.parent!==this||!a.isAttachedToDOM){if(this.changeParent(a),this.#r.addEditor(a),this.attach(a),!a.isAttachedToDOM){let b=a.render();this.div.append(b),a.isAttachedToDOM=!0}a.fixAndSetPosition(),a.onceAdded(!this.#hu),this.#r.addToAnnotationStorage(a),a._reportTelemetry(a.telemetryInitialData)}}moveEditorInDOM(a){if(!a.isAttachedToDOM)return;let{activeElement:b}=document;a.div.contains(b)&&!this.#hq&&(a._focusEventsAllowed=!1,this.#hq=setTimeout(()=>{this.#hq=null,a.div.contains(document.activeElement)?a._focusEventsAllowed=!0:(a.div.addEventListener("focusin",()=>{a._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),b.focus())},0)),a._structTreeParentId=this.#e9?.moveElementInDOM(this.div,a.div,a.contentDiv,!0)}addOrRebuild(a){a.needsToBeRebuilt()?(a.parent||=this,a.rebuild(),a.show()):this.add(a)}addUndoableEditor(a){this.addCommands({cmd:()=>a._uiManager.rebuild(a),undo:()=>{a.remove()},mustExec:!1})}getEditorByUID(a){for(let b of this.#hr.values())if(b.uid===a)return b;return null}getNextId(){return this.#r.getId()}get #hE(){return dT.#T.get(this.#r.getMode())}combinedSignal(a){return this.#r.combinedSignal(a)}#hF(a){let b=this.#hE;return b?new b.prototype.constructor(a):null}canCreateNewEmptyEditor(){return this.#hE?.canCreateNewEmptyEditor()}async pasteEditor(a,b){this.updateToolbar(a),await this.#r.updateMode(a.mode);let{offsetX:c,offsetY:d}=this.#hG(),e=this.getNextId(),f=this.#hF({parent:this,id:e,x:c,y:d,uiManager:this.#r,isCentered:!0,...b});f&&this.add(f)}async deserialize(a){return await dT.#T.get(a.annotationType??a.annotationEditorType)?.deserialize(a,this,this.#r)||null}createAndAddNewEditor(a,b,c={}){let d=this.getNextId(),e=this.#hF({parent:this,id:d,x:a.offsetX,y:a.offsetY,uiManager:this.#r,isCentered:b,...c});return e&&this.add(e),e}get boundingClientRect(){return this.div.getBoundingClientRect()}#hG(){let{x:a,y:b,width:c,height:d}=this.boundingClientRect,e=Math.max(0,b),f=(Math.max(0,a)+Math.min(window.innerWidth,a+c))/2-a,g=(e+Math.min(window.innerHeight,b+d))/2-b,[h,i]=this.viewport.rotation%180==0?[f,g]:[g,f];return{offsetX:h,offsetY:i}}addNewEditor(a={}){this.createAndAddNewEditor(this.#hG(),!0,a)}setSelected(a){this.#r.setSelected(a)}toggleSelected(a){this.#r.toggleSelected(a)}unselect(a){this.#r.unselect(a)}pointerup(a){let{isMac:b}=ad.platform;if(0!==a.button||a.ctrlKey&&b||a.target!==this.div||!this.#hs||(this.#hs=!1,this.#hE?.isDrawer&&this.#hE.supportMultipleDrawings))return;if(!this.#hn)return void(this.#hn=!0);let c=this.#r.getMode();c!==G.STAMP&&c!==G.SIGNATURE?this.createAndAddNewEditor(a,!1):this.#r.unselectAll()}pointerdown(a){if(this.#r.getMode()===G.HIGHLIGHT&&this.enableTextSelection(),this.#hs)return void(this.#hs=!1);let{isMac:b}=ad.platform;if(0!==a.button||a.ctrlKey&&b||a.target!==this.div)return;if(this.#hs=!0,this.#hE?.isDrawer)return void this.startDrawingSession(a);let c=this.#r.getActive();this.#hn=!c||c.isEmpty()}startDrawingSession(a){if(this.div.focus({preventScroll:!0}),this.#hv)return void this.#hE.startDrawing(this,this.#r,!1,a);this.#r.setCurrentDrawingSession(this),this.#hv=new AbortController;let b=this.#r.combinedSignal(this.#hv);this.div.addEventListener("blur",({relatedTarget:a})=>{a&&!this.div.contains(a)&&(this.#hw=null,this.commitOrRemove())},{signal:b}),this.#hE.startDrawing(this,this.#r,!1,a)}pause(a){if(a){let{activeElement:a}=document;return void(this.div.contains(a)&&(this.#hw=a))}this.#hw&&setTimeout(()=>{this.#hw?.focus(),this.#hw=null},0)}endDrawingSession(a=!1){return this.#hv?(this.#r.setCurrentDrawingSession(null),this.#hv.abort(),this.#hv=null,this.#hw=null,this.#hE.endDrawing(a)):null}findNewParent(a,b,c){let d=this.#r.findParent(b,c);return null!==d&&d!==this&&(d.changeParent(a),!0)}commitOrRemove(){return!!this.#hv&&(this.endDrawingSession(),!0)}onScaleChanging(){this.#hv&&this.#hE.onScaleChangingWhenDrawing(this)}destroy(){for(let a of(this.commitOrRemove(),this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#hq&&(clearTimeout(this.#hq),this.#hq=null),this.#hr.values()))this.#e9?.removePointerInTextLayer(a.contentDiv),a.setParent(null),a.isAttachedToDOM=!1,a.div.remove();this.div=null,this.#hr.clear(),this.#r.removeLayer(this)}#hB(){for(let a of this.#hr.values())a.isEmpty()&&a.remove()}render({viewport:a}){for(let b of(this.viewport=a,aH(this.div,a),this.#r.getEditors(this.pageIndex)))this.add(b),b.rebuild();this.updateMode()}update({viewport:a}){this.#r.commitOrRemove(),this.#hB();let b=this.viewport.rotation,c=a.rotation;if(this.viewport=a,aH(this.div,{rotation:c}),b!==c)for(let a of this.#hr.values())a.rotate(c)}get pageDimensions(){let{pageWidth:a,pageHeight:b}=this.viewport.rawDims;return[a,b]}get scale(){return this.#r.viewParameters.realScale}}class dU{#eH=null;#hH=new Map;#hI=new Map;static #v=0;constructor({pageIndex:a}){this.pageIndex=a}setParent(a){if(this.#eH){if(this.#eH!==a){if(this.#hH.size>0)for(let b of this.#hH.values())b.remove(),a.append(b);this.#eH=a}}else this.#eH=a}static get _svgFactory(){return V(this,"_svgFactory",new c0)}static #hJ(a,[b,c,d,e]){let{style:f}=a;f.top=100*c+"%",f.left=100*b+"%",f.width=100*d+"%",f.height=100*e+"%"}#hK(){let a=dU._svgFactory.create(1,1,!0);return this.#eH.append(a),a.setAttribute("aria-hidden",!0),a}#hL(a,b){let c=dU._svgFactory.createElement("clipPath");a.append(c);let d=`clip_${b}`;c.setAttribute("id",d),c.setAttribute("clipPathUnits","objectBoundingBox");let e=dU._svgFactory.createElement("use");return c.append(e),e.setAttribute("href",`#${b}`),e.classList.add("clip"),d}#hM(a,b){for(let[c,d]of Object.entries(b))null===d?a.removeAttribute(c):a.setAttribute(c,d)}draw(a,b=!1,c=!1){let d=dU.#v++,e=this.#hK(),f=dU._svgFactory.createElement("defs");e.append(f);let g=dU._svgFactory.createElement("path");f.append(g);let h=`path_p${this.pageIndex}_${d}`;g.setAttribute("id",h),g.setAttribute("vector-effect","non-scaling-stroke"),b&&this.#hI.set(d,g);let i=c?this.#hL(f,h):null,j=dU._svgFactory.createElement("use");return e.append(j),j.setAttribute("href",`#${h}`),this.updateProperties(e,a),this.#hH.set(d,e),{id:d,clipPathId:`url(#${i})`}}drawOutline(a,b){let c,d=dU.#v++,e=this.#hK(),f=dU._svgFactory.createElement("defs");e.append(f);let g=dU._svgFactory.createElement("path");f.append(g);let h=`path_p${this.pageIndex}_${d}`;if(g.setAttribute("id",h),g.setAttribute("vector-effect","non-scaling-stroke"),b){let a=dU._svgFactory.createElement("mask");f.append(a),c=`mask_p${this.pageIndex}_${d}`,a.setAttribute("id",c),a.setAttribute("maskUnits","objectBoundingBox");let b=dU._svgFactory.createElement("rect");a.append(b),b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("fill","white");let e=dU._svgFactory.createElement("use");a.append(e),e.setAttribute("href",`#${h}`),e.setAttribute("stroke","none"),e.setAttribute("fill","black"),e.setAttribute("fill-rule","nonzero"),e.classList.add("mask")}let i=dU._svgFactory.createElement("use");e.append(i),i.setAttribute("href",`#${h}`),c&&i.setAttribute("mask",`url(#${c})`);let j=i.cloneNode();return e.append(j),i.classList.add("mainOutline"),j.classList.add("secondaryOutline"),this.updateProperties(e,a),this.#hH.set(d,e),d}finalizeDraw(a,b){this.#hI.delete(a),this.updateProperties(a,b)}updateProperties(a,b){if(!b)return;let{root:c,bbox:d,rootClass:e,path:f}=b,g="number"==typeof a?this.#hH.get(a):a;if(g){if(c&&this.#hM(g,c),d&&dU.#hJ(g,d),e){let{classList:a}=g;for(let[b,c]of Object.entries(e))a.toggle(b,c)}if(f){let a=g.firstChild.firstChild;this.#hM(a,f)}}}updateParent(a,b){if(b===this)return;let c=this.#hH.get(a);c&&(b.#eH.append(c),this.#hH.delete(a),b.#hH.set(a,c))}remove(a){this.#hI.delete(a),null!==this.#eH&&(this.#hH.get(a).remove(),this.#hH.delete(a))}destroy(){for(let a of(this.#eH=null,this.#hH.values()))a.remove();this.#hH.clear(),this.#hI.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:dC},globalThis.pdfjsLib={AbortException:aa,AnnotationEditorLayer:dT,AnnotationEditorParamsType:H,AnnotationEditorType:G,AnnotationEditorUIManager:a0,AnnotationLayer:dw,AnnotationMode:E,AnnotationType:K,applyOpacity:aM,build:cV,ColorPicker:cW,createValidAbsoluteUrl:T,CSSConstants:aL,DOMSVGFactory:c0,DrawLayer:dU,FeatureTest:ad,fetchData:ar,findContrastColor:aS,getDocument:cK,getFilenameFromUrl:aw,getPdfFilenameFromUrl:ax,getRGB:aE,getUuid:aj,getXfaPageViewport:aD,GlobalWorkerOptions:cg,ImageKind:J,InvalidPDFException:Z,isDataScheme:au,isPdfFile:av,isValidExplicitDest:be,MathClamp:al,noContextMenu:aA,normalizeUnicode:ai,OPS:M,OutputScale:aI,PasswordResponses:N,PDFDataRangeTransport:cM,PDFDateString:aC,PDFWorker:cQ,PermissionFlag:I,PixelsPerInch:aq,RenderingCancelledException:at,renderRichText:aT,ResponseException:$,setLayerDimensions:aH,shadow:V,SignatureExtractor:dO,stopEvent:aB,SupportedImageMimeTypes:aJ,TextLayer:cJ,TouchManager:a3,updateUrlHash:U,Util:af,VerbosityLevel:L,version:cU,XfaLayer:ao};let dV=Object.freeze(Object.defineProperty({__proto__:null,AbortException:aa,AnnotationEditorLayer:dT,AnnotationEditorParamsType:H,AnnotationEditorType:G,AnnotationEditorUIManager:a0,AnnotationLayer:dw,AnnotationMode:E,AnnotationType:K,CSSConstants:aL,ColorPicker:cW,DOMSVGFactory:c0,DrawLayer:dU,FeatureTest:ad,GlobalWorkerOptions:cg,ImageKind:J,InvalidPDFException:Z,MathClamp:al,OPS:M,OutputScale:aI,PDFDataRangeTransport:cM,PDFDateString:aC,PDFWorker:cQ,PasswordResponses:N,PermissionFlag:I,PixelsPerInch:aq,RenderingCancelledException:at,ResponseException:$,SignatureExtractor:dO,SupportedImageMimeTypes:aJ,TextLayer:cJ,TouchManager:a3,Util:af,VerbosityLevel:L,XfaLayer:ao,applyOpacity:aM,build:cV,createValidAbsoluteUrl:T,fetchData:ar,findContrastColor:aS,getDocument:cK,getFilenameFromUrl:aw,getPdfFilenameFromUrl:ax,getRGB:aE,getUuid:aj,getXfaPageViewport:aD,isDataScheme:au,isPdfFile:av,isValidExplicitDest:be,noContextMenu:aA,normalizeUnicode:ai,renderRichText:aT,setLayerDimensions:aH,shadow:V,stopEvent:aB,updateUrlHash:U,version:cU},Symbol.toStringTag,{value:"Module"}));class dW extends Error{constructor(a,b){void 0!==b?super(a??"Invalid PDF",{cause:b}):super(a??"Invalid PDF"),this.name="InvalidPDFException",Object.setPrototypeOf(this,dW.prototype),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,dW)}}class dX extends Error{constructor(a,b){void 0!==b?super(a??"Password required or incorrect",{cause:b}):super(a??"Password required or incorrect"),this.name="PasswordException",Object.setPrototypeOf(this,dX.prototype),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,dX)}}class dY extends Error{constructor(a,b){void 0!==b?super(a??"PDF format error",{cause:b}):super(a??"PDF format error"),this.name="FormatError",Object.setPrototypeOf(this,dY.prototype),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,dY)}}class dZ extends Error{constructor(a,b,c){void 0!==c?super(a??"Unknown error",{cause:c}):super(a??"Unknown error"),this.name="UnknownErrorException",Object.setPrototypeOf(this,dZ.prototype),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,dZ),this.details=b}}class d$ extends Error{constructor(a,b,c,d){void 0!==d?super(a??"Response error",{cause:d}):super(a??"Response error"),this.name="ResponseException",Object.setPrototypeOf(this,d$.prototype),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,d$),this.status=b,this.missing=c}}class d_ extends Error{constructor(a,b){void 0!==b?super(a??"Operation aborted",{cause:b}):super(a??"Operation aborted"),this.name="AbortException",Object.setPrototypeOf(this,d_.prototype),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,d_)}}function d0(a){if(a instanceof Error)switch(a.name){case"InvalidPDFException":return new dW(a.message,a);case"PasswordException":return new dX(a.message,a);case"FormatError":return new dY(a.message,a);case"UnknownErrorException":return new dZ(a.message,a.details,a);case"ResponseException":return new d$(a.message,a.status,a.missing,a);case"AbortException":return new d_(a.message,a);default:return a}return Error(String(a))}class d1{static tolerance=2;static applyTransform(a,b){return[a[0]*b[0]+a[1]*b[2]+b[4],a[0]*b[1]+a[1]*b[3]+b[5]]}}class d2 extends d1{x;y;constructor(a,b){super(),this.x=a,this.y=b}equal(a){return a.x===this.x&&a.y===this.y}transform(a){let b=d1.applyTransform([this.x,this.y],a);return this.x=b[0],this.y=b[1],this}}var d3=(a=>(a[a.None=0]="None",a[a.Horizontal=1]="Horizontal",a[a.Vertical=2]="Vertical",a))(d3||{});class d4 extends d1{from;to;direction=0;length=0;intersections=[];gaps=[];constructor(a,b){super(),this.from=a,this.to=b,this.init()}init(){let a=this.from,b=this.to;if(Math.abs(a.y-b.y)<d1.tolerance){if(this.direction=1,b.y=a.y,a.x>b.x){let c=a;a=b,b=c}this.length=b.x-a.x}else if(Math.abs(a.x-b.x)<d1.tolerance){if(this.direction=2,b.x=a.x,a.y>b.y){let c=a;a=b,b=c}this.length=b.y-a.y}this.from=a,this.to=b}_valid=void 0;get valid(){return void 0===this._valid&&(this._valid=0!==this.direction&&this.length>d1.tolerance),this._valid}get normalized(){return 1===this.direction?new d4(new d2(this.from.x-d1.tolerance,this.from.y),new d2(this.to.x+d1.tolerance,this.from.y)):2===this.direction?new d4(new d2(this.from.x,this.from.y-d1.tolerance),new d2(this.from.x,this.to.y+d1.tolerance)):this}addGap(a){this.gaps.push(a)}containsPoint(a){return 2===this.direction?this.from.x===a.x&&a.y>=this.from.y&&a.y<=this.to.y:1===this.direction&&this.from.y===a.y&&a.x>=this.from.x&&a.x<=this.to.x}addIntersectionPoint(a){for(let b of this.intersections)if(b.equal(a))return;this.intersections.push(a)}intersection(a){let b;if(!this.valid||!a.valid)return b;let c=this.normalized,d=a.normalized;if(1===this.direction&&2===a.direction){let e=d.from.x,f=c.from.y;if(e>c.from.x&&e<c.to.x&&f>d.from.y&&f<d.to.y){let c=new d2(e,f);this.addIntersectionPoint(c),a.addIntersectionPoint(c),b=c}}else if(2===this.direction&&1===a.direction){let e=c.from.x,f=d.from.y;if(e>d.from.x&&e<d.to.x&&f>c.from.y&&f<c.to.y){let c=new d2(e,f);this.addIntersectionPoint(c),a.addIntersectionPoint(c),b=c}}return b}transform(a){let b=this.from.transform(a),c=this.to.transform(a),d=Math.min(b.x,c.x),e=Math.min(b.y,c.y),f=Math.abs(b.x-c.x),g=Math.abs(b.y-c.y);return this.from=new d2(d,e),this.to=new d2(d+f,e+g),this.init(),this}}class d5{minXY;maxXY;rows;rowPivots;colPivots;constructor(a,b,c,d){this.minXY=a,this.maxXY=b,this.rows=[],this.rowPivots=c,this.colPivots=d}findCell(a,b){if(a>=this.minXY.x&&b>=this.minXY.y&&a<=this.maxXY.x&&b<=this.maxXY.y){for(let c of this.rows)for(let d of c)if(d.minXY.x<=a&&d.minXY.y<=b&&d.maxXY.x>=a&&d.maxXY.y>=b)return d}}get cellCount(){return this.rows.reduce((a,b)=>a+b.length,0)}get rowCount(){return this.rows.length}check(){let a=(this.colPivots.length-1)*(this.rowPivots.length-1),b=0;for(let a of this.rows)for(let c of a)b+=(c.colspan||1)*(c.rowspan||1);return a===b}toArray(){let a=[];for(let b of this.rows){let c=[];for(let a of b){let b=a.text.join("");b=(b=b.replace(/^[\s]+|[\s]+$/g,"")).trim(),c.push(b)}a.push(c)}return a}}class d6{hLines=[];vLines=[];constructor(a){a.direction===d3.Horizontal?this.hLines.push(a):a.direction===d3.Vertical&&this.vLines.push(a)}get isValid(){return this.hLines.length+this.vLines.length>4}get rowPivots(){let a=new Set;for(let b of this.hLines)a.add(b.from.y);return[...a].sort((a,b)=>a-b)}get colPivots(){let a=new Set;for(let b of this.vLines)a.add(b.from.x);return[...a].sort((a,b)=>a-b)}add(a){if(this.intersection(a)){if(a.direction===d3.Horizontal)return this.hLines.push(a),!0;if(a.direction===d3.Vertical)return this.vLines.push(a),!0}return!1}intersection(a){let b=!1;if(!a.valid)return b;if(a.direction===d3.Horizontal)for(let c of this.vLines)a.intersection(c)&&(b=!0);else if(a.direction===d3.Vertical)for(let c of this.hLines)a.intersection(c)&&(b=!0);return b}getSameHorizontal(a){let b=[a],c=[];for(;this.hLines.length>0;){let d=this.hLines.shift();d&&(d.from.y===a.from.y?b.push(d):c.push(d))}return this.hLines=c,b}getSameVertical(a){let b=[a],c=[];for(;this.vLines.length>0;){let d=this.vLines.shift();d&&(d.from.x===a.from.x?b.push(d):c.push(d))}return this.vLines=c,b}mergeHorizontalLines(a){a.sort((a,b)=>a.from.x-b.from.x);let b=a[0].from.x,c=a[a.length-1].to.x,d=new d4(new d2(b,a[0].from.y),new d2(c,a[0].from.y));for(let b=1;b<a.length;b++){let c=a[b-1],e=a[b];if(Math.abs(c.to.x-e.from.x)>d1.tolerance){let a=new d4(new d2(c.to.x,c.from.y),new d2(e.from.x,e.from.y));d.addGap(a)}}return d}mergeVerticalLines(a){a.sort((a,b)=>a.from.y-b.from.y);let b=a[0].from.y,c=a[a.length-1].to.y,d=new d4(new d2(a[0].from.x,b),new d2(a[0].from.x,c));for(let b=1;b<a.length;b++){let c=a[b-1],e=a[b];if(Math.abs(c.to.y-e.from.y)>d1.tolerance){let a=new d4(new d2(c.to.x,c.to.y),new d2(c.to.x,e.from.y));d.addGap(a)}}return d}normalize(){this.hLines=this.hLines.filter(a=>a.intersections.length>1),this.vLines=this.vLines.filter(a=>a.intersections.length>1),this.hLines.sort((a,b)=>a.from.y-b.from.y),this.vLines.sort((a,b)=>a.from.x-b.from.x);let a=[];for(;this.hLines.length>0;){let b=this.hLines.shift();if(!b)continue;let c=this.getSameHorizontal(b),d=this.mergeHorizontalLines(c);a.push(d)}this.hLines=a;let b=[];for(;this.vLines.length>0;){let a=this.vLines.shift();if(!a)continue;let c=this.getSameVertical(a),d=this.mergeVerticalLines(c);b.push(d)}this.vLines=b}verticalExists(a,b,c){if(a.direction!==d3.Vertical)throw Error("Line is not vertical");if(b>=c)throw Error("y1 must be less than y2");if(a.from.y<=b&&a.to.y>=c){for(let d of a.gaps)if(d.from.y<=b&&d.to.y>=c)return!1;return!0}return!1}horizontalExists(a,b,c){if(a.direction!==d3.Horizontal)throw Error("Line is not horizontal");if(b>=c)throw Error("x1 must be less than x2");if(a.from.x<=b&&a.to.x>=c){for(let d of a.gaps)if(d.from.x<=b&&d.to.x>=c)return!1;return!0}return!1}findBottomLineIndex(a,b){for(let c=a;c<this.hLines.length;c++){let a=this.hLines[c];if(a.from.x<=b&&a.to.x>=b)return c}return -1}findVerticalLineIndexs(a,b){let c=[];for(let d=0;d<this.vLines.length;d++){let e=this.vLines[d];e.from.y<=b&&e.to.y>=b&&a.intersection(e)&&c.push(d)}return c}getRow(a,b,c){let d=[],e=this.hLines[a],f=this.findVerticalLineIndexs(e,c);for(let c=1;c<f.length;c++){let g=this.vLines[f[c-1]],h=this.vLines[f[c]],i=(g.from.x+h.from.x)/2,j=this.findBottomLineIndex(b,i),k=this.hLines[j],l={minXY:new d2(g.from.x,e.from.y),maxXY:new d2(h.from.x,k.from.y),width:h.from.x-g.from.x,height:k.from.y-e.from.y,text:[]},m=f[c]-f[c-1],n=j-a;m>1&&(l.colspan=m),n>1&&(l.rowspan=n),d.push(l)}return d}toData(){let a=this.rowPivots,b=this.colPivots,c=new d5(new d2(b[0],a[0]),new d2(b[b.length-1],a[a.length-1]),a,b);for(let a=1;a<this.hLines.length;a++){let b=this.hLines[a-1],d=this.hLines[a],e=(b.from.y+d.from.y)/2,f=this.getRow(a-1,a,e);c.rows.push(f)}return c}}class d7{hLines=[];vLines=[];add(a){a.valid&&(a.direction===d3.Horizontal?this.hLines.push(a):a.direction===d3.Vertical&&this.vLines.push(a))}addRectangle(a){for(let b of a.getLines())this.add(b)}getTableData(){let a=[];for(let b of this.getTables()){let c=b.toData();c&&a.push(c)}return a}getTables(){let a=[];for(;0!==this.hLines.length;){let b=this.hLines.shift();if(!b||this.tryFill(a,b))continue;let c=new d6(b);this.fillTable(c),a.push(c)}for(;0!==this.vLines.length;){let b=this.vLines.shift();if(!b||this.tryFill(a,b))continue;let c=new d6(b);this.fillTable(c),a.push(c)}let b=a.filter(a=>a.isValid);for(let a of b)a.normalize();return b}normalize(){this.normalizeHorizontal(),this.normalizeVertical()}normalizeHorizontal(){this.hLines.sort((a,b)=>a.from.y-b.from.y);let a=[],b=[];for(let c of this.hLines)if(0===b.length)b.push(c);else if(Math.abs(b[0]?.from.y-c.from.y)<d1.tolerance)b.push(c);else{let d=this.margeHorizontalLines(b);a.push(...d),b=[c]}if(b.length>0){let c=this.margeHorizontalLines(b);a.push(...c)}this.hLines=a}normalizeVertical(){this.vLines.sort((a,b)=>a.from.x-b.from.x);let a=[],b=[];for(let c of this.vLines)if(0===b.length)b.push(c);else if(Math.abs(b[0]?.from.x-c.from.x)<d1.tolerance)b.push(c);else{let d=this.margeVerticalLines(b);a.push(...d),b=[c]}if(b.length>0){let c=this.margeVerticalLines(b);a.push(...c)}this.vLines=a}fillTable(a){let b=[],c=[];for(let c of this.vLines)a.add(c)||b.push(c);for(let b of this.hLines)a.add(b)||c.push(b);this.hLines=c,this.vLines=b}tryFill(a,b){for(let c of a)if(c.add(b))return this.fillTable(c),!0;return!1}margeHorizontalLines(a){let b=[];a.sort((a,b)=>a.from.x-b.from.x);let c=a[0]?.from.y;if(void 0===c)return b;let d=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;for(let f of a)f.from.x-e<d1.tolerance?(f.from.x<d&&(d=f.from.x),f.to.x>e&&(e=f.to.x)):(e>d&&b.push(new d4(new d2(d,c),new d2(e,c))),d=f.from.x,e=f.to.x);let f=b[b.length-1];return f?f.from.x!==d&&f.to.x!==e&&b.push(new d4(new d2(d,c),new d2(e,c))):b.push(new d4(new d2(d,c),new d2(e,c))),b}margeVerticalLines(a){let b=[];a.sort((a,b)=>a.from.y-b.from.y);let c=a[0]?.from.x;if(void 0===c)return b;let d=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;for(let f of a)f.from.y-e<d1.tolerance?(f.from.y<d&&(d=f.from.y),f.to.y>e&&(e=f.to.y)):(e>d&&b.push(new d4(new d2(c,d),new d2(c,e))),d=f.from.y,e=f.to.y);let f=b[b.length-1];return f?f.from.y!==d&&f.to.y!==e&&b.push(new d4(new d2(c,d),new d2(c,e))):b.push(new d4(new d2(c,d),new d2(c,e))),b}}class d8 extends d1{from;width;height;constructor(a,b,c){super(),this.from=a,this.width=b,this.height=c}get to(){return new d2(this.from.x+this.width,this.from.y+this.height)}getLines(){let a=this.to;return[new d4(this.from,new d2(a.x,this.from.y)),new d4(this.from,new d2(this.from.x,a.y)),new d4(new d2(a.x,this.from.y),a),new d4(new d2(this.from.x,a.y),a)].filter(a=>a.valid)}transform(a){let b=d1.applyTransform([this.from.x,this.from.y],a),c=d1.applyTransform([this.from.x+this.width,this.from.y+this.height],a),d=Math.min(b[0],c[0]),e=Math.min(b[1],c[1]),f=Math.abs(b[0]-c[0]),g=Math.abs(b[1]-c[1]);return this.from=new d2(d,e),this.width=f,this.height=g,this}}class d9{pages=[];total=0;getPageImage(a,b){for(let c of this.pages)if(c.pageNumber===a){for(let a of c.images)if(a.name===b)return a}return null}constructor(a){this.total=a}}let ea=["xmp:createdate","xmp:modifydate","xmp:metadatadate","xap:createdate","xap:modifydate","xap:metadatadate"];class eb{total;info;metadata;fingerprints;permission;outline;pages=[];getDateNode(){let a={},b=this.info?.CreationDate;b&&(a.CreationDate=aC.toDateObject(b));let c=this.info?.ModDate;if(c&&(a.ModDate=aC.toDateObject(c)),!this.metadata)return a;for(let b of ea){let c=this.metadata?.get(b),d=this.parseISODateString(c);switch(b){case ea[0]:a.XmpCreateDate=d;break;case ea[1]:a.XmpModifyDate=d;break;case ea[2]:a.XmpMetadataDate=d;break;case ea[3]:a.XapCreateDate=d;break;case ea[4]:a.XapModifyDate=d;break;case ea[5]:a.XapMetadataDate=d}}return a}parseISODateString(a){if(!a)return;let b=Date.parse(a);return Number.isNaN(b)?void 0:new Date(b)}constructor(a){this.total=a}}function ec(a){return a.lineThreshold=a?.lineThreshold??4.6,a.cellThreshold=a?.cellThreshold??7,a.cellSeparator=a?.cellSeparator??"	",a.lineEnforce=a?.lineEnforce??!0,a.pageJoiner=a?.pageJoiner??"\n-- page_number of total_number --",a.imageThreshold=a?.imageThreshold??80,a.imageDataUrl=a?.imageDataUrl??!0,a.imageBuffer=a?.imageBuffer??!0,a.scale=a?.scale??1,a}var ed=(a=>(a[a[void 0]=0]="undefined",a[a.hline=1]="hline",a[a.vline=2]="vline",a[a.rectangle=3]="rectangle",a))(ed||{});class ee{pages=[];total=0;constructor(a){this.total=a}}class ef{pages=[];mergedTables=[];total=0;constructor(a){this.total=a}}class eg{pages=[];text="";total=0;getPageText(a){for(let b of this.pages)if(b.num===a)return b.text;return""}constructor(a){this.total=a}}b.AbortException=d_,b.FormatError=dY,b.InvalidPDFException=dW,b.Line=d4,b.LineDirection=d3,b.LineStore=d7,b.PDFParse=class{options;doc;progress={loaded:-1,total:0};constructor(a){void 0===a.verbosity&&(a.verbosity=L.ERRORS),"undefined"!=typeof Buffer&&a.data instanceof Buffer&&(a.data=new Uint8Array(a.data)),this.options=a}async destroy(){this.doc&&(await this.doc.destroy(),this.doc=void 0)}static get isNodeJS(){return!("object"!=typeof process||"[object process]"!=`${process}`||process.versions.nw||process.versions.electron&&void 0!==process.type&&"browser"!==process.type)}static setWorker(a){return void 0===globalThis.pdfjs&&(globalThis.pdfjs=dV),null===cg?"":(void 0!==a&&(cg.workerSrc=a),cg.workerSrc)}async getInfo(a={}){let b=await this.load(),c=new eb(b.numPages),{info:d,metadata:e}=await b.getMetadata();c.info=d,c.metadata=e,c.fingerprints=b.fingerprints,c.outline=await b.getOutline(),c.permission=await b.getPermissions();let f=await b.getPageLabels();if(a.parsePageInfo){for(let d=1;d<=c.total;d++)if(this.shouldParse(d,c.total,a)){let a=await b.getPage(d),e=await this.getPageLinks(a);e.pageLabel=f?.[a.pageNumber],c.pages.push(e),a.cleanup()}}return c}async getPageLinks(a){let b=a.getViewport({scale:1}),c={pageNumber:a.pageNumber,links:[],width:b.width,height:b.height};for(let b of await a.getAnnotations({intent:"display"})||[]){if("Link"!==b.subtype)continue;let a=b.url??b.unsafeUrl;if(!a)continue;let d=b.overlaidText||"";c.links.push({url:a,text:d})}return c}async getText(a={}){let b=await this.load(),c=new eg(b.numPages);for(let d=1;d<=c.total;d++)if(this.shouldParse(d,c.total,a)){let e=await b.getPage(d),f=await this.getPageText(e,a,c.total);c.pages.push({text:f,num:d}),e.cleanup()}for(let b of c.pages)if(a.pageJoiner){let d=a.pageJoiner.replace("page_number",`${b.num}`);d=d.replace("total_number",`${c.total}`),c.text+=`${b.text}
${d}

`}else c.text+=`${b.text}

`;return c}async load(){try{if(void 0===this.doc){let a=cK(this.options);a.onProgress=a=>{this.progress=a},this.doc=await a.promise}return this.doc}catch(a){throw d0(a)}}shouldParse(a,b,c){return c.partial=c?.partial??[],c.first=c?.first??0,c.last=c?.last??0,c.partial.length>0?!!c.partial.includes(a):c.first>0&&c.last>0?a>=c.first&&a<=c.last:c.first>0?a<=c.first:!(c.last>0)||a>b-c.last}async getPageText(a,b,c){let d=a.getViewport({scale:1}),e=ec(b),f=await a.getTextContent({includeMarkedContent:!!e.includeMarkedContent,disableNormalization:!!e.disableNormalization}),g=new Map;e.parseHyperlinks&&(g=await this.getHyperlinks(a,d));let h=[],i,j,k=0;for(let a of f.items){if(!("str"in a))continue;let b=a.transform??a.transform,[c,f]=d.convertToViewportPoint(b[4],b[5]);if(e.parseHyperlinks){let b=(g.get(a.str)||[]).find(a=>c>=a.rect.left&&c<=a.rect.right&&f>=a.rect.top&&f<=a.rect.bottom);b&&(a.str=`[${a.str}](${b.url})`)}if(e.lineEnforce&&void 0!==j&&Math.abs(j-f)>e.lineThreshold){let b=h.length?h[h.length-1]:void 0,c=a.str.startsWith("\n")||""===a.str.trim()&&a.hasEOL;!1===b?.endsWith("\n")&&!c&&Math.abs(j-f)-1>k&&(h.push("\n"),k=0)}e.cellSeparator&&void 0!==j&&Math.abs(j-f)<e.lineThreshold&&void 0!==i&&Math.abs(i-c)>e.cellThreshold&&(a.str=`${e.cellSeparator}${a.str}`),h.push(a.str),i=c+a.width,j=f,k=Math.max(k,a.height),a.hasEOL&&h.push("\n"),(a.hasEOL||a.str.endsWith("\n"))&&(k=0)}return e.itemJoiner?h.join(e.itemJoiner):h.join("")}async getHyperlinks(a,b){let c=new Map;for(let d of await a.getAnnotations({intent:"display"})||[]){if("Link"!==d.subtype)continue;let a=d.url??d.unsafeUrl;if(!a)continue;let e=d.overlaidText;if(!e)continue;let f=b.convertToViewportRectangle(d.rect),g={rect:{left:Math.min(f[0],f[2])-.5,top:Math.min(f[1],f[3])-.5,right:Math.max(f[0],f[2])+.5,bottom:Math.max(f[1],f[3])+.5},url:a,text:e,used:!1},h=c.get(e);h?h.push(g):c.set(e,[g])}return c}async getImage(a={}){let b=await this.load(),c=new d9(b.numPages);ec(a);for(let d=1;d<=c.total;d++)if(this.shouldParse(d,c.total,a)){let e=await b.getPage(d),f=await e.getOperatorList(),g={pageNumber:d,images:[]};c.pages.push(g);for(let c=0;c<f.fnArray.length;c++)if(f.fnArray[c]===M.paintInlineImageXObject||f.fnArray[c]===M.paintImageXObject){let d=f.argsArray[c][0],h=e.commonObjs.has(d)?this.resolveEmbeddedImage(e.commonObjs,d):this.resolveEmbeddedImage(e.objs,d),{width:i,height:j,kind:k,data:l}=await h;if(a.imageThreshold&&(a.imageThreshold>=i||a.imageThreshold>=j))continue;let m=b.canvasFactory.create(i,j),n=m.context,o=null;k===J.RGBA_32BPP?(o=n.createImageData(i,j)).data.set(l):(o=n.createImageData(i,j),this.convertToRGBA({src:l,dest:new Uint32Array(o.data.buffer),width:i,height:j,kind:k})),n.putImageData(o,0,0);let p=new Uint8Array,q="";if("function"==typeof m.canvas.toBuffer){let b;a.imageBuffer&&(p=new Uint8Array(b=m.canvas.toBuffer("image/png"))),a.imageDataUrl&&(b||(p=new Uint8Array(b=m.canvas.toBuffer("image/png"))),q=`data:image/png;base64,${b.toString("base64")}`)}else a.imageBuffer&&(p=new Uint8Array(m.context.getImageData(0,0,m.canvas.width,m.canvas.height).data)),a.imageDataUrl&&(q=m.canvas.toDataURL("image/png"));g.images.push({data:p,dataUrl:q,name:d,height:j,width:i,kind:k})}}return c}convertToRGBA({src:a,dest:b,width:c,height:d,kind:e}){if(e===J.RGB_24BPP)for(let c=0,d=0;c<a.length;c+=3,d++){let e=a[c],f=a[c+1],g=a[c+2];b[d]=-0x1000000|g<<16|f<<8|e}else if(e===J.GRAYSCALE_1BPP){let e=0;for(let f=0;f<a.length;f++){let g=a[f];for(let a=7;a>=0&&!(e>=c*d);a--){let c=255*(1==(g>>a&1));b[e++]=-0x1000000|c<<16|c<<8|c}}}else{if(null!=e)throw Error(`convertToRGBA: Unsupported image kind: ${e}. Available kinds: GRAYSCALE_1BPP=${J.GRAYSCALE_1BPP}, RGB_24BPP=${J.RGB_24BPP}, RGBA_32BPP=${J.RGBA_32BPP}`);{let f=a.length/(c*d);if(.1>Math.abs(f-3))for(let c=0,d=0;c<a.length;c+=3,d++){let e=a[c],f=a[c+1],g=a[c+2];b[d]=-0x1000000|g<<16|f<<8|e}else if(.1>Math.abs(f-4))for(let c=0,d=0;c<a.length;c+=4,d++){let e=a[c],f=a[c+1],g=a[c+2],h=a[c+3];b[d]=h<<24|g<<16|f<<8|e}else{if(!(.1>Math.abs(f-1)))throw Error(`convertToRGBA: Cannot infer image format. kind: ${e}, bytesPerPixel: ${f}, width: ${c}, height: ${d}, dataLength: ${a.length}`);for(let c=0;c<a.length;c++){let d=a[c];b[c]=-0x1000000|d<<16|d<<8|d}}}}}resolveEmbeddedImage(a,b){return new Promise((c,d)=>{a.get(b,a=>{if(a){let e;if(a.data instanceof Uint8Array)e=a.data;else if(a.data instanceof Uint8ClampedArray)e=new Uint8Array(a.data);else if(a.data?.buffer)e=new Uint8Array(a.data.buffer);else if(a.bitmap){let b=this.doc.canvasFactory.create(a.bitmap.width,a.bitmap.height);b.context.drawImage(a.bitmap,0,0),e=new Uint8Array(b.context.getImageData(0,0,a.bitmap.width,a.bitmap.height).data.buffer)}else ArrayBuffer.isView(a.data)&&(e=new Uint8Array(a.data.buffer,a.data.byteOffset,a.data.byteLength));if(!e)return void d(Error(`Image object ${b}: data field is empty or invalid. Available fields: ${Object.keys(a).join(", ")}`));if(0===e.length)return void d(Error(`Image object ${b}: data buffer is empty (length: 0)`));c({width:a.width,height:a.height,kind:a.kind,data:e})}else d(Error(`Image object ${b} not found`))})})}async getScreenshot(a={}){let b=ec(a),c=new ee((await this.load()).numPages);if(void 0===this.doc)throw Error("PDF document not loaded");for(let a=1;a<=c.total;a++)if(this.shouldParse(a,c.total,b)){let d=await this.doc.getPage(a),e=d.getViewport({scale:b.scale});if(b.desiredWidth){e=d.getViewport({scale:1});let a=b.desiredWidth/e.width;e=d.getViewport({scale:a})}let f=this.doc.canvasFactory.create(e.width,e.height),g={canvasContext:f.context,viewport:e,canvas:f.canvas},h=d.render(g);await h.promise;let i=new Uint8Array,j="";if("function"==typeof f.canvas.toBuffer){let a;b.imageBuffer&&(i=new Uint8Array(a=f.canvas.toBuffer("image/png"))),b.imageDataUrl&&(a||(i=new Uint8Array(a=f.canvas.toBuffer("image/png"))),j=`data:image/png;base64,${a.toString("base64")}`)}else b.imageBuffer&&(i=new Uint8Array(f.context.getImageData(0,0,f.canvas.width,f.canvas.height).data)),b.imageDataUrl&&(j=f.canvas.toDataURL("image/png"));c.pages.push({data:i,dataUrl:j,pageNumber:a,width:e.width,height:e.height,scale:e.scale}),d.cleanup()}return c}async getTable(a={}){let b=new ef((await this.load()).numPages);if(void 0===this.doc)throw Error("PDF document not loaded");for(let c=1;c<=b.total;c++)if(this.shouldParse(c,b.total,a)){let a=await this.doc.getPage(c),d=await this.getPageTables(a);d.normalize();let e=d.getTableData();await this.fillPageTables(a,e);let f={num:c,tables:[]};for(let a of e)f.tables.push(a.toArray());b.pages.push(f),a.cleanup()}return b}getPathGeometry(a){let b=a[2]-a[0],c=a[3]-a[1];return a[0]===1/0?ed.undefined:b>5&&c>5?ed.rectangle:b>5&&0===c?ed.hline:0===b&&c>5?ed.vline:ed.undefined}async getPageTables(a){let b=new d7,c=a.getViewport({scale:1}),d=[1,0,0,1,0,0],e=[],f=await a.getOperatorList();for(let a=0;a<f.fnArray.length;a++){let g=f.fnArray[a],h=f.argsArray[a],i=h?.[0]??0,j=h?.[2]??[1/0,1/0,-1/0,-1/0];if(g===M.constructPath){if(i!==M.stroke)continue;let a=this.getPathGeometry(j);if(a===ed.rectangle){let a=new d8(new d2(j[0],j[1]),j[2]-j[0],j[3]-j[1]);a.transform(d),a.transform(c.transform),b.addRectangle(a)}else if(a===ed.hline||a===ed.vline){let a=new d4(new d2(j[0],j[1]),new d2(j[2],j[3]));a.transform(d),a.transform(c.transform),b.add(a)}}else if(g===M.setLineWidth);else if(g===M.save)e.push(d);else if(g===M.restore){let a=e.pop();a&&(d=a)}else g===M.transform&&(d=af.transform(d,h))}return b}async fillPageTables(a,b){let c=a.getViewport({scale:1});for(let d of(await a.getTextContent({includeMarkedContent:!1,disableNormalization:!1})).items){if(!("str"in d))continue;let a=af.transform(af.transform(c.transform,d.transform),[1,0,0,-1,0,0]);for(let c of b){let b=c.findCell(a[4],a[5]);if(b){b.text.push(d.str),d.hasEOL&&b.text.push("\n");break}}}}},b.PasswordException=dX,b.Point=d2,b.Rectangle=d8,b.ResponseException=d$,b.Shape=d1,b.Table=d6,b.UnknownErrorException=dZ,b.VerbosityLevel=L,b.getException=d0},36115:(a,b,c)=>{b.formatArgs=function(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;b.splice(1,0,c,"color: inherit");let d=0,e=0;b[0].replace(/%[a-zA-Z%]/g,a=>{"%%"!==a&&(d++,"%c"===a&&(e=d))}),b.splice(e,0,c)},b.save=function(a){try{a?b.storage.setItem("debug",a):b.storage.removeItem("debug")}catch(a){}},b.load=function(){let a;try{a=b.storage.getItem("debug")||b.storage.getItem("DEBUG")}catch(a){}return!a&&"undefined"!=typeof process&&"env"in process&&(a=process.env.DEBUG),a},b.useColors=function(){let a;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(a=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},b.storage=function(){try{return localStorage}catch(a){}}(),b.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),b.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],b.log=console.debug||console.log||(()=>{}),a.exports=c(98102)(b);let{formatters:d}=a.exports;d.j=function(a){try{return JSON.stringify(a)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}},37067:a=>{"use strict";a.exports=require("node:http")},37540:a=>{"use strict";a.exports=require("node:console")},37866:a=>{"use strict";a.exports=Math.floor},37878:(a,b,c)=>{var d=c(79551),e=d.URL,f=c(81630),g=c(55591),h=c(27910).Writable,i=c(12412),j=c(14629);!function(){var a="undefined"!=typeof process,b="undefined"!=typeof window&&"undefined"!=typeof document,c=F(Error.captureStackTrace);a||!b&&c||console.warn("The follow-redirects package should be excluded from browser builds.")}();var k=!1;try{i(new e(""))}catch(a){k="ERR_INVALID_URL"===a.code}var l=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],m=["abort","aborted","connect","error","socket","timeout"],n=Object.create(null);m.forEach(function(a){n[a]=function(b,c,d){this._redirectable.emit(a,b,c,d)}});var o=C("ERR_INVALID_URL","Invalid URL",TypeError),p=C("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),q=C("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",p),r=C("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),s=C("ERR_STREAM_WRITE_AFTER_END","write after end"),u=h.prototype.destroy||x;function v(a,b){h.call(this),this._sanitizeOptions(a),this._options=a,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],b&&this.on("response",b);var c=this;this._onNativeResponse=function(a){try{c._processResponse(a)}catch(a){c.emit("error",a instanceof p?a:new p({cause:a}))}},this._performRequest()}function w(a){var b={maxRedirects:21,maxBodyLength:0xa00000},c={};return Object.keys(a).forEach(function(d){var f=d+":",g=c[f]=a[d],h=b[d]=Object.create(g);Object.defineProperties(h,{request:{value:function(a,d,g){var h;return(h=a,e&&h instanceof e)?a=A(a):E(a)?a=A(y(a)):(g=d,d=z(a),a={protocol:f}),F(d)&&(g=d,d=null),(d=Object.assign({maxRedirects:b.maxRedirects,maxBodyLength:b.maxBodyLength},a,d)).nativeProtocols=c,E(d.host)||E(d.hostname)||(d.hostname="::1"),i.equal(d.protocol,f,"protocol mismatch"),j("options",d),new v(d,g)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(a,b,c){var d=h.request(a,b,c);return d.end(),d},configurable:!0,enumerable:!0,writable:!0}})}),b}function x(){}function y(a){var b;if(k)b=new e(a);else if(!E((b=z(d.parse(a))).protocol))throw new o({input:a});return b}function z(a){if(/^\[/.test(a.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(a.hostname)||/^\[/.test(a.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(a.host))throw new o({input:a.href||a});return a}function A(a,b){var c=b||{};for(var d of l)c[d]=a[d];return c.hostname.startsWith("[")&&(c.hostname=c.hostname.slice(1,-1)),""!==c.port&&(c.port=Number(c.port)),c.path=c.search?c.pathname+c.search:c.pathname,c}function B(a,b){var c;for(var d in b)a.test(d)&&(c=b[d],delete b[d]);return null==c?void 0:String(c).trim()}function C(a,b,c){function d(c){F(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,c||{}),this.code=a,this.message=this.cause?b+": "+this.cause.message:b}return d.prototype=new(c||Error),Object.defineProperties(d.prototype,{constructor:{value:d,enumerable:!1},name:{value:"Error ["+a+"]",enumerable:!1}}),d}function D(a,b){for(var c of m)a.removeListener(c,n[c]);a.on("error",x),a.destroy(b)}function E(a){return"string"==typeof a||a instanceof String}function F(a){return"function"==typeof a}v.prototype=Object.create(h.prototype),v.prototype.abort=function(){D(this._currentRequest),this._currentRequest.abort(),this.emit("abort")},v.prototype.destroy=function(a){return D(this._currentRequest,a),u.call(this,a),this},v.prototype.write=function(a,b,c){var d;if(this._ending)throw new s;if(!E(a)&&!("object"==typeof(d=a)&&"length"in d))throw TypeError("data should be a string, Buffer or Uint8Array");if(F(b)&&(c=b,b=null),0===a.length){c&&c();return}this._requestBodyLength+a.length<=this._options.maxBodyLength?(this._requestBodyLength+=a.length,this._requestBodyBuffers.push({data:a,encoding:b}),this._currentRequest.write(a,b,c)):(this.emit("error",new r),this.abort())},v.prototype.end=function(a,b,c){if(F(a)?(c=a,a=b=null):F(b)&&(c=b,b=null),a){var d=this,e=this._currentRequest;this.write(a,b,function(){d._ended=!0,e.end(null,null,c)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,c)},v.prototype.setHeader=function(a,b){this._options.headers[a]=b,this._currentRequest.setHeader(a,b)},v.prototype.removeHeader=function(a){delete this._options.headers[a],this._currentRequest.removeHeader(a)},v.prototype.setTimeout=function(a,b){var c=this;function d(b){b.setTimeout(a),b.removeListener("timeout",b.destroy),b.addListener("timeout",b.destroy)}function e(b){c._timeout&&clearTimeout(c._timeout),c._timeout=setTimeout(function(){c.emit("timeout"),f()},a),d(b)}function f(){c._timeout&&(clearTimeout(c._timeout),c._timeout=null),c.removeListener("abort",f),c.removeListener("error",f),c.removeListener("response",f),c.removeListener("close",f),b&&c.removeListener("timeout",b),c.socket||c._currentRequest.removeListener("socket",e)}return b&&this.on("timeout",b),this.socket?e(this.socket):this._currentRequest.once("socket",e),this.on("socket",d),this.on("abort",f),this.on("error",f),this.on("response",f),this.on("close",f),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(a){v.prototype[a]=function(b,c){return this._currentRequest[a](b,c)}}),["aborted","connection","socket"].forEach(function(a){Object.defineProperty(v.prototype,a,{get:function(){return this._currentRequest[a]}})}),v.prototype._sanitizeOptions=function(a){if(a.headers||(a.headers={}),a.host&&(a.hostname||(a.hostname=a.host),delete a.host),!a.pathname&&a.path){var b=a.path.indexOf("?");b<0?a.pathname=a.path:(a.pathname=a.path.substring(0,b),a.search=a.path.substring(b))}},v.prototype._performRequest=function(){var a=this._options.protocol,b=this._options.nativeProtocols[a];if(!b)throw TypeError("Unsupported protocol "+a);if(this._options.agents){var c=a.slice(0,-1);this._options.agent=this._options.agents[c]}var e=this._currentRequest=b.request(this._options,this._onNativeResponse);for(var f of(e._redirectable=this,m))e.on(f,n[f]);if(this._currentUrl=/^\//.test(this._options.path)?d.format(this._options):this._options.path,this._isRedirect){var g=0,h=this,i=this._requestBodyBuffers;!function a(b){if(e===h._currentRequest)if(b)h.emit("error",b);else if(g<i.length){var c=i[g++];e.finished||e.write(c.data,c.encoding,a)}else h._ended&&e.end()}()}},v.prototype._processResponse=function(a){var b,c,f,g,h,l,m=a.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:a.headers,statusCode:m});var n=a.headers.location;if(!n||!1===this._options.followRedirects||m<300||m>=400){a.responseUrl=this._currentUrl,a.redirects=this._redirects,this.emit("response",a),this._requestBodyBuffers=[];return}if(D(this._currentRequest),a.destroy(),++this._redirectCount>this._options.maxRedirects)throw new q;var o=this._options.beforeRedirect;o&&(l=Object.assign({Host:a.req.getHeader("host")},this._options.headers));var p=this._options.method;(301!==m&&302!==m||"POST"!==this._options.method)&&(303!==m||/^(?:GET|HEAD)$/.test(this._options.method))||(this._options.method="GET",this._requestBodyBuffers=[],B(/^content-/i,this._options.headers));var r=B(/^host$/i,this._options.headers),s=y(this._currentUrl),u=r||s.host,v=/^\w+:/.test(n)?this._currentUrl:d.format(Object.assign(s,{host:u})),w=(b=n,c=v,k?new e(b,c):y(d.resolve(c,b)));if(j("redirecting to",w.href),this._isRedirect=!0,A(w,this._options),(w.protocol===s.protocol||"https:"===w.protocol)&&(w.host===u||(f=w.host,g=u,i(E(f)&&E(g)),(h=f.length-g.length-1)>0&&"."===f[h]&&f.endsWith(g)))||B(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),F(o)){var x={headers:a.headers,statusCode:m},z={url:v,method:p,headers:l};o(this._options,x,z),this._sanitizeOptions(this._options)}this._performRequest()},a.exports=w({http:f,https:g}),a.exports.wrap=w},38303:a=>{"use strict";a.exports=URIError},38522:a=>{"use strict";a.exports=require("node:zlib")},38563:(a,b,c)=>{"use strict";var d,e=c(62654),f=c(51313),g=c(98479),h=c(34604),i=c(63216),j=c(7730),k=c(70141),l=c(38303),m=c(66560),n=c(37866),o=c(3070),p=c(75007),q=c(59378),r=c(28224),s=c(19887),u=Function,v=function(a){try{return u('"use strict"; return ('+a+").constructor;")()}catch(a){}},w=c(65041),x=c(22549),y=function(){throw new k},z=w?function(){try{return arguments.callee,y}catch(a){try{return w(arguments,"callee").get}catch(a){return y}}}():y,A=c(97141)(),B=c(47170),C=c(72662),D=c(1886),E=c(81392),F=c(29926),G={},H="undefined"!=typeof Uint8Array&&B?B(Uint8Array):d,I={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?d:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?d:ArrayBuffer,"%ArrayIteratorPrototype%":A&&B?B([][Symbol.iterator]()):d,"%AsyncFromSyncIteratorPrototype%":d,"%AsyncFunction%":G,"%AsyncGenerator%":G,"%AsyncGeneratorFunction%":G,"%AsyncIteratorPrototype%":G,"%Atomics%":"undefined"==typeof Atomics?d:Atomics,"%BigInt%":"undefined"==typeof BigInt?d:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?d:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?d:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?d:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f,"%eval%":eval,"%EvalError%":g,"%Float16Array%":"undefined"==typeof Float16Array?d:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?d:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?d:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?d:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":G,"%Int8Array%":"undefined"==typeof Int8Array?d:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?d:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?d:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&B?B(B([][Symbol.iterator]())):d,"%JSON%":"object"==typeof JSON?JSON:d,"%Map%":"undefined"==typeof Map?d:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&B?B(new Map()[Symbol.iterator]()):d,"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?d:Promise,"%Proxy%":"undefined"==typeof Proxy?d:Proxy,"%RangeError%":h,"%ReferenceError%":i,"%Reflect%":"undefined"==typeof Reflect?d:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?d:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&B?B(new Set()[Symbol.iterator]()):d,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?d:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&B?B(""[Symbol.iterator]()):d,"%Symbol%":A?Symbol:d,"%SyntaxError%":j,"%ThrowTypeError%":z,"%TypedArray%":H,"%TypeError%":k,"%Uint8Array%":"undefined"==typeof Uint8Array?d:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?d:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?d:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?d:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?d:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?d:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?d:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":E,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":C,"%Math.abs%":m,"%Math.floor%":n,"%Math.max%":o,"%Math.min%":p,"%Math.pow%":q,"%Math.round%":r,"%Math.sign%":s,"%Reflect.getPrototypeOf%":D};if(B)try{null.error}catch(a){var J=B(B(a));I["%Error.prototype%"]=J}var K=function a(b){var c;if("%AsyncFunction%"===b)c=v("async function () {}");else if("%GeneratorFunction%"===b)c=v("function* () {}");else if("%AsyncGeneratorFunction%"===b)c=v("async function* () {}");else if("%AsyncGenerator%"===b){var d=a("%AsyncGeneratorFunction%");d&&(c=d.prototype)}else if("%AsyncIteratorPrototype%"===b){var e=a("%AsyncGenerator%");e&&B&&(c=B(e.prototype))}return I[b]=c,c},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},M=c(99197),N=c(89303),O=M.call(F,Array.prototype.concat),P=M.call(E,Array.prototype.splice),Q=M.call(F,String.prototype.replace),R=M.call(F,String.prototype.slice),S=M.call(F,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,V=function(a){var b=R(a,0,1),c=R(a,-1);if("%"===b&&"%"!==c)throw new j("invalid intrinsic syntax, expected closing `%`");if("%"===c&&"%"!==b)throw new j("invalid intrinsic syntax, expected opening `%`");var d=[];return Q(a,T,function(a,b,c,e){d[d.length]=c?Q(e,U,"$1"):b||a}),d},W=function(a,b){var c,d=a;if(N(L,d)&&(d="%"+(c=L[d])[0]+"%"),N(I,d)){var e=I[d];if(e===G&&(e=K(d)),void 0===e&&!b)throw new k("intrinsic "+a+" exists, but is not available. Please file an issue!");return{alias:c,name:d,value:e}}throw new j("intrinsic "+a+" does not exist!")};a.exports=function(a,b){if("string"!=typeof a||0===a.length)throw new k("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof b)throw new k('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,a))throw new j("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var c=V(a),d=c.length>0?c[0]:"",e=W("%"+d+"%",b),f=e.name,g=e.value,h=!1,i=e.alias;i&&(d=i[0],P(c,O([0,1],i)));for(var l=1,m=!0;l<c.length;l+=1){var n=c[l],o=R(n,0,1),p=R(n,-1);if(('"'===o||"'"===o||"`"===o||'"'===p||"'"===p||"`"===p)&&o!==p)throw new j("property names with quotes must have matching quotes");if("constructor"!==n&&m||(h=!0),d+="."+n,N(I,f="%"+d+"%"))g=I[f];else if(null!=g){if(!(n in g)){if(!b)throw new k("base intrinsic for "+a+" exists, but the property is not available.");return}if(w&&l+1>=c.length){var q=w(g,n);g=(m=!!q)&&"get"in q&&!("originalValue"in q.get)?q.get:g[n]}else m=N(g,n),g=g[n];m&&!h&&(I[f]=g)}}return g}},39207:(a,b,c)=>{"use strict";var d=c(38563)("%Object.defineProperty%",!0),e=c(87594)(),f=c(89303),g=c(70141),h=e?Symbol.toStringTag:null;a.exports=function(a,b){var c=arguments.length>2&&!!arguments[2]&&arguments[2].force,e=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(void 0!==c&&"boolean"!=typeof c||void 0!==e&&"boolean"!=typeof e)throw new g("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");h&&(c||!f(a,h))&&(d?d(a,h,{configurable:!e,enumerable:!1,value:b,writable:!1}):a[h]=b)}},40610:a=>{"use strict";a.exports=require("node:dns")},41204:a=>{"use strict";a.exports=require("string_decoder")},41692:a=>{"use strict";a.exports=require("node:tls")},41792:a=>{"use strict";a.exports=require("node:querystring")},42095:a=>{function b(a,b,c,d){return Math.round(a/c)+" "+d+(b>=1.5*c?"s":"")}a.exports=function(a,c){c=c||{};var d,e,f,g,h=typeof a;if("string"===h&&a.length>0){var i=a;if(!((i=String(i)).length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(j){var k=parseFloat(j[1]);switch((j[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*k;case"weeks":case"week":case"w":return 6048e5*k;case"days":case"day":case"d":return 864e5*k;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*k;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*k;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*k;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return k;default:break}}}return}if("number"===h&&isFinite(a)){return c.long?(e=Math.abs(d=a))>=864e5?b(d,e,864e5,"day"):e>=36e5?b(d,e,36e5,"hour"):e>=6e4?b(d,e,6e4,"minute"):e>=1e3?b(d,e,1e3,"second"):d+" ms":(g=Math.abs(f=a))>=864e5?Math.round(f/864e5)+"d":g>=36e5?Math.round(f/36e5)+"h":g>=6e4?Math.round(f/6e4)+"m":g>=1e3?Math.round(f/1e3)+"s":f+"ms"}throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},42877:a=>{"use strict";a.exports=Number.isNaN||function(a){return a!=a}},44870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},47170:(a,b,c)=>{"use strict";var d=c(1886),e=c(72662),f=c(79542);a.exports=d?function(a){return d(a)}:e?function(a){if(!a||"object"!=typeof a&&"function"!=typeof a)throw TypeError("getProto: not an object");return e(a)}:f?function(a){return f(a)}:null},48324:a=>{"use strict";a.exports=function(a,b){return Object.keys(b).forEach(function(c){a[c]=a[c]||b[c]}),a}},50315:a=>{"use strict";a.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var a={},b=Symbol("test"),c=Object(b);if("string"==typeof b||"[object Symbol]"!==Object.prototype.toString.call(b)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(var d in a[b]=42,a)return!1;if("function"==typeof Object.keys&&0!==Object.keys(a).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(a).length)return!1;var e=Object.getOwnPropertySymbols(a);if(1!==e.length||e[0]!==b||!Object.prototype.propertyIsEnumerable.call(a,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(a,b);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},50866:(a,b,c)=>{"use strict";c.r(b),c.d(b,{handler:()=>cn,patchFetch:()=>cm,routeModule:()=>ci,serverHooks:()=>cl,workAsyncStorage:()=>cj,workUnitAsyncStorage:()=>ck});var d,e,f={};c.r(f),c.d(f,{hasBrowserEnv:()=>aK,hasStandardBrowserEnv:()=>aM,hasStandardBrowserWebWorkerEnv:()=>aN,navigator:()=>aL,origin:()=>aO});var g={};c.r(g),c.d(g,{GET:()=>ch,POST:()=>cg,dynamic:()=>cf,runtime:()=>ce});var h=c(95736),i=c(9117),j=c(4044),k=c(39326),l=c(32324),m=c(261),n=c(54290),o=c(85328),p=c(38928),q=c(46595),r=c(3421),s=c(17679),u=c(41681),v=c(63446),w=c(86439),x=c(51356),y=c(10641),z=c(79428);let A=["application/pdf","image/png","image/jpeg","image/jpg","image/gif","image/webp","video/mp4","text/plain","text/csv","application/vnd.ms-excel"],B={"application/pdf":[z.Buffer.from([37,80,68,70])],"image/png":[z.Buffer.from([137,80,78,71,13,10,26,10])],"image/jpeg":[z.Buffer.from([255,216,255,224]),z.Buffer.from([255,216,255,225]),z.Buffer.from([255,216,255,226])],"image/gif":[z.Buffer.from([71,73,70,56,55,97]),z.Buffer.from([71,73,70,56,57,97])],"video/mp4":[z.Buffer.from([0,0,0,24,102,116,121,112]),z.Buffer.from([0,0,0,28,102,116,121,112])]};var C=c(88511),D=c.n(C);function E(a,b){return function(){return a.apply(b,arguments)}}let{toString:F}=Object.prototype,{getPrototypeOf:G}=Object,{iterator:H,toStringTag:I}=Symbol,J=(a=>b=>{let c=F.call(b);return a[c]||(a[c]=c.slice(8,-1).toLowerCase())})(Object.create(null)),K=a=>(a=a.toLowerCase(),b=>J(b)===a),L=a=>b=>typeof b===a,{isArray:M}=Array,N=L("undefined");function O(a){return null!==a&&!N(a)&&null!==a.constructor&&!N(a.constructor)&&R(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}let P=K("ArrayBuffer"),Q=L("string"),R=L("function"),S=L("number"),T=a=>null!==a&&"object"==typeof a,U=a=>{if("object"!==J(a))return!1;let b=G(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(I in a)&&!(H in a)},V=K("Date"),W=K("File"),X=K("Blob"),Y=K("FileList"),Z=K("URLSearchParams"),[$,_,aa,ab]=["ReadableStream","Request","Response","Headers"].map(K);function ac(a,b,{allOwnKeys:c=!1}={}){let d,e;if(null!=a)if("object"!=typeof a&&(a=[a]),M(a))for(d=0,e=a.length;d<e;d++)b.call(null,a[d],d,a);else{let e;if(O(a))return;let f=c?Object.getOwnPropertyNames(a):Object.keys(a),g=f.length;for(d=0;d<g;d++)e=f[d],b.call(null,a[e],e,a)}}function ad(a,b){let c;if(O(a))return null;b=b.toLowerCase();let d=Object.keys(a),e=d.length;for(;e-- >0;)if(b===(c=d[e]).toLowerCase())return c;return null}let ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,af=a=>!N(a)&&a!==ae,ag=(a=>b=>a&&b instanceof a)("undefined"!=typeof Uint8Array&&G(Uint8Array)),ah=K("HTMLFormElement"),ai=(({hasOwnProperty:a})=>(b,c)=>a.call(b,c))(Object.prototype),aj=K("RegExp"),ak=(a,b)=>{let c=Object.getOwnPropertyDescriptors(a),d={};ac(c,(c,e)=>{let f;!1!==(f=b(c,e,a))&&(d[e]=f||c)}),Object.defineProperties(a,d)},al=K("AsyncFunction"),am=(d="function"==typeof setImmediate,e=R(ae.postMessage),d?setImmediate:e?((a,b)=>(ae.addEventListener("message",({source:c,data:d})=>{c===ae&&d===a&&b.length&&b.shift()()},!1),c=>{b.push(c),ae.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a)),an="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ae):"undefined"!=typeof process&&process.nextTick||am,ao={isArray:M,isArrayBuffer:P,isBuffer:O,isFormData:a=>{let b;return a&&("function"==typeof FormData&&a instanceof FormData||R(a.append)&&("formdata"===(b=J(a))||"object"===b&&R(a.toString)&&"[object FormData]"===a.toString()))},isArrayBufferView:function(a){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&P(a.buffer)},isString:Q,isNumber:S,isBoolean:a=>!0===a||!1===a,isObject:T,isPlainObject:U,isEmptyObject:a=>{if(!T(a)||O(a))return!1;try{return 0===Object.keys(a).length&&Object.getPrototypeOf(a)===Object.prototype}catch(a){return!1}},isReadableStream:$,isRequest:_,isResponse:aa,isHeaders:ab,isUndefined:N,isDate:V,isFile:W,isBlob:X,isRegExp:aj,isFunction:R,isStream:a=>T(a)&&R(a.pipe),isURLSearchParams:Z,isTypedArray:ag,isFileList:Y,forEach:ac,merge:function a(){let{caseless:b,skipUndefined:c}=af(this)&&this||{},d={},e=(e,f)=>{let g=b&&ad(d,f)||f;U(d[g])&&U(e)?d[g]=a(d[g],e):U(e)?d[g]=a({},e):M(e)?d[g]=e.slice():c&&N(e)||(d[g]=e)};for(let a=0,b=arguments.length;a<b;a++)arguments[a]&&ac(arguments[a],e);return d},extend:(a,b,c,{allOwnKeys:d}={})=>(ac(b,(b,d)=>{c&&R(b)?a[d]=E(b,c):a[d]=b},{allOwnKeys:d}),a),trim:a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:a=>(65279===a.charCodeAt(0)&&(a=a.slice(1)),a),inherits:(a,b,c,d)=>{a.prototype=Object.create(b.prototype,d),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:b.prototype}),c&&Object.assign(a.prototype,c)},toFlatObject:(a,b,c,d)=>{let e,f,g,h={};if(b=b||{},null==a)return b;do{for(f=(e=Object.getOwnPropertyNames(a)).length;f-- >0;)g=e[f],(!d||d(g,a,b))&&!h[g]&&(b[g]=a[g],h[g]=!0);a=!1!==c&&G(a)}while(a&&(!c||c(a,b))&&a!==Object.prototype);return b},kindOf:J,kindOfTest:K,endsWith:(a,b,c)=>{a=String(a),(void 0===c||c>a.length)&&(c=a.length),c-=b.length;let d=a.indexOf(b,c);return -1!==d&&d===c},toArray:a=>{if(!a)return null;if(M(a))return a;let b=a.length;if(!S(b))return null;let c=Array(b);for(;b-- >0;)c[b]=a[b];return c},forEachEntry:(a,b)=>{let c,d=(a&&a[H]).call(a);for(;(c=d.next())&&!c.done;){let d=c.value;b.call(a,d[0],d[1])}},matchAll:(a,b)=>{let c,d=[];for(;null!==(c=a.exec(b));)d.push(c);return d},isHTMLForm:ah,hasOwnProperty:ai,hasOwnProp:ai,reduceDescriptors:ak,freezeMethods:a=>{ak(a,(b,c)=>{if(R(a)&&-1!==["arguments","caller","callee"].indexOf(c))return!1;if(R(a[c])){if(b.enumerable=!1,"writable"in b){b.writable=!1;return}b.set||(b.set=()=>{throw Error("Can not rewrite read-only method '"+c+"'")})}})},toObjectSet:(a,b)=>{let c={};return(M(a)?a:String(a).split(b)).forEach(a=>{c[a]=!0}),c},toCamelCase:a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,b,c){return b.toUpperCase()+c}),noop:()=>{},toFiniteNumber:(a,b)=>null!=a&&Number.isFinite(a*=1)?a:b,findKey:ad,global:ae,isContextDefined:af,isSpecCompliantForm:function(a){return!!(a&&R(a.append)&&"FormData"===a[I]&&a[H])},toJSONObject:a=>{let b=Array(10),c=(a,d)=>{if(T(a)){if(b.indexOf(a)>=0)return;if(O(a))return a;if(!("toJSON"in a)){b[d]=a;let e=M(a)?[]:{};return ac(a,(a,b)=>{let f=c(a,d+1);N(f)||(e[b]=f)}),b[d]=void 0,e}}return a};return c(a,0)},isAsyncFn:al,isThenable:a=>a&&(T(a)||R(a))&&R(a.then)&&R(a.catch),setImmediate:am,asap:an,isIterable:a=>null!=a&&R(a[H])};function ap(a,b,c,d,e){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=a,this.name="AxiosError",b&&(this.code=b),c&&(this.config=c),d&&(this.request=d),e&&(this.response=e,this.status=e.status?e.status:null)}ao.inherits(ap,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ao.toJSONObject(this.config),code:this.code,status:this.status}}});let aq=ap.prototype,ar={};function as(a){return ao.isPlainObject(a)||ao.isArray(a)}function at(a){return ao.endsWith(a,"[]")?a.slice(0,-2):a}function au(a,b,c){return a?a.concat(b).map(function(a,b){return a=at(a),!c&&b?"["+a+"]":a}).join(c?".":""):b}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{ar[a]={value:a}}),Object.defineProperties(ap,ar),Object.defineProperty(aq,"isAxiosError",{value:!0}),ap.from=(a,b,c,d,e,f)=>{let g=Object.create(aq);ao.toFlatObject(a,g,function(a){return a!==Error.prototype},a=>"isAxiosError"!==a);let h=a&&a.message?a.message:"Error",i=null==b&&a?a.code:b;return ap.call(g,h,i,c,d,e),a&&null==g.cause&&Object.defineProperty(g,"cause",{value:a,configurable:!0}),g.name=a&&a.name||"Error",f&&Object.assign(g,f),g};let av=ao.toFlatObject(ao,{},null,function(a){return/^is[A-Z]/.test(a)}),aw=function(a,b,c){if(!ao.isObject(a))throw TypeError("target must be an object");b=b||new(C||FormData);let d=(c=ao.toFlatObject(c,{metaTokens:!0,dots:!1,indexes:!1},!1,function(a,b){return!ao.isUndefined(b[a])})).metaTokens,e=c.visitor||j,f=c.dots,g=c.indexes,h=(c.Blob||"undefined"!=typeof Blob&&Blob)&&ao.isSpecCompliantForm(b);if(!ao.isFunction(e))throw TypeError("visitor must be a function");function i(a){if(null===a)return"";if(ao.isDate(a))return a.toISOString();if(ao.isBoolean(a))return a.toString();if(!h&&ao.isBlob(a))throw new ap("Blob is not supported. Use a Buffer instead.");return ao.isArrayBuffer(a)||ao.isTypedArray(a)?h&&"function"==typeof Blob?new Blob([a]):Buffer.from(a):a}function j(a,c,e){let h=a;if(a&&!e&&"object"==typeof a)if(ao.endsWith(c,"{}"))c=d?c:c.slice(0,-2),a=JSON.stringify(a);else{var j;if(ao.isArray(a)&&(j=a,ao.isArray(j)&&!j.some(as))||(ao.isFileList(a)||ao.endsWith(c,"[]"))&&(h=ao.toArray(a)))return c=at(c),h.forEach(function(a,d){ao.isUndefined(a)||null===a||b.append(!0===g?au([c],d,f):null===g?c:c+"[]",i(a))}),!1}return!!as(a)||(b.append(au(e,c,f),i(a)),!1)}let k=[],l=Object.assign(av,{defaultVisitor:j,convertValue:i,isVisitable:as});if(!ao.isObject(a))throw TypeError("data must be an object");return!function a(c,d){if(!ao.isUndefined(c)){if(-1!==k.indexOf(c))throw Error("Circular reference detected in "+d.join("."));k.push(c),ao.forEach(c,function(c,f){!0===(!(ao.isUndefined(c)||null===c)&&e.call(b,c,ao.isString(f)?f.trim():f,d,l))&&a(c,d?d.concat(f):[f])}),k.pop()}}(a),b};function ax(a){let b={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(a){return b[a]})}function ay(a,b){this._pairs=[],a&&aw(a,this,b)}let az=ay.prototype;function aA(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function aB(a,b,c){let d;if(!b)return a;let e=c&&c.encode||aA;ao.isFunction(c)&&(c={serialize:c});let f=c&&c.serialize;if(d=f?f(b,c):ao.isURLSearchParams(b)?b.toString():new ay(b,c).toString(e)){let b=a.indexOf("#");-1!==b&&(a=a.slice(0,b)),a+=(-1===a.indexOf("?")?"?":"&")+d}return a}az.append=function(a,b){this._pairs.push([a,b])},az.toString=function(a){let b=a?function(b){return a.call(this,b,ax)}:ax;return this._pairs.map(function(a){return b(a[0])+"="+b(a[1])},"").join("&")};class aC{constructor(){this.handlers=[]}use(a,b,c){return this.handlers.push({fulfilled:a,rejected:b,synchronous:!!c&&c.synchronous,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){ao.forEach(this.handlers,function(b){null!==b&&a(b)})}}let aD={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var aE=c(55511);let aF=c(79551).URLSearchParams,aG="abcdefghijklmnopqrstuvwxyz",aH="0123456789",aI={DIGIT:aH,ALPHA:aG,ALPHA_DIGIT:aG+aG.toUpperCase()+aH},aJ={isNode:!0,classes:{URLSearchParams:aF,FormData:C,Blob:"undefined"!=typeof Blob&&Blob||null},ALPHABET:aI,generateString:(a=16,b=aI.ALPHA_DIGIT)=>{let c="",{length:d}=b,e=new Uint32Array(a);aE.randomFillSync(e);for(let f=0;f<a;f++)c+=b[e[f]%d];return c},protocols:["http","https","file","data"]},aK="undefined"!=typeof window&&"undefined"!=typeof document,aL="object"==typeof navigator&&navigator||void 0,aM=aK&&(!aL||0>["ReactNative","NativeScript","NS"].indexOf(aL.product)),aN="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,aO=aK&&window.location.href||"http://localhost",aP={...f,...aJ},aQ=function(a){if(ao.isFormData(a)&&ao.isFunction(a.entries)){let b={};return ao.forEachEntry(a,(a,c)=>{!function a(b,c,d,e){let f=b[e++];if("__proto__"===f)return!0;let g=Number.isFinite(+f),h=e>=b.length;return(f=!f&&ao.isArray(d)?d.length:f,h)?ao.hasOwnProp(d,f)?d[f]=[d[f],c]:d[f]=c:(d[f]&&ao.isObject(d[f])||(d[f]=[]),a(b,c,d[f],e)&&ao.isArray(d[f])&&(d[f]=function(a){let b,c,d={},e=Object.keys(a),f=e.length;for(b=0;b<f;b++)d[c=e[b]]=a[c];return d}(d[f]))),!g}(ao.matchAll(/\w+|\[(\w*)]/g,a).map(a=>"[]"===a[0]?"":a[1]||a[0]),c,b,0)}),b}return null},aR={transitional:aD,adapter:["xhr","http","fetch"],transformRequest:[function(a,b){let c,d=b.getContentType()||"",e=d.indexOf("application/json")>-1,f=ao.isObject(a);if(f&&ao.isHTMLForm(a)&&(a=new FormData(a)),ao.isFormData(a))return e?JSON.stringify(aQ(a)):a;if(ao.isArrayBuffer(a)||ao.isBuffer(a)||ao.isStream(a)||ao.isFile(a)||ao.isBlob(a)||ao.isReadableStream(a))return a;if(ao.isArrayBufferView(a))return a.buffer;if(ao.isURLSearchParams(a))return b.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();if(f){if(d.indexOf("application/x-www-form-urlencoded")>-1){var g,h;return(g=a,h=this.formSerializer,aw(g,new aP.classes.URLSearchParams,{visitor:function(a,b,c,d){return aP.isNode&&ao.isBuffer(a)?(this.append(b,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...h})).toString()}if((c=ao.isFileList(a))||d.indexOf("multipart/form-data")>-1){let b=this.env&&this.env.FormData;return aw(c?{"files[]":a}:a,b&&new b,this.formSerializer)}}if(f||e){b.setContentType("application/json",!1);var i=a;if(ao.isString(i))try{return(0,JSON.parse)(i),ao.trim(i)}catch(a){if("SyntaxError"!==a.name)throw a}return(0,JSON.stringify)(i)}return a}],transformResponse:[function(a){let b=this.transitional||aR.transitional,c=b&&b.forcedJSONParsing,d="json"===this.responseType;if(ao.isResponse(a)||ao.isReadableStream(a))return a;if(a&&ao.isString(a)&&(c&&!this.responseType||d)){let c=b&&b.silentJSONParsing;try{return JSON.parse(a,this.parseReviver)}catch(a){if(!c&&d){if("SyntaxError"===a.name)throw ap.from(a,ap.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:aP.classes.FormData,Blob:aP.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ao.forEach(["delete","get","head","post","put","patch"],a=>{aR.headers[a]={}});let aS=ao.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aT=Symbol("internals");function aU(a){return a&&String(a).trim().toLowerCase()}function aV(a){return!1===a||null==a?a:ao.isArray(a)?a.map(aV):String(a)}function aW(a,b,c,d,e){if(ao.isFunction(d))return d.call(this,b,c);if(e&&(b=c),ao.isString(b)){if(ao.isString(d))return -1!==b.indexOf(d);if(ao.isRegExp(d))return d.test(b)}}class aX{constructor(a){a&&this.set(a)}set(a,b,c){let d=this;function e(a,b,c){let e=aU(b);if(!e)throw Error("header name must be a non-empty string");let f=ao.findKey(d,e);f&&void 0!==d[f]&&!0!==c&&(void 0!==c||!1===d[f])||(d[f||b]=aV(a))}let f=(a,b)=>ao.forEach(a,(a,c)=>e(a,c,b));if(ao.isPlainObject(a)||a instanceof this.constructor)f(a,b);else{let d;if(ao.isString(a)&&(a=a.trim())&&(d=a,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(d.trim())))f((a=>{let b,c,d,e={};return a&&a.split("\n").forEach(function(a){d=a.indexOf(":"),b=a.substring(0,d).trim().toLowerCase(),c=a.substring(d+1).trim(),!b||e[b]&&aS[b]||("set-cookie"===b?e[b]?e[b].push(c):e[b]=[c]:e[b]=e[b]?e[b]+", "+c:c)}),e})(a),b);else if(ao.isObject(a)&&ao.isIterable(a)){let c={},d,e;for(let b of a){if(!ao.isArray(b))throw TypeError("Object iterator must return a key-value pair");c[e=b[0]]=(d=c[e])?ao.isArray(d)?[...d,b[1]]:[d,b[1]]:b[1]}f(c,b)}else null!=a&&e(b,a,c)}return this}get(a,b){if(a=aU(a)){let c=ao.findKey(this,a);if(c){let a=this[c];if(!b)return a;if(!0===b){let b,c=Object.create(null),d=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;b=d.exec(a);)c[b[1]]=b[2];return c}if(ao.isFunction(b))return b.call(this,a,c);if(ao.isRegExp(b))return b.exec(a);throw TypeError("parser must be boolean|regexp|function")}}}has(a,b){if(a=aU(a)){let c=ao.findKey(this,a);return!!(c&&void 0!==this[c]&&(!b||aW(this,this[c],c,b)))}return!1}delete(a,b){let c=this,d=!1;function e(a){if(a=aU(a)){let e=ao.findKey(c,a);e&&(!b||aW(c,c[e],e,b))&&(delete c[e],d=!0)}}return ao.isArray(a)?a.forEach(e):e(a),d}clear(a){let b=Object.keys(this),c=b.length,d=!1;for(;c--;){let e=b[c];(!a||aW(this,this[e],e,a,!0))&&(delete this[e],d=!0)}return d}normalize(a){let b=this,c={};return ao.forEach(this,(d,e)=>{let f=ao.findKey(c,e);if(f){b[f]=aV(d),delete b[e];return}let g=a?e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,b,c)=>b.toUpperCase()+c):String(e).trim();g!==e&&delete b[e],b[g]=aV(d),c[g]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){let b=Object.create(null);return ao.forEach(this,(c,d)=>{null!=c&&!1!==c&&(b[d]=a&&ao.isArray(c)?c.join(", "):c)}),b}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,b])=>a+": "+b).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...b){let c=new this(a);return b.forEach(a=>c.set(a)),c}static accessor(a){let b=(this[aT]=this[aT]={accessors:{}}).accessors,c=this.prototype;function d(a){let d=aU(a);if(!b[d]){let e=ao.toCamelCase(" "+a);["get","set","has"].forEach(b=>{Object.defineProperty(c,b+e,{value:function(c,d,e){return this[b].call(this,a,c,d,e)},configurable:!0})}),b[d]=!0}}return ao.isArray(a)?a.forEach(d):d(a),this}}function aY(a,b){let c=this||aR,d=b||c,e=aX.from(d.headers),f=d.data;return ao.forEach(a,function(a){f=a.call(c,f,e.normalize(),b?b.status:void 0)}),e.normalize(),f}function aZ(a){return!!(a&&a.__CANCEL__)}function a$(a,b,c){ap.call(this,null==a?"canceled":a,ap.ERR_CANCELED,b,c),this.name="CanceledError"}function a_(a,b,c){let d=c.config.validateStatus;!c.status||!d||d(c.status)?a(c):b(new ap("Request failed with status code "+c.status,[ap.ERR_BAD_REQUEST,ap.ERR_BAD_RESPONSE][Math.floor(c.status/100)-4],c.config,c.request,c))}function a0(a,b,c){let d=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(b);return a&&(d||!1==c)?b?a.replace(/\/?\/$/,"")+"/"+b.replace(/^\/+/,""):a:b}aX.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ao.reduceDescriptors(aX.prototype,({value:a},b)=>{let c=b[0].toUpperCase()+b.slice(1);return{get:()=>a,set(a){this[c]=a}}}),ao.freezeMethods(aX),ao.inherits(a$,ap,{__CANCEL__:!0});var a1=c(26982),a2=c(81630),a3=c(55591),a4=c(28354),a5=c(37878),a6=c(74075);let a7="1.12.2";function a8(a){let b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return b&&b[1]||""}let a9=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;var ba=c(27910);let bb=Symbol("internals");class bc extends ba.Transform{constructor(a){super({readableHighWaterMark:(a=ao.toFlatObject(a,{maxRate:0,chunkSize:65536,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,b)=>!ao.isUndefined(b[a]))).chunkSize});let b=this[bb]={timeWindow:a.timeWindow,chunkSize:a.chunkSize,maxRate:a.maxRate,minChunkSize:a.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",a=>{"progress"!==a||b.isCaptured||(b.isCaptured=!0)})}_read(a){let b=this[bb];return b.onReadCallback&&b.onReadCallback(),super._read(a)}_transform(a,b,c){let d=this[bb],e=d.maxRate,f=this.readableHighWaterMark,g=d.timeWindow,h=e/(1e3/g),i=!1!==d.minChunkSize?Math.max(d.minChunkSize,.01*h):0,j=(a,b)=>{let c=Buffer.byteLength(a);d.bytesSeen+=c,d.bytes+=c,d.isCaptured&&this.emit("progress",d.bytesSeen),this.push(a)?process.nextTick(b):d.onReadCallback=()=>{d.onReadCallback=null,process.nextTick(b)}},k=(a,b)=>{let c,k=Buffer.byteLength(a),l=null,m=f,n=0;if(e){let a=Date.now();(!d.ts||(n=a-d.ts)>=g)&&(d.ts=a,c=h-d.bytes,d.bytes=c<0?-c:0,n=0),c=h-d.bytes}if(e){if(c<=0)return setTimeout(()=>{b(null,a)},g-n);c<m&&(m=c)}m&&k>m&&k-m>i&&(l=a.subarray(m),a=a.subarray(0,m)),j(a,l?()=>{process.nextTick(b,null,l)}:b)};k(a,function a(b,d){if(b)return c(b);d?k(d,a):c(null)})}}let bd=require("events"),{asyncIterator:be}=Symbol,bf=async function*(a){a.stream?yield*a.stream():a.arrayBuffer?yield await a.arrayBuffer():a[be]?yield*a[be]():yield a},bg=aP.ALPHABET.ALPHA_DIGIT+"-_",bh="function"==typeof TextEncoder?new TextEncoder:new a4.TextEncoder,bi=bh.encode("\r\n");class bj{constructor(a,b){let{escapeName:c}=this.constructor,d=ao.isString(b),e=`Content-Disposition: form-data; name="${c(a)}"${!d&&b.name?`; filename="${c(b.name)}"`:""}\r
`;d?b=bh.encode(String(b).replace(/\r?\n|\r\n?/g,"\r\n")):e+=`Content-Type: ${b.type||"application/octet-stream"}\r
`,this.headers=bh.encode(e+"\r\n"),this.contentLength=d?b.byteLength:b.size,this.size=this.headers.byteLength+this.contentLength+2,this.name=a,this.value=b}async *encode(){yield this.headers;let{value:a}=this;ao.isTypedArray(a)?yield a:yield*bf(a),yield bi}static escapeName(a){return String(a).replace(/[\r\n"]/g,a=>({"\r":"%0D","\n":"%0A",'"':"%22"})[a])}}class bk extends ba.Transform{__transform(a,b,c){this.push(a),c()}_transform(a,b,c){if(0!==a.length&&(this._transform=this.__transform,120!==a[0])){let a=Buffer.alloc(2);a[0]=120,a[1]=156,this.push(a,b)}this.__transform(a,b,c)}}let bl=function(a,b){let c,d=Array(a=a||10),e=Array(a),f=0,g=0;return b=void 0!==b?b:1e3,function(h){let i=Date.now(),j=e[g];c||(c=i),d[f]=h,e[f]=i;let k=g,l=0;for(;k!==f;)l+=d[k++],k%=a;if((f=(f+1)%a)===g&&(g=(g+1)%a),i-c<b)return;let m=j&&i-j;return m?Math.round(1e3*l/m):void 0}},bm=function(a,b){let c,d,e=0,f=1e3/b,g=(b,f=Date.now())=>{e=f,c=null,d&&(clearTimeout(d),d=null),a(...b)};return[(...a)=>{let b=Date.now(),h=b-e;h>=f?g(a,b):(c=a,d||(d=setTimeout(()=>{d=null,g(c)},f-h)))},()=>c&&g(c)]},bn=(a,b,c=3)=>{let d=0,e=bl(50,250);return bm(c=>{let f=c.loaded,g=c.lengthComputable?c.total:void 0,h=f-d,i=e(h);d=f,a({loaded:f,total:g,progress:g?f/g:void 0,bytes:h,rate:i||void 0,estimated:i&&g&&f<=g?(g-f)/i:void 0,event:c,lengthComputable:null!=g,[b?"download":"upload"]:!0})},c)},bo=(a,b)=>{let c=null!=a;return[d=>b[0]({lengthComputable:c,total:a,loaded:d}),b[1]]},bp=a=>(...b)=>ao.asap(()=>a(...b)),bq={flush:a6.constants.Z_SYNC_FLUSH,finishFlush:a6.constants.Z_SYNC_FLUSH},br={flush:a6.constants.BROTLI_OPERATION_FLUSH,finishFlush:a6.constants.BROTLI_OPERATION_FLUSH},bs=ao.isFunction(a6.createBrotliDecompress),{http:bt,https:bu}=a5,bv=/https:?/,bw=aP.protocols.map(a=>a+":"),bx=(a,[b,c])=>(a.on("end",c).on("error",c),b);function by(a,b){a.beforeRedirects.proxy&&a.beforeRedirects.proxy(a),a.beforeRedirects.config&&a.beforeRedirects.config(a,b)}let bz="undefined"!=typeof process&&"process"===ao.kindOf(process),bA=(a,b)=>(({address:a,family:b})=>{if(!ao.isString(a))throw TypeError("address must be a string");return{address:a,family:b||(0>a.indexOf(".")?6:4)}})(ao.isObject(a)?a:{address:a,family:b}),bB=bz&&function(a){let b;return b=async function(b,c,d){let e,f,g,h,i,j,k,{data:l,lookup:m,family:n}=a,{responseType:o,responseEncoding:p}=a,q=a.method.toUpperCase(),r=!1;if(m){let a,b,c=(a=m,b=a=>ao.isArray(a)?a:[a],ao.isAsyncFn(a)?function(...c){let d=c.pop();a.apply(this,c).then(a=>{try{b?d(null,...b(a)):d(null,a)}catch(a){d(a)}},d)}:a);m=(a,b,d)=>{c(a,b,(a,c,e)=>{if(a)return d(a);let f=ao.isArray(c)?c.map(a=>bA(a)):[bA(c,e)];b.all?d(a,f):d(a,f[0].address,f[0].family)})}}let s=new bd.EventEmitter,u=()=>{a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v),s.removeAllListeners()};function v(b){s.emit("abort",!b||b.type?new a$(null,a,i):b)}d((a,b)=>{h=!0,b&&(r=!0,u())}),s.once("abort",c),(a.cancelToken||a.signal)&&(a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));let w=a0(a.baseURL,a.url,a.allowAbsoluteUrls),x=new URL(w,aP.hasBrowserEnv?aP.origin:void 0),y=x.protocol||bw[0];if("data:"===y){let d;if(a.maxContentLength>-1&&function(a){if(!a||"string"!=typeof a||!a.startsWith("data:"))return 0;let b=a.indexOf(",");if(b<0)return 0;let c=a.slice(5,b),d=a.slice(b+1);if(/;base64/i.test(c)){let a=d.length,b=d.length;for(let c=0;c<b;c++)if(37===d.charCodeAt(c)&&c+2<b){let b=d.charCodeAt(c+1),e=d.charCodeAt(c+2);(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102)&&(e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102)&&(a-=2,c+=2)}let c=0,e=b-1,f=a=>a>=2&&37===d.charCodeAt(a-2)&&51===d.charCodeAt(a-1)&&(68===d.charCodeAt(a)||100===d.charCodeAt(a));e>=0&&(61===d.charCodeAt(e)?(c++,e--):f(e)&&(c++,e-=3)),1===c&&e>=0&&(61===d.charCodeAt(e)?c++:f(e)&&c++);let g=3*Math.floor(a/4)-(c||0);return g>0?g:0}return Buffer.byteLength(d,"utf8")}(String(a.url||w||""))>a.maxContentLength)return c(new ap("maxContentLength size of "+a.maxContentLength+" exceeded",ap.ERR_BAD_RESPONSE,a));if("GET"!==q)return a_(b,c,{status:405,statusText:"method not allowed",headers:{},config:a});try{d=function(a,b,c){let d=c&&c.Blob||aP.classes.Blob,e=a8(a);if(void 0===b&&d&&(b=!0),"data"===e){a=e.length?a.slice(e.length+1):a;let c=a9.exec(a);if(!c)throw new ap("Invalid URL",ap.ERR_INVALID_URL);let f=c[1],g=c[2],h=c[3],i=Buffer.from(decodeURIComponent(h),g?"base64":"utf8");if(b){if(!d)throw new ap("Blob is not supported",ap.ERR_NOT_SUPPORT);return new d([i],{type:f})}return i}throw new ap("Unsupported protocol "+e,ap.ERR_NOT_SUPPORT)}(a.url,"blob"===o,{Blob:a.env&&a.env.Blob})}catch(b){throw ap.from(b,ap.ERR_BAD_REQUEST,a)}return"text"===o?(d=d.toString(p),p&&"utf8"!==p||(d=ao.stripBOM(d))):"stream"===o&&(d=ba.Readable.from(d)),a_(b,c,{data:d,status:200,statusText:"OK",headers:new aX,config:a})}if(-1===bw.indexOf(y))return c(new ap("Unsupported protocol "+y,ap.ERR_BAD_REQUEST,a));let z=aX.from(a.headers).normalize();z.set("User-Agent","axios/"+a7,!1);let{onUploadProgress:A,onDownloadProgress:B}=a,C=a.maxRate;if(ao.isSpecCompliantForm(l)){let a=z.getContentType(/boundary=([-_\w\d]{10,70})/i);l=((a,b,c)=>{let{tag:d="form-data-boundary",size:e=25,boundary:f=d+"-"+aP.generateString(e,bg)}=c||{};if(!ao.isFormData(a))throw TypeError("FormData instance required");if(f.length<1||f.length>70)throw Error("boundary must be 10-70 characters long");let g=bh.encode("--"+f+"\r\n"),h=bh.encode("--"+f+"--\r\n"),i=h.byteLength,j=Array.from(a.entries()).map(([a,b])=>{let c=new bj(a,b);return i+=c.size,c});i+=g.byteLength*j.length;let k={"Content-Type":`multipart/form-data; boundary=${f}`};return Number.isFinite(i=ao.toFiniteNumber(i))&&(k["Content-Length"]=i),b&&b(k),ba.Readable.from(async function*(){for(let a of j)yield g,yield*a.encode();yield h}())})(l,a=>{z.set(a)},{tag:`axios-${a7}-boundary`,boundary:a&&a[1]||void 0})}else if(ao.isFormData(l)&&ao.isFunction(l.getHeaders)){if(z.set(l.getHeaders()),!z.hasContentLength())try{let a=await a4.promisify(l.getLength).call(l);Number.isFinite(a)&&a>=0&&z.setContentLength(a)}catch(a){}}else if(ao.isBlob(l)||ao.isFile(l))l.size&&z.setContentType(l.type||"application/octet-stream"),z.setContentLength(l.size||0),l=ba.Readable.from(bf(l));else if(l&&!ao.isStream(l)){if(Buffer.isBuffer(l));else if(ao.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else{if(!ao.isString(l))return c(new ap("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",ap.ERR_BAD_REQUEST,a));l=Buffer.from(l,"utf-8")}if(z.setContentLength(l.length,!1),a.maxBodyLength>-1&&l.length>a.maxBodyLength)return c(new ap("Request body larger than maxBodyLength limit",ap.ERR_BAD_REQUEST,a))}let D=ao.toFiniteNumber(z.getContentLength());ao.isArray(C)?(e=C[0],f=C[1]):e=f=C,l&&(A||e)&&(ao.isStream(l)||(l=ba.Readable.from(l,{objectMode:!1})),l=ba.pipeline([l,new bc({maxRate:ao.toFiniteNumber(e)})],ao.noop),A&&l.on("progress",bx(l,bo(D,bn(bp(A),!1,3))))),a.auth&&(g=(a.auth.username||"")+":"+(a.auth.password||"")),!g&&x.username&&(g=x.username+":"+x.password),g&&z.delete("authorization");try{j=aB(x.pathname+x.search,a.params,a.paramsSerializer).replace(/^\?/,"")}catch(d){let b=Error(d.message);return b.config=a,b.url=a.url,b.exists=!0,c(b)}z.set("Accept-Encoding","gzip, compress, deflate"+(bs?", br":""),!1);let E={path:j,method:q,headers:z.toJSON(),agents:{http:a.httpAgent,https:a.httpsAgent},auth:g,protocol:y,family:n,beforeRedirect:by,beforeRedirects:{}};ao.isUndefined(m)||(E.lookup=m),a.socketPath?E.socketPath=a.socketPath:(E.hostname=x.hostname.startsWith("[")?x.hostname.slice(1,-1):x.hostname,E.port=x.port,function a(b,c,d){let e=c;if(!e&&!1!==e){let a=a1.getProxyForUrl(d);a&&(e=new URL(a))}if(e){if(e.username&&(e.auth=(e.username||"")+":"+(e.password||"")),e.auth){(e.auth.username||e.auth.password)&&(e.auth=(e.auth.username||"")+":"+(e.auth.password||""));let a=Buffer.from(e.auth,"utf8").toString("base64");b.headers["Proxy-Authorization"]="Basic "+a}b.headers.host=b.hostname+(b.port?":"+b.port:"");let a=e.hostname||e.host;b.hostname=a,b.host=a,b.port=e.port,b.path=d,e.protocol&&(b.protocol=e.protocol.includes(":")?e.protocol:`${e.protocol}:`)}b.beforeRedirects.proxy=function(b){a(b,c,b.href)}}(E,a.proxy,y+"//"+x.hostname+(x.port?":"+x.port:"")+E.path));let F=bv.test(E.protocol);if(E.agent=F?a.httpsAgent:a.httpAgent,a.transport?k=a.transport:0===a.maxRedirects?k=F?a3:a2:(a.maxRedirects&&(E.maxRedirects=a.maxRedirects),a.beforeRedirect&&(E.beforeRedirects.config=a.beforeRedirect),k=F?bu:bt),a.maxBodyLength>-1?E.maxBodyLength=a.maxBodyLength:E.maxBodyLength=1/0,a.insecureHTTPParser&&(E.insecureHTTPParser=a.insecureHTTPParser),i=k.request(E,function(d){if(i.destroyed)return;let e=[d],g=+d.headers["content-length"];if(B||f){let a=new bc({maxRate:ao.toFiniteNumber(f)});B&&a.on("progress",bx(a,bo(g,bn(bp(B),!0,3)))),e.push(a)}let h=d,j=d.req||i;if(!1!==a.decompress&&d.headers["content-encoding"])switch(("HEAD"===q||204===d.statusCode)&&delete d.headers["content-encoding"],(d.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":e.push(a6.createUnzip(bq)),delete d.headers["content-encoding"];break;case"deflate":e.push(new bk),e.push(a6.createUnzip(bq)),delete d.headers["content-encoding"];break;case"br":bs&&(e.push(a6.createBrotliDecompress(br)),delete d.headers["content-encoding"])}h=e.length>1?ba.pipeline(e,ao.noop):e[0];let k=ba.finished(h,()=>{k(),u()}),l={status:d.statusCode,statusText:d.statusMessage,headers:new aX(d.headers),config:a,request:j};if("stream"===o)l.data=h,a_(b,c,l);else{let d=[],e=0;h.on("data",function(b){d.push(b),e+=b.length,a.maxContentLength>-1&&e>a.maxContentLength&&(r=!0,h.destroy(),c(new ap("maxContentLength size of "+a.maxContentLength+" exceeded",ap.ERR_BAD_RESPONSE,a,j)))}),h.on("aborted",function(){if(r)return;let b=new ap("stream has been aborted",ap.ERR_BAD_RESPONSE,a,j);h.destroy(b),c(b)}),h.on("error",function(b){i.destroyed||c(ap.from(b,null,a,j))}),h.on("end",function(){try{let a=1===d.length?d[0]:Buffer.concat(d);"arraybuffer"!==o&&(a=a.toString(p),p&&"utf8"!==p||(a=ao.stripBOM(a))),l.data=a}catch(b){return c(ap.from(b,null,a,l.request,l))}a_(b,c,l)})}s.once("abort",a=>{h.destroyed||(h.emit("error",a),h.destroy())})}),s.once("abort",a=>{c(a),i.destroy(a)}),i.on("error",function(b){c(ap.from(b,null,a,i))}),i.on("socket",function(a){a.setKeepAlive(!0,6e4)}),a.timeout){let b=parseInt(a.timeout,10);if(Number.isNaN(b))return void c(new ap("error trying to parse `config.timeout` to int",ap.ERR_BAD_OPTION_VALUE,a,i));i.setTimeout(b,function(){if(h)return;let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded",d=a.transitional||aD;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),c(new ap(b,d.clarifyTimeoutError?ap.ETIMEDOUT:ap.ECONNABORTED,a,i)),v()})}if(ao.isStream(l)){let b=!1,c=!1;l.on("end",()=>{b=!0}),l.once("error",a=>{c=!0,i.destroy(a)}),l.on("close",()=>{b||c||v(new a$("Request stream has been aborted",a,i))}),l.pipe(i)}else i.end(l)},new Promise((a,c)=>{let d,e,f=(a,b)=>{!e&&(e=!0,d&&d(a,b))},g=a=>{f(a,!0),c(a)};b(b=>{f(b),a(b)},g,a=>d=a).catch(g)})},bC=aP.hasStandardBrowserEnv?((a,b)=>c=>(c=new URL(c,aP.origin),a.protocol===c.protocol&&a.host===c.host&&(b||a.port===c.port)))(new URL(aP.origin),aP.navigator&&/(msie|trident)/i.test(aP.navigator.userAgent)):()=>!0,bD=aP.hasStandardBrowserEnv?{write(a,b,c,d,e,f){let g=[a+"="+encodeURIComponent(b)];ao.isNumber(c)&&g.push("expires="+new Date(c).toGMTString()),ao.isString(d)&&g.push("path="+d),ao.isString(e)&&g.push("domain="+e),!0===f&&g.push("secure"),document.cookie=g.join("; ")},read(a){let b=document.cookie.match(RegExp("(^|;\\s*)("+a+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}},bE=a=>a instanceof aX?{...a}:a;function bF(a,b){b=b||{};let c={};function d(a,b,c,d){return ao.isPlainObject(a)&&ao.isPlainObject(b)?ao.merge.call({caseless:d},a,b):ao.isPlainObject(b)?ao.merge({},b):ao.isArray(b)?b.slice():b}function e(a,b,c,e){return ao.isUndefined(b)?ao.isUndefined(a)?void 0:d(void 0,a,c,e):d(a,b,c,e)}function f(a,b){if(!ao.isUndefined(b))return d(void 0,b)}function g(a,b){return ao.isUndefined(b)?ao.isUndefined(a)?void 0:d(void 0,a):d(void 0,b)}function h(c,e,f){return f in b?d(c,e):f in a?d(void 0,c):void 0}let i={url:f,method:f,data:f,baseURL:g,transformRequest:g,transformResponse:g,paramsSerializer:g,timeout:g,timeoutMessage:g,withCredentials:g,withXSRFToken:g,adapter:g,responseType:g,xsrfCookieName:g,xsrfHeaderName:g,onUploadProgress:g,onDownloadProgress:g,decompress:g,maxContentLength:g,maxBodyLength:g,beforeRedirect:g,transport:g,httpAgent:g,httpsAgent:g,cancelToken:g,socketPath:g,responseEncoding:g,validateStatus:h,headers:(a,b,c)=>e(bE(a),bE(b),c,!0)};return ao.forEach(Object.keys({...a,...b}),function(d){let f=i[d]||e,g=f(a[d],b[d],d);ao.isUndefined(g)&&f!==h||(c[d]=g)}),c}let bG=a=>{let b=bF({},a),{data:c,withXSRFToken:d,xsrfHeaderName:e,xsrfCookieName:f,headers:g,auth:h}=b;if(b.headers=g=aX.from(g),b.url=aB(a0(b.baseURL,b.url,b.allowAbsoluteUrls),a.params,a.paramsSerializer),h&&g.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ao.isFormData(c)){if(aP.hasStandardBrowserEnv||aP.hasStandardBrowserWebWorkerEnv)g.setContentType(void 0);else if(ao.isFunction(c.getHeaders)){let a=c.getHeaders(),b=["content-type","content-length"];Object.entries(a).forEach(([a,c])=>{b.includes(a.toLowerCase())&&g.set(a,c)})}}if(aP.hasStandardBrowserEnv&&(d&&ao.isFunction(d)&&(d=d(b)),d||!1!==d&&bC(b.url))){let a=e&&f&&bD.read(f);a&&g.set(e,a)}return b},bH="undefined"!=typeof XMLHttpRequest&&function(a){return new Promise(function(b,c){let d,e,f,g,h,i=bG(a),j=i.data,k=aX.from(i.headers).normalize(),{responseType:l,onUploadProgress:m,onDownloadProgress:n}=i;function o(){g&&g(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let p=new XMLHttpRequest;function q(){if(!p)return;let d=aX.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());a_(function(a){b(a),o()},function(a){c(a),o()},{data:l&&"text"!==l&&"json"!==l?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:d,config:a,request:p}),p=null}p.open(i.method.toUpperCase(),i.url,!0),p.timeout=i.timeout,"onloadend"in p?p.onloadend=q:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(q)},p.onabort=function(){p&&(c(new ap("Request aborted",ap.ECONNABORTED,a,p)),p=null)},p.onerror=function(b){let d=new ap(b&&b.message?b.message:"Network Error",ap.ERR_NETWORK,a,p);d.event=b||null,c(d),p=null},p.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",d=i.transitional||aD;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),c(new ap(b,d.clarifyTimeoutError?ap.ETIMEDOUT:ap.ECONNABORTED,a,p)),p=null},void 0===j&&k.setContentType(null),"setRequestHeader"in p&&ao.forEach(k.toJSON(),function(a,b){p.setRequestHeader(b,a)}),ao.isUndefined(i.withCredentials)||(p.withCredentials=!!i.withCredentials),l&&"json"!==l&&(p.responseType=i.responseType),n&&([f,h]=bn(n,!0),p.addEventListener("progress",f)),m&&p.upload&&([e,g]=bn(m),p.upload.addEventListener("progress",e),p.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=b=>{p&&(c(!b||b.type?new a$(null,a,p):b),p.abort(),p=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));let r=a8(i.url);if(r&&-1===aP.protocols.indexOf(r))return void c(new ap("Unsupported protocol "+r+":",ap.ERR_BAD_REQUEST,a));p.send(j||null)})},bI=function*(a,b){let c,d=a.byteLength;if(!b||d<b)return void(yield a);let e=0;for(;e<d;)c=e+b,yield a.slice(e,c),e=c},bJ=async function*(a,b){for await(let c of bK(a))yield*bI(c,b)},bK=async function*(a){if(a[Symbol.asyncIterator])return void(yield*a);let b=a.getReader();try{for(;;){let{done:a,value:c}=await b.read();if(a)break;yield c}}finally{await b.cancel()}},bL=(a,b,c,d)=>{let e,f=bJ(a,b),g=0,h=a=>{!e&&(e=!0,d&&d(a))};return new ReadableStream({async pull(a){try{let{done:b,value:d}=await f.next();if(b){h(),a.close();return}let e=d.byteLength;if(c){let a=g+=e;c(a)}a.enqueue(new Uint8Array(d))}catch(a){throw h(a),a}},cancel:a=>(h(a),f.return())},{highWaterMark:2})},{isFunction:bM}=ao,bN=(({Request:a,Response:b})=>({Request:a,Response:b}))(ao.global),{ReadableStream:bO,TextEncoder:bP}=ao.global,bQ=(a,...b)=>{try{return!!a(...b)}catch(a){return!1}},bR=a=>{let b,{fetch:c,Request:d,Response:e}=a=ao.merge.call({skipUndefined:!0},bN,a),f=c?bM(c):"function"==typeof fetch,g=bM(d),h=bM(e);if(!f)return!1;let i=f&&bM(bO),j=f&&("function"==typeof bP?(b=new bP,a=>b.encode(a)):async a=>new Uint8Array(await new d(a).arrayBuffer())),k=g&&i&&bQ(()=>{let a=!1,b=new d(aP.origin,{body:new bO,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!b}),l=h&&i&&bQ(()=>ao.isReadableStream(new e("").body)),m={stream:l&&(a=>a.body)};f&&["text","arrayBuffer","blob","formData","stream"].forEach(a=>{m[a]||(m[a]=(b,c)=>{let d=b&&b[a];if(d)return d.call(b);throw new ap(`Response type '${a}' is not supported`,ap.ERR_NOT_SUPPORT,c)})});let n=async a=>{if(null==a)return 0;if(ao.isBlob(a))return a.size;if(ao.isSpecCompliantForm(a)){let b=new d(aP.origin,{method:"POST",body:a});return(await b.arrayBuffer()).byteLength}return ao.isArrayBufferView(a)||ao.isArrayBuffer(a)?a.byteLength:(ao.isURLSearchParams(a)&&(a+=""),ao.isString(a))?(await j(a)).byteLength:void 0},o=async(a,b)=>{let c=ao.toFiniteNumber(a.getContentLength());return null==c?n(b):c};return async a=>{let b,{url:f,method:h,data:i,signal:j,cancelToken:n,timeout:p,onDownloadProgress:q,onUploadProgress:r,responseType:s,headers:u,withCredentials:v="same-origin",fetchOptions:w}=bG(a),x=c||fetch;s=s?(s+"").toLowerCase():"text";let y=((a,b)=>{let{length:c}=a=a?a.filter(Boolean):[];if(b||c){let c,d=new AbortController,e=function(a){if(!c){c=!0,g();let b=a instanceof Error?a:this.reason;d.abort(b instanceof ap?b:new a$(b instanceof Error?b.message:b))}},f=b&&setTimeout(()=>{f=null,e(new ap(`timeout ${b} of ms exceeded`,ap.ETIMEDOUT))},b),g=()=>{a&&(f&&clearTimeout(f),f=null,a.forEach(a=>{a.unsubscribe?a.unsubscribe(e):a.removeEventListener("abort",e)}),a=null)};a.forEach(a=>a.addEventListener("abort",e));let{signal:h}=d;return h.unsubscribe=()=>ao.asap(g),h}})([j,n&&n.toAbortSignal()],p),z=null,A=y&&y.unsubscribe&&(()=>{y.unsubscribe()});try{if(r&&k&&"get"!==h&&"head"!==h&&0!==(b=await o(u,i))){let a,c=new d(f,{method:"POST",body:i,duplex:"half"});if(ao.isFormData(i)&&(a=c.headers.get("content-type"))&&u.setContentType(a),c.body){let[a,d]=bo(b,bn(bp(r)));i=bL(c.body,65536,a,d)}}ao.isString(v)||(v=v?"include":"omit");let c=g&&"credentials"in d.prototype,j={...w,signal:y,method:h.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:c?v:void 0};z=g&&new d(f,j);let n=await (g?x(z,w):x(f,j)),p=l&&("stream"===s||"response"===s);if(l&&(q||p&&A)){let a={};["status","statusText","headers"].forEach(b=>{a[b]=n[b]});let b=ao.toFiniteNumber(n.headers.get("content-length")),[c,d]=q&&bo(b,bn(bp(q),!0))||[];n=new e(bL(n.body,65536,c,()=>{d&&d(),A&&A()}),a)}s=s||"text";let B=await m[ao.findKey(m,s)||"text"](n,a);return!p&&A&&A(),await new Promise((b,c)=>{a_(b,c,{data:B,headers:aX.from(n.headers),status:n.status,statusText:n.statusText,config:a,request:z})})}catch(b){if(A&&A(),b&&"TypeError"===b.name&&/Load failed|fetch/i.test(b.message))throw Object.assign(new ap("Network Error",ap.ERR_NETWORK,a,z),{cause:b.cause||b});throw ap.from(b,b&&b.code,a,z)}}},bS=new Map,bT=a=>{let b=a?a.env:{},{fetch:c,Request:d,Response:e}=b,f=[d,e,c],g=f.length,h,i,j=bS;for(;g--;)h=f[g],void 0===(i=j.get(h))&&j.set(h,i=g?new Map:bR(b)),j=i;return i};bT();let bU={http:bB,xhr:bH,fetch:{get:bT}};ao.forEach(bU,(a,b)=>{if(a){try{Object.defineProperty(a,"name",{value:b})}catch(a){}Object.defineProperty(a,"adapterName",{value:b})}});let bV=a=>`- ${a}`,bW=a=>ao.isFunction(a)||null===a||!1===a,bX={getAdapter:(a,b)=>{let c,d,{length:e}=a=ao.isArray(a)?a:[a],f={};for(let g=0;g<e;g++){let e;if(d=c=a[g],!bW(c)&&void 0===(d=bU[(e=String(c)).toLowerCase()]))throw new ap(`Unknown adapter '${e}'`);if(d&&(ao.isFunction(d)||(d=d.get(b))))break;f[e||"#"+g]=d}if(!d){let a=Object.entries(f).map(([a,b])=>`adapter ${a} `+(!1===b?"is not supported by the environment":"is not available in the build"));throw new ap("There is no suitable adapter to dispatch the request "+(e?a.length>1?"since :\n"+a.map(bV).join("\n"):" "+bV(a[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return d}};function bY(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new a$(null,a)}function bZ(a){return bY(a),a.headers=aX.from(a.headers),a.data=aY.call(a,a.transformRequest),-1!==["post","put","patch"].indexOf(a.method)&&a.headers.setContentType("application/x-www-form-urlencoded",!1),bX.getAdapter(a.adapter||aR.adapter,a)(a).then(function(b){return bY(a),b.data=aY.call(a,a.transformResponse,b),b.headers=aX.from(b.headers),b},function(b){return!aZ(b)&&(bY(a),b&&b.response&&(b.response.data=aY.call(a,a.transformResponse,b.response),b.response.headers=aX.from(b.response.headers))),Promise.reject(b)})}let b$={};["object","boolean","number","function","string","symbol"].forEach((a,b)=>{b$[a]=function(c){return typeof c===a||"a"+(b<1?"n ":" ")+a}});let b_={};b$.transitional=function(a,b,c){function d(a,b){return"[Axios v"+a7+"] Transitional option '"+a+"'"+b+(c?". "+c:"")}return(c,e,f)=>{if(!1===a)throw new ap(d(e," has been removed"+(b?" in "+b:"")),ap.ERR_DEPRECATED);return b&&!b_[e]&&(b_[e]=!0,console.warn(d(e," has been deprecated since v"+b+" and will be removed in the near future"))),!a||a(c,e,f)}},b$.spelling=function(a){return(b,c)=>(console.warn(`${c} is likely a misspelling of ${a}`),!0)};let b0={assertOptions:function(a,b,c){if("object"!=typeof a)throw new ap("options must be an object",ap.ERR_BAD_OPTION_VALUE);let d=Object.keys(a),e=d.length;for(;e-- >0;){let f=d[e],g=b[f];if(g){let b=a[f],c=void 0===b||g(b,f,a);if(!0!==c)throw new ap("option "+f+" must be "+c,ap.ERR_BAD_OPTION_VALUE);continue}if(!0!==c)throw new ap("Unknown option "+f,ap.ERR_BAD_OPTION)}},validators:b$},b1=b0.validators;class b2{constructor(a){this.defaults=a||{},this.interceptors={request:new aC,response:new aC}}async request(a,b){try{return await this._request(a,b)}catch(a){if(a instanceof Error){let b={};Error.captureStackTrace?Error.captureStackTrace(b):b=Error();let c=b.stack?b.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+c):a.stack=c}catch(a){}}throw a}}_request(a,b){let c,d;"string"==typeof a?(b=b||{}).url=a:b=a||{};let{transitional:e,paramsSerializer:f,headers:g}=b=bF(this.defaults,b);void 0!==e&&b0.assertOptions(e,{silentJSONParsing:b1.transitional(b1.boolean),forcedJSONParsing:b1.transitional(b1.boolean),clarifyTimeoutError:b1.transitional(b1.boolean)},!1),null!=f&&(ao.isFunction(f)?b.paramsSerializer={serialize:f}:b0.assertOptions(f,{encode:b1.function,serialize:b1.function},!0)),void 0!==b.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?b.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:b.allowAbsoluteUrls=!0),b0.assertOptions(b,{baseUrl:b1.spelling("baseURL"),withXsrfToken:b1.spelling("withXSRFToken")},!0),b.method=(b.method||this.defaults.method||"get").toLowerCase();let h=g&&ao.merge(g.common,g[b.method]);g&&ao.forEach(["delete","get","head","post","put","patch","common"],a=>{delete g[a]}),b.headers=aX.concat(h,g);let i=[],j=!0;this.interceptors.request.forEach(function(a){("function"!=typeof a.runWhen||!1!==a.runWhen(b))&&(j=j&&a.synchronous,i.unshift(a.fulfilled,a.rejected))});let k=[];this.interceptors.response.forEach(function(a){k.push(a.fulfilled,a.rejected)});let l=0;if(!j){let a=[bZ.bind(this),void 0];for(a.unshift(...i),a.push(...k),d=a.length,c=Promise.resolve(b);l<d;)c=c.then(a[l++],a[l++]);return c}d=i.length;let m=b;for(;l<d;){let a=i[l++],b=i[l++];try{m=a(m)}catch(a){b.call(this,a);break}}try{c=bZ.call(this,m)}catch(a){return Promise.reject(a)}for(l=0,d=k.length;l<d;)c=c.then(k[l++],k[l++]);return c}getUri(a){return aB(a0((a=bF(this.defaults,a)).baseURL,a.url,a.allowAbsoluteUrls),a.params,a.paramsSerializer)}}ao.forEach(["delete","get","head","options"],function(a){b2.prototype[a]=function(b,c){return this.request(bF(c||{},{method:a,url:b,data:(c||{}).data}))}}),ao.forEach(["post","put","patch"],function(a){function b(b){return function(c,d,e){return this.request(bF(e||{},{method:a,headers:b?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}b2.prototype[a]=b(),b2.prototype[a+"Form"]=b(!0)});class b3{constructor(a){let b;if("function"!=typeof a)throw TypeError("executor must be a function.");this.promise=new Promise(function(a){b=a});let c=this;this.promise.then(a=>{if(!c._listeners)return;let b=c._listeners.length;for(;b-- >0;)c._listeners[b](a);c._listeners=null}),this.promise.then=a=>{let b,d=new Promise(a=>{c.subscribe(a),b=a}).then(a);return d.cancel=function(){c.unsubscribe(b)},d},a(function(a,d,e){c.reason||(c.reason=new a$(a,d,e),b(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason)return void a(this.reason);this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;let b=this._listeners.indexOf(a);-1!==b&&this._listeners.splice(b,1)}toAbortSignal(){let a=new AbortController,b=b=>{a.abort(b)};return this.subscribe(b),a.signal.unsubscribe=()=>this.unsubscribe(b),a.signal}static source(){let a;return{token:new b3(function(b){a=b}),cancel:a}}}let b4={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(b4).forEach(([a,b])=>{b4[b]=a});let b5=function a(b){let c=new b2(b),d=E(b2.prototype.request,c);return ao.extend(d,b2.prototype,c,{allOwnKeys:!0}),ao.extend(d,c,null,{allOwnKeys:!0}),d.create=function(c){return a(bF(b,c))},d}(aR);b5.Axios=b2,b5.CanceledError=a$,b5.CancelToken=b3,b5.isCancel=aZ,b5.VERSION=a7,b5.toFormData=aw,b5.AxiosError=ap,b5.Cancel=b5.CanceledError,b5.all=function(a){return Promise.all(a)},b5.spread=function(a){return function(b){return a.apply(null,b)}},b5.isAxiosError=function(a){return ao.isObject(a)&&!0===a.isAxiosError},b5.mergeConfig=bF,b5.AxiosHeaders=aX,b5.formToJSON=a=>aQ(ao.isHTMLForm(a)?new FormData(a):a),b5.getAdapter=bX.getAdapter,b5.HttpStatusCode=b4,b5.default=b5;let b6=process.env.FILEBASE_IPFS_RPC_ENDPOINT||"https://rpc.filebase.io",b7=process.env.FILEBASE_IPFS_RPC_KEY;async function b8(a,b){let c=Date.now();try{if(!b7)throw Error("Filebase API key not configured");let d=new(D());d.append("file",a,b);let e=await b5.post(`${b6}/api/v0/add`,d,{headers:{Authorization:`Bearer ${b7}`,...d.getHeaders()},maxBodyLength:1/0,timeout:3e4}),f=Date.now()-c,g=e.data.Hash,h=parseInt(e.data.Size)||a.length;return{success:!0,cid:g,name:e.data.Name||b,size:h,duration:f}}catch(b){let a=Date.now()-c;if(b5.isAxiosError(b))return{success:!1,error:b.response?.data?.error||b.message,duration:a};return{success:!1,error:b instanceof Error?b.message:"Upload failed",duration:a}}}function b9(a){return`https://ipfs.filebase.io/ipfs/${a}`}b7||console.error("⚠️  FILEBASE_IPFS_RPC_KEY not set");var ca=c(7975),cb=c(57811);let cc=c(35401);async function cd(a,b){try{if("application/pdf"===b)return(await cc(a)).text;if("text/plain"===b||"text/csv"===b||"text/markdown"===b||"application/json"===b)return a.toString("utf-8");if("text/html"===b)return a.toString("utf-8").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();return null}catch(a){return console.error("Text extraction error:",a),null}}let ce="nodejs",cf="force-dynamic";async function cg(a){try{let b=await a.formData(),c=b.getAll("file"),d=b.get("urls"),e=d?d.split("\n").filter(Boolean).map(a=>a.trim()):[];if((!c||0===c.length)&&0===e.length)return y.NextResponse.json({error:"No files or URLs provided"},{status:400});let f=(0,aE.randomUUID)(),g=await Promise.all(c.map(async a=>{try{var b;let c=await a.arrayBuffer(),d=Buffer.from(c),e=function(a,b,c){var d;let e=A.includes(b)?{valid:!0}:{valid:!1,error:`File type "${b}" is not allowed`,errorCode:"INVALID_TYPE"};if(!e.valid)return e;let f=(d=a.length,d>0x6400000?{valid:!1,error:`File "${c}" exceeds maximum size of 100MB`,errorCode:"FILE_TOO_LARGE"}:0===d?{valid:!1,error:`File "${c}" is empty`,errorCode:"EMPTY_FILE"}:{valid:!0});if(!f.valid)return f;let g=function(a,b,c){if("text/plain"===b||"text/csv"===b||"application/vnd.ms-excel"===b)return{valid:!0};let d=B[b];return d?d.some(b=>!(a.length<b.length)&&a.subarray(0,b.length).equals(b))?{valid:!0}:{valid:!1,error:`File "${c}" content doesn't match declared type "${b}"`,errorCode:"MAGIC_BYTES_MISMATCH"}:{valid:!0}}(a,b,c);return g.valid?{valid:!0}:g}(d,a.type,a.name);if(!e.valid)return{filename:a.name,success:!1,error:e.error,errorCode:e.errorCode};let g=a.name.replace(/[^a-zA-Z0-9._-]/g,"_").replace(/_{2,}/g,"_").substring(0,255),h=await b8(d,g);if(!h.success)return{filename:a.name,success:!1,error:`Filebase upload failed: ${h.error}`,errorCode:"UPLOAD_FAILED"};let i=null;try{let b=await cd(d,a.type);b&&(i=b.replace(/\s+/g," ").replace(/[^\x20-\x7E\n]/g,"").trim().substring(0,1e5))}catch(a){console.error("Text extraction failed:",a)}return{filename:a.name,sanitizedFilename:g,success:!0,size:d.length,type:a.type,cid:h.cid,duration:h.duration,gatewayUrl:b9(h.cid),fallbackUrls:(b=h.cid,[`https://ipfs.io/ipfs/${b}`,`https://dweb.link/ipfs/${b}`,`https://cloudflare-ipfs.com/ipfs/${b}`,b9(b)]),message:"Successfully uploaded to Filebase IPFS",collectionId:f,textContent:i}}catch(b){return{filename:a.name,success:!1,error:b instanceof Error?b.message:"Processing failed",errorCode:"VALIDATION_ERROR"}}})),h=g.filter(a=>!a.success),i=g.filter(a=>a.success);if(h.length>0&&0===i.length)return y.NextResponse.json({error:"All files failed validation",results:g},{status:400});let j=[];if(e.length>0)try{j=await (0,cb.tt)(e)}catch(a){console.error("URL scraping error:",a)}if(i.length>0||j.length>0)try{await ca.z.collection.create({data:{id:f,files:{create:i.filter(a=>a.cid&&a.size&&a.type).map(a=>({cid:a.cid,filename:a.sanitizedFilename||a.filename,size:a.size,mimeType:a.type,textContent:a.textContent,indexed:!!a.textContent,indexedAt:a.textContent?new Date:null}))},links:{create:j.map(a=>({url:a.url,title:a.title,description:a.description,imageUrl:a.imageUrl,siteName:a.siteName,linkType:a.linkType}))}}})}catch(a){console.error("Database save error:",a)}return y.NextResponse.json({success:!0,message:`${i.length} file(s) and ${j.length} URL(s) processed successfully`,collectionId:f,results:g,urls:j})}catch(a){return console.error("Upload API error:",a),y.NextResponse.json({error:"Upload failed",message:a instanceof Error?a.message:"Unknown error"},{status:500})}}async function ch(){return y.NextResponse.json({status:"ok",message:"Upload API ready",maxFileSize:"100MB",allowedTypes:["PDF","Images","Videos","Text","CSV"]})}let ci=new h.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/upload/route",pathname:"/api/upload",filename:"route",bundlePath:"app/api/upload/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"/Users/chronode/Documents/zero-noise/src/app/api/upload/route.ts",nextConfigOutput:"",userland:g}),{workAsyncStorage:cj,workUnitAsyncStorage:ck,serverHooks:cl}=ci;function cm(){return(0,j.patchFetch)({workAsyncStorage:cj,workUnitAsyncStorage:ck})}async function cn(a,b,c){var d;let e="/api/upload/route";"/index"===e&&(e="/");let f=await ci.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!f)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:g,params:h,nextConfig:j,isDraftMode:y,prerenderManifest:z,routerServerContext:A,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,resolvedPathname:D}=f,E=(0,m.normalizeAppPath)(e),F=!!(z.dynamicRoutes[E]||z.routes[D]);if(F&&!y){let a=!!z.routes[D],b=z.dynamicRoutes[E];if(b&&!1===b.fallback&&!a)throw new w.NoFallbackError}let G=null;!F||ci.isDev||y||(G="/index"===(G=D)?"/":G);let H=!0===ci.isDev||!F,I=F&&!H,J=a.method||"GET",K=(0,l.getTracer)(),L=K.getActiveScopeSpan(),M={params:h,prerenderManifest:z,renderOpts:{experimental:{cacheComponents:!!j.experimental.cacheComponents,authInterrupts:!!j.experimental.authInterrupts},supportsDynamicResponse:H,incrementalCache:(0,k.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=j.experimental)?void 0:d.cacheLife,isRevalidate:I,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>ci.onRequestError(a,b,d,A)},sharedContext:{buildId:g}},N=new n.NodeNextRequest(a),O=new n.NodeNextResponse(b),P=o.NextRequestAdapter.fromNodeNextRequest(N,(0,o.signalFromNodeResponse)(b));try{let d=async c=>ci.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=K.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==p.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${J} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${J} ${a.url}`)}),f=async f=>{var g,h;let l=async({previousCacheEntry:g})=>{try{if(!(0,k.getRequestMeta)(a,"minimalMode")&&B&&C&&!g)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(f);a.fetchMetrics=M.renderOpts.fetchMetrics;let h=M.renderOpts.pendingWaitUntil;h&&c.waitUntil&&(c.waitUntil(h),h=void 0);let i=M.renderOpts.collectedTags;if(!F)return await (0,r.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,s.toNodeOutgoingHttpHeaders)(e.headers);i&&(b[v.NEXT_CACHE_TAGS_HEADER]=i),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=v.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=v.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:x.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==g?void 0:g.isStale)&&await ci.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,q.c)({isRevalidate:I,isOnDemandRevalidate:B})},A),b}},m=await ci.handleResponse({req:a,nextConfig:j,cacheKey:G,routeKind:i.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:z,isRoutePPREnabled:!1,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,responseGenerator:l,waitUntil:c.waitUntil});if(!F)return null;if((null==m||null==(g=m.value)?void 0:g.kind)!==x.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==m||null==(h=m.value)?void 0:h.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,k.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",B?"REVALIDATED":m.isMiss?"MISS":m.isStale?"STALE":"HIT"),y&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let n=(0,s.fromNodeOutgoingHttpHeaders)(m.value.headers);return(0,k.getRequestMeta)(a,"minimalMode")&&F||n.delete(v.NEXT_CACHE_TAGS_HEADER),!m.cacheControl||b.getHeader("Cache-Control")||n.get("Cache-Control")||n.set("Cache-Control",(0,u.getCacheControlHeader)(m.cacheControl)),await (0,r.I)(N,O,new Response(m.value.body,{headers:n,status:m.value.status||200})),null};L?await f(L):await K.withPropagatedContext(a.headers,()=>K.trace(p.BaseServerSpan.handleRequest,{spanName:`${J} ${a.url}`,kind:l.SpanKind.SERVER,attributes:{"http.method":J,"http.target":a.url}},f))}catch(b){if(b instanceof w.NoFallbackError||await ci.onRequestError(a,b,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,q.c)({isRevalidate:I,isOnDemandRevalidate:B})}),F)throw b;return await (0,r.I)(N,O,new Response(null,{status:500})),null}}},50876:(a,b,c)=>{a.exports=c(91013)},51313:a=>{"use strict";a.exports=Error},51455:a=>{"use strict";a.exports=require("node:fs/promises")},53053:a=>{"use strict";a.exports=require("node:diagnostics_channel")},54457:(a,b,c)=>{var d=c(60995),e=c(71249);a.exports=function(a,b,c,f){var g,h,i,j,k=c.keyedList?c.keyedList[c.index]:c.index;c.jobs[k]=(g=b,h=k,i=a[k],j=function(a,b){k in c.jobs&&(delete c.jobs[k],a?e(c):c.results[k]=b,f(a,c.results))},2==g.length?g(i,d(j)):g(i,h,d(j)))}},55511:a=>{"use strict";a.exports=require("crypto")},55591:a=>{"use strict";a.exports=require("https")},57075:a=>{"use strict";a.exports=require("node:stream")},57811:(a,b,c)=>{"use strict";c.d(b,{AG:()=>g,AY:()=>j,tt:()=>h});var d=c(75614),e=c.n(d),f=c(16767);async function g(a){let b=i(a),c=function(a){let b=a.toLowerCase();return b.includes("youtube.com")||b.includes("youtu.be")||b.includes("vimeo.com")||b.includes("dailymotion.com")||b.includes("twitch.tv")?"video":b.includes("twitter.com")||b.includes("x.com")||b.includes("facebook.com")||b.includes("instagram.com")||b.includes("linkedin.com")||b.includes("reddit.com")?"social":b.includes("medium.com")||b.includes("substack.com")||b.includes("blog.")||b.includes("/article/")||b.includes("/post/")?"article":"generic"}(b);try{if("video"===c)try{let a=await (0,f.o6)(b);return{url:b,title:a.title,description:a.description,imageUrl:a.thumbnail_url,siteName:a.provider_name,linkType:"video"}}catch(a){console.warn("oEmbed extraction failed, falling back to OpenGraph:",a)}let{result:a}=await e()({url:b});return{url:b,title:a.ogTitle||a.twitterTitle,description:a.ogDescription||a.twitterDescription,imageUrl:a.ogImage?.[0]?.url||a.twitterImage?.[0]?.url,siteName:a.ogSiteName,linkType:c}}catch(a){return console.error("URL scraping failed:",a),{url:b,title:function(a){try{let b=new URL(a),c=b.pathname.split("/").filter(Boolean);return(c[c.length-1]||b.hostname).replace(/\.[^.]+$/,"").replace(/[-_]/g," ").replace(/\b\w/g,a=>a.toUpperCase())}catch{return a}}(b),linkType:c}}}async function h(a){return(await Promise.allSettled(a.map(a=>g(a)))).filter(a=>"fulfilled"===a.status).map(a=>a.value)}function i(a){let b=a.trim();return b.match(/^https?:\/\//i)||(b=`https://${b}`),b}function j(a){try{let b=i(a);return new URL(b),!0}catch{return!1}}},57975:a=>{"use strict";a.exports=require("node:util")},59378:a=>{"use strict";a.exports=Math.pow},60995:(a,b,c)=>{var d=c(13179);a.exports=function(a){var b=!1;return d(function(){b=!0}),function(c,e){b?a(c,e):d(function(){a(c,e)})}}},61762:(a,b,c)=>{"use strict";var d=c(99197),e=c(81392),f=c(29926);a.exports=c(25425)||d.call(f,e)},62654:a=>{"use strict";a.exports=Object},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63216:a=>{"use strict";a.exports=ReferenceError},65041:(a,b,c)=>{"use strict";var d=c(3135);if(d)try{d([],"length")}catch(a){d=null}a.exports=d},66560:a=>{"use strict";a.exports=Math.abs},70141:a=>{"use strict";a.exports=TypeError},71249:a=>{a.exports=function(a){Object.keys(a.jobs).forEach(b.bind(a)),a.jobs={}};function b(a){"function"==typeof this.jobs[a]&&this.jobs[a]()}},72350:a=>{a.exports=function(a,b){var c=!Array.isArray(a),d={index:0,keyedList:c||b?Object.keys(a):null,jobs:{},results:c?{}:[],size:c?Object.keys(a).length:a.length};return b&&d.keyedList.sort(c?b:function(c,d){return b(a[c],a[d])}),d}},72662:(a,b,c)=>{"use strict";a.exports=c(62654).getPrototypeOf||null},73136:a=>{"use strict";a.exports=require("node:url")},73195:(a,b,c)=>{a.exports={parallel:c(87248),serial:c(77779),serialOrdered:c(20694)}},73429:a=>{"use strict";a.exports=require("node:util/types")},74075:a=>{"use strict";a.exports=require("zlib")},75007:a=>{"use strict";a.exports=Math.min},75919:a=>{"use strict";a.exports=require("node:worker_threads")},76760:a=>{"use strict";a.exports=require("node:path")},77030:a=>{"use strict";a.exports=require("node:net")},77598:a=>{"use strict";a.exports=require("node:crypto")},77779:(a,b,c)=>{var d=c(20694);a.exports=function(a,b,c){return d(a,b,null,c)}},78335:()=>{},78474:a=>{"use strict";a.exports=require("node:events")},78495:a=>{"use strict";var b=Object.prototype.toString,c=Math.max,d=function(a,b){for(var c=[],d=0;d<a.length;d+=1)c[d]=a[d];for(var e=0;e<b.length;e+=1)c[e+a.length]=b[e];return c},e=function(a,b){for(var c=[],d=b||0,e=0;d<a.length;d+=1,e+=1)c[e]=a[d];return c},f=function(a,b){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=b);return c};a.exports=function(a){var g,h=this;if("function"!=typeof h||"[object Function]"!==b.apply(h))throw TypeError("Function.prototype.bind called on incompatible "+h);for(var i=e(arguments,1),j=c(0,h.length-i.length),k=[],l=0;l<j;l++)k[l]="$"+l;if(g=Function("binder","return function ("+f(k,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof g){var b=h.apply(this,d(i,arguments));return Object(b)===b?b:this}return h.apply(a,d(i,arguments))}),h.prototype){var m=function(){};m.prototype=h.prototype,g.prototype=new m,m.prototype=null}return g}},79428:a=>{"use strict";a.exports=require("buffer")},79542:(a,b,c)=>{"use strict";var d,e=c(84444),f=c(65041);try{d=[].__proto__===Array.prototype}catch(a){if(!a||"object"!=typeof a||!("code"in a)||"ERR_PROTO_ACCESS"!==a.code)throw a}var g=!!d&&f&&f(Object.prototype,"__proto__"),h=Object,i=h.getPrototypeOf;a.exports=g&&"function"==typeof g.get?e([g.get]):"function"==typeof i&&function(a){return i(null==a?a:h(a))}},79551:a=>{"use strict";a.exports=require("url")},80099:a=>{"use strict";a.exports=require("node:sqlite")},81392:a=>{"use strict";a.exports=Function.prototype.apply},81630:a=>{"use strict";a.exports=require("http")},81702:(a,b,c)=>{var d=c(71249),e=c(60995);a.exports=function(a){Object.keys(this.jobs).length&&(this.index=this.size,d(this),e(a)(null,this.results))}},83997:a=>{"use strict";a.exports=require("tty")},84444:(a,b,c)=>{"use strict";var d=c(99197),e=c(70141),f=c(29926),g=c(61762);a.exports=function(a){if(a.length<1||"function"!=typeof a[0])throw new e("a function is required");return g(d,f,a)}},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},87202:a=>{"use strict";a.exports=(a,b=process.argv)=>{let c=a.startsWith("-")?"":1===a.length?"-":"--",d=b.indexOf(c+a),e=b.indexOf("--");return -1!==d&&(-1===e||d<e)}},87248:(a,b,c)=>{var d=c(54457),e=c(72350),f=c(81702);a.exports=function(a,b,c){for(var g=e(a);g.index<(g.keyedList||a).length;)d(a,b,g,function(a,b){return a?void c(a,b):0===Object.keys(g.jobs).length?void c(null,g.results):void 0}),g.index++;return f.bind(g,c)}},87594:(a,b,c)=>{"use strict";var d=c(50315);a.exports=function(){return d()&&!!Symbol.toStringTag}},87997:a=>{"use strict";a.exports=require("node:timers")},88511:(a,b,c)=>{"use strict";var d=c(96391),e=c(28354),f=c(33873),g=c(81630),h=c(55591),i=c(79551).parse,j=c(29021),k=c(27910).Stream,l=c(55511),m=c(93367),n=c(73195),o=c(39207),p=c(89303),q=c(48324);function r(a){if(!(this instanceof r))return new r(a);for(var b in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],d.call(this),a=a||{})this[b]=a[b]}e.inherits(r,d),r.LINE_BREAK="\r\n",r.DEFAULT_CONTENT_TYPE="application/octet-stream",r.prototype.append=function(a,b,c){"string"==typeof(c=c||{})&&(c={filename:c});var e=d.prototype.append.bind(this);if(("number"==typeof b||null==b)&&(b=String(b)),Array.isArray(b))return void this._error(Error("Arrays are not supported."));var f=this._multiPartHeader(a,b,c),g=this._multiPartFooter();e(f),e(b),e(g),this._trackLength(f,b,c)},r.prototype._trackLength=function(a,b,c){var d=0;null!=c.knownLength?d+=Number(c.knownLength):Buffer.isBuffer(b)?d=b.length:"string"==typeof b&&(d=Buffer.byteLength(b)),this._valueLength+=d,this._overheadLength+=Buffer.byteLength(a)+r.LINE_BREAK.length,b&&(b.path||b.readable&&p(b,"httpVersion")||b instanceof k)&&(c.knownLength||this._valuesToMeasure.push(b))},r.prototype._lengthRetriever=function(a,b){p(a,"fd")?void 0!=a.end&&a.end!=1/0&&void 0!=a.start?b(null,a.end+1-(a.start?a.start:0)):j.stat(a.path,function(c,d){if(c)return void b(c);b(null,d.size-(a.start?a.start:0))}):p(a,"httpVersion")?b(null,Number(a.headers["content-length"])):p(a,"httpModule")?(a.on("response",function(c){a.pause(),b(null,Number(c.headers["content-length"]))}),a.resume()):b("Unknown stream")},r.prototype._multiPartHeader=function(a,b,c){if("string"==typeof c.header)return c.header;var d,e=this._getContentDisposition(b,c),f=this._getContentType(b,c),g="",h={"Content-Disposition":["form-data",'name="'+a+'"'].concat(e||[]),"Content-Type":[].concat(f||[])};for(var i in"object"==typeof c.header&&q(h,c.header),h)if(p(h,i)){if(null==(d=h[i]))continue;Array.isArray(d)||(d=[d]),d.length&&(g+=i+": "+d.join("; ")+r.LINE_BREAK)}return"--"+this.getBoundary()+r.LINE_BREAK+g+r.LINE_BREAK},r.prototype._getContentDisposition=function(a,b){var c;if("string"==typeof b.filepath?c=f.normalize(b.filepath).replace(/\\/g,"/"):b.filename||a&&(a.name||a.path)?c=f.basename(b.filename||a&&(a.name||a.path)):a&&a.readable&&p(a,"httpVersion")&&(c=f.basename(a.client._httpMessage.path||"")),c)return'filename="'+c+'"'},r.prototype._getContentType=function(a,b){var c=b.contentType;return!c&&a&&a.name&&(c=m.lookup(a.name)),!c&&a&&a.path&&(c=m.lookup(a.path)),!c&&a&&a.readable&&p(a,"httpVersion")&&(c=a.headers["content-type"]),!c&&(b.filepath||b.filename)&&(c=m.lookup(b.filepath||b.filename)),!c&&a&&"object"==typeof a&&(c=r.DEFAULT_CONTENT_TYPE),c},r.prototype._multiPartFooter=function(){return(function(a){var b=r.LINE_BREAK;0===this._streams.length&&(b+=this._lastBoundary()),a(b)}).bind(this)},r.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+r.LINE_BREAK},r.prototype.getHeaders=function(a){var b,c={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(b in a)p(a,b)&&(c[b.toLowerCase()]=a[b]);return c},r.prototype.setBoundary=function(a){if("string"!=typeof a)throw TypeError("FormData boundary must be a string");this._boundary=a},r.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},r.prototype.getBuffer=function(){for(var a=new Buffer.alloc(0),b=this.getBoundary(),c=0,d=this._streams.length;c<d;c++)"function"!=typeof this._streams[c]&&(a=Buffer.isBuffer(this._streams[c])?Buffer.concat([a,this._streams[c]]):Buffer.concat([a,Buffer.from(this._streams[c])]),("string"!=typeof this._streams[c]||this._streams[c].substring(2,b.length+2)!==b)&&(a=Buffer.concat([a,Buffer.from(r.LINE_BREAK)])));return Buffer.concat([a,Buffer.from(this._lastBoundary())])},r.prototype._generateBoundary=function(){this._boundary="--------------------------"+l.randomBytes(12).toString("hex")},r.prototype.getLengthSync=function(){var a=this._overheadLength+this._valueLength;return this._streams.length&&(a+=this._lastBoundary().length),this.hasKnownLength()||this._error(Error("Cannot calculate proper length in synchronous way.")),a},r.prototype.hasKnownLength=function(){var a=!0;return this._valuesToMeasure.length&&(a=!1),a},r.prototype.getLength=function(a){var b=this._overheadLength+this._valueLength;if(this._streams.length&&(b+=this._lastBoundary().length),!this._valuesToMeasure.length)return void process.nextTick(a.bind(this,null,b));n.parallel(this._valuesToMeasure,this._lengthRetriever,function(c,d){if(c)return void a(c);d.forEach(function(a){b+=a}),a(null,b)})},r.prototype.submit=function(a,b){var c,d,e={method:"post"};return"string"==typeof a?d=q({port:(a=i(a)).port,path:a.pathname,host:a.hostname,protocol:a.protocol},e):(d=q(a,e)).port||(d.port="https:"===d.protocol?443:80),d.headers=this.getHeaders(a.headers),c="https:"===d.protocol?h.request(d):g.request(d),this.getLength((function(a,d){if(a&&"Unknown stream"!==a)return void this._error(a);if(d&&c.setHeader("Content-Length",d),this.pipe(c),b){var e,f=function(a,d){return c.removeListener("error",f),c.removeListener("response",e),b.call(this,a,d)};e=f.bind(this,null),c.on("error",f),c.on("response",e)}}).bind(this)),c},r.prototype._error=function(a){this.error||(this.error=a,this.pause(),this.emit("error",a))},r.prototype.toString=function(){return"[object FormData]"},o(r,"FormData"),a.exports=r},89303:(a,b,c)=>{"use strict";var d=Function.prototype.call,e=Object.prototype.hasOwnProperty;a.exports=c(99197).call(d,e)},90007:(a,b,c)=>{let d=c(83997),e=c(28354);b.init=function(a){a.inspectOpts={};let c=Object.keys(b.inspectOpts);for(let d=0;d<c.length;d++)a.inspectOpts[c[d]]=b.inspectOpts[c[d]]},b.log=function(...a){return process.stderr.write(e.formatWithOptions(b.inspectOpts,...a)+"\n")},b.formatArgs=function(c){let{namespace:d,useColors:e}=this;if(e){let b=this.color,e="\x1b[3"+(b<8?b:"8;5;"+b),f=`  ${e};1m${d} \u001B[0m`;c[0]=f+c[0].split("\n").join("\n"+f),c.push(e+"m+"+a.exports.humanize(this.diff)+"\x1b[0m")}else c[0]=(b.inspectOpts.hideDate?"":new Date().toISOString()+" ")+d+" "+c[0]},b.save=function(a){a?process.env.DEBUG=a:delete process.env.DEBUG},b.load=function(){return process.env.DEBUG},b.useColors=function(){return"colors"in b.inspectOpts?!!b.inspectOpts.colors:d.isatty(process.stderr.fd)},b.destroy=e.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),b.colors=[6,2,3,4,5,1];try{let a=c(22405);a&&(a.stderr||a).level>=2&&(b.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(a){}b.inspectOpts=Object.keys(process.env).filter(a=>/^debug_/i.test(a)).reduce((a,b)=>{let c=b.substring(6).toLowerCase().replace(/_([a-z])/g,(a,b)=>b.toUpperCase()),d=process.env[b];return d=!!/^(yes|on|true|enabled)$/i.test(d)||!/^(no|off|false|disabled)$/i.test(d)&&("null"===d?null:Number(d)),a[c]=d,a},{}),a.exports=c(98102)(b);let{formatters:f}=a.exports;f.o=function(a){return this.inspectOpts.colors=this.useColors,e.inspect(a,this.inspectOpts).split("\n").map(a=>a.trim()).join(" ")},f.O=function(a){return this.inspectOpts.colors=this.useColors,e.inspect(a,this.inspectOpts)}},91013:a=>{"use strict";a.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},92451:(a,b,c)=>{var d=c(27910).Stream,e=c(28354);function f(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}a.exports=f,e.inherits(f,d),f.create=function(a,b){var c=new this;for(var d in b=b||{})c[d]=b[d];c.source=a;var e=a.emit;return a.emit=function(){return c._handleEmit(arguments),e.apply(a,arguments)},a.on("error",function(){}),c.pauseStream&&a.pause(),c},Object.defineProperty(f.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),f.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},f.prototype.resume=function(){this._released||this.release(),this.source.resume()},f.prototype.pause=function(){this.source.pause()},f.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach((function(a){this.emit.apply(this,a)}).bind(this)),this._bufferedEvents=[]},f.prototype.pipe=function(){var a=d.prototype.pipe.apply(this,arguments);return this.resume(),a},f.prototype._handleEmit=function(a){if(this._released)return void this.emit.apply(this,a);"data"===a[0]&&(this.dataSize+=a[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(a)},f.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var a="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",Error(a))}}},93367:(a,b,c)=>{"use strict";var d=c(50876),e=c(33873).extname,f=/^\s*([^;\s]*)(?:;|\s|$)/,g=/^text\//i;function h(a){if(!a||"string"!=typeof a)return!1;var b=f.exec(a),c=b&&d[b[1].toLowerCase()];return c&&c.charset?c.charset:!!(b&&g.test(b[1]))&&"UTF-8"}b.charset=h,b.charsets={lookup:h},b.contentType=function(a){if(!a||"string"!=typeof a)return!1;var c=-1===a.indexOf("/")?b.lookup(a):a;if(!c)return!1;if(-1===c.indexOf("charset")){var d=b.charset(c);d&&(c+="; charset="+d.toLowerCase())}return c},b.extension=function(a){if(!a||"string"!=typeof a)return!1;var c=f.exec(a),d=c&&b.extensions[c[1].toLowerCase()];return!!d&&!!d.length&&d[0]},b.extensions=Object.create(null),b.lookup=function(a){if(!a||"string"!=typeof a)return!1;var c=e("x."+a).toLowerCase().substr(1);return!!c&&(b.types[c]||!1)},b.types=Object.create(null),function(a,b){var c=["nginx","apache",void 0,"iana"];Object.keys(d).forEach(function(e){var f=d[e],g=f.extensions;if(g&&g.length){a[e]=g;for(var h=0;h<g.length;h++){var i=g[h];if(b[i]){var j=c.indexOf(d[b[i]].source),k=c.indexOf(f.source);if("application/octet-stream"!==b[i]&&(j>k||j===k&&"application/"===b[i].substr(0,12)))continue}b[i]=e}}})}(b.extensions,b.types)},96391:(a,b,c)=>{var d=c(28354),e=c(27910).Stream,f=c(92451);function g(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}a.exports=g,d.inherits(g,e),g.create=function(a){var b=new this;for(var c in a=a||{})b[c]=a[c];return b},g.isStreamLike=function(a){return"function"!=typeof a&&"string"!=typeof a&&"boolean"!=typeof a&&"number"!=typeof a&&!Buffer.isBuffer(a)},g.prototype.append=function(a){if(g.isStreamLike(a)){if(!(a instanceof f)){var b=f.create(a,{maxDataSize:1/0,pauseStream:this.pauseStreams});a.on("data",this._checkDataSize.bind(this)),a=b}this._handleErrors(a),this.pauseStreams&&a.pause()}return this._streams.push(a),this},g.prototype.pipe=function(a,b){return e.prototype.pipe.call(this,a,b),this.resume(),a},g.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}},g.prototype._realGetNext=function(){var a=this._streams.shift();return void 0===a?void this.end():"function"!=typeof a?void this._pipeNext(a):void a((function(a){g.isStreamLike(a)&&(a.on("data",this._checkDataSize.bind(this)),this._handleErrors(a)),this._pipeNext(a)}).bind(this))},g.prototype._pipeNext=function(a){if(this._currentStream=a,g.isStreamLike(a)){a.on("end",this._getNext.bind(this)),a.pipe(this,{end:!1});return}this.write(a),this._getNext()},g.prototype._handleErrors=function(a){var b=this;a.on("error",function(a){b._emitError(a)})},g.prototype.write=function(a){this.emit("data",a)},g.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},g.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},g.prototype.end=function(){this._reset(),this.emit("end")},g.prototype.destroy=function(){this._reset(),this.emit("close")},g.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},g.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var a="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(Error(a))}},g.prototype._updateDataSize=function(){this.dataSize=0;var a=this;this._streams.forEach(function(b){b.dataSize&&(a.dataSize+=b.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},g.prototype._emitError=function(a){this._reset(),this.emit("error",a)}},96487:()=>{},97141:(a,b,c)=>{"use strict";var d="undefined"!=typeof Symbol&&Symbol,e=c(50315);a.exports=function(){return"function"==typeof d&&"function"==typeof Symbol&&"symbol"==typeof d("foo")&&"symbol"==typeof Symbol("bar")&&e()}},98102:(a,b,c)=>{a.exports=function(a){function b(a){let c,e,f,g=null;function h(...a){if(!h.enabled)return;let d=Number(new Date);h.diff=d-(c||d),h.prev=c,h.curr=d,c=d,a[0]=b.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");let e=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(c,d)=>{if("%%"===c)return"%";e++;let f=b.formatters[d];if("function"==typeof f){let b=a[e];c=f.call(h,b),a.splice(e,1),e--}return c}),b.formatArgs.call(h,a),(h.log||b.log).apply(h,a)}return h.namespace=a,h.useColors=b.useColors(),h.color=b.selectColor(a),h.extend=d,h.destroy=b.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==g?g:(e!==b.namespaces&&(e=b.namespaces,f=b.enabled(a)),f),set:a=>{g=a}}),"function"==typeof b.init&&b.init(h),h}function d(a,c){let d=b(this.namespace+(void 0===c?":":c)+a);return d.log=this.log,d}function e(a,b){let c=0,d=0,e=-1,f=0;for(;c<a.length;)if(d<b.length&&(b[d]===a[c]||"*"===b[d]))"*"===b[d]?(e=d,f=c):c++,d++;else{if(-1===e)return!1;d=e+1,c=++f}for(;d<b.length&&"*"===b[d];)d++;return d===b.length}return b.debug=b,b.default=b,b.coerce=function(a){return a instanceof Error?a.stack||a.message:a},b.disable=function(){let a=[...b.names,...b.skips.map(a=>"-"+a)].join(",");return b.enable(""),a},b.enable=function(a){for(let c of(b.save(a),b.namespaces=a,b.names=[],b.skips=[],("string"==typeof a?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===c[0]?b.skips.push(c.slice(1)):b.names.push(c)},b.enabled=function(a){for(let c of b.skips)if(e(a,c))return!1;for(let c of b.names)if(e(a,c))return!0;return!1},b.humanize=c(42095),b.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(a).forEach(c=>{b[c]=a[c]}),b.names=[],b.skips=[],b.formatters={},b.selectColor=function(a){let c=0;for(let b=0;b<a.length;b++)c=(c<<5)-c+a.charCodeAt(b)|0;return b.colors[Math.abs(c)%b.colors.length]},b.enable(b.load()),b}},98479:a=>{"use strict";a.exports=EvalError},99197:(a,b,c)=>{"use strict";var d=c(78495);a.exports=Function.prototype.bind||d}};var b=require("../../../webpack-runtime.js");b.C(a);var c=b.X(0,[586,692,412],()=>b(b.s=50866));module.exports=c})();